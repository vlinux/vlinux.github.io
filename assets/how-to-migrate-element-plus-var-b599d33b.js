import{_ as D}from"./ValaxyMain.vue_vue_type_style_index_0_lang-01eb07f5.js";import{_ as y,c as d,w as e,o as u,a as i,b as s,U as l,q as n,r as a,W as F,p as h}from"./app-84496ba8.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-8e866644.js";import"./YunCard.vue_vue_type_style_index_0_lang-1adf57e7.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-3f7b80af.js";const Us=JSON.parse('{"title":"Element Plus 的主题系统改造了哪些","description":"","frontmatter":{"title":"Element Plus 的主题系统改造了哪些","date":"2021-07-13T21:47:46.000Z","updated":"2021-07-13T21:47:46.000Z","tags":null,"categories":null},"headers":[{"level":2,"title":"变量名","slug":"变量名","link":"#变量名","children":[{"level":3,"title":"规范变量名（scss 与 css var）","slug":"规范变量名（scss-与-css-var）","link":"#规范变量名（scss-与-css-var）","children":[]},{"level":3,"title":"sass:map 组织组件变量","slug":"sass-map-组织组件变量","link":"#sass-map-组织组件变量","children":[]},{"level":3,"title":"通过 sass 自动生成 css var","slug":"通过-sass-自动生成-css-var","link":"#通过-sass-自动生成-css-var","children":[]}]},{"level":2,"title":"FAQ","slug":"faq","link":"#faq","children":[{"level":3,"title":"vite import scss 无法互相影响","slug":"vite-import-scss-无法互相影响","link":"#vite-import-scss-无法互相影响","children":[]}]},{"level":2,"title":"每天一个小细节","slug":"每天一个小细节","link":"#每天一个小细节","children":[]},{"level":2,"title":"Why Scss module","slug":"why-scss-module","link":"#why-scss-module","children":[]},{"level":2,"title":"如何覆盖模块默认变量","slug":"如何覆盖模块默认变量","link":"#如何覆盖模块默认变量","children":[]},{"level":2,"title":"构建工具 gulp","slug":"构建工具-gulp","link":"#构建工具-gulp","children":[]}],"relativePath":"pages/_drafts/how-to-migrate-element-plus-var.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/_drafts/how-to-migrate-element-plus-var.md","lastUpdated":1652271529000}'),c=JSON.parse('{"title":"Element Plus 的主题系统改造了哪些","description":"","frontmatter":{"title":"Element Plus 的主题系统改造了哪些","date":"2021-07-13T21:47:46.000Z","updated":"2021-07-13T21:47:46.000Z","tags":null,"categories":null},"headers":[{"level":2,"title":"变量名","slug":"变量名","link":"#变量名","children":[{"level":3,"title":"规范变量名（scss 与 css var）","slug":"规范变量名（scss-与-css-var）","link":"#规范变量名（scss-与-css-var）","children":[]},{"level":3,"title":"sass:map 组织组件变量","slug":"sass-map-组织组件变量","link":"#sass-map-组织组件变量","children":[]},{"level":3,"title":"通过 sass 自动生成 css var","slug":"通过-sass-自动生成-css-var","link":"#通过-sass-自动生成-css-var","children":[]}]},{"level":2,"title":"FAQ","slug":"faq","link":"#faq","children":[{"level":3,"title":"vite import scss 无法互相影响","slug":"vite-import-scss-无法互相影响","link":"#vite-import-scss-无法互相影响","children":[]}]},{"level":2,"title":"每天一个小细节","slug":"每天一个小细节","link":"#每天一个小细节","children":[]},{"level":2,"title":"Why Scss module","slug":"why-scss-module","link":"#why-scss-module","children":[]},{"level":2,"title":"如何覆盖模块默认变量","slug":"如何覆盖模块默认变量","link":"#如何覆盖模块默认变量","children":[]},{"level":2,"title":"构建工具 gulp","slug":"构建工具-gulp","link":"#构建工具-gulp","children":[]}],"relativePath":"pages/_drafts/how-to-migrate-element-plus-var.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/_drafts/how-to-migrate-element-plus-var.md","lastUpdated":1652271529000}'),C={name:"pages/_drafts/how-to-migrate-element-plus-var.md",data(){return{data:c,frontmatter:c.frontmatter}},setup(){h("pageData",c)}},A=s("p",null,"说说 Sass 预处理器",-1),m=s("p",null,"Sass VS Less VS Stylus",-1),f={id:"变量名",tabindex:"-1"},_={id:"规范变量名（scss-与-css-var）",tabindex:"-1"},g=s("ul",null,[s("li",null,[s("code",null,"-background-color"),l(" -> "),s("code",null,"-bg-color")]),s("li",null,[s("code",null,"-font-color"),l(" -> "),s("code",null,"-text-color")])],-1),v=s("p",null,"可以自定义 button 色彩，自动计算 hover active color",-1),k={id:"sass-map-组织组件变量",tabindex:"-1"},b=s("code",null,"sass:map",-1),E=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"$button"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"!default"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"})])])],-1),S={id:"通过-sass-自动生成-css-var",tabindex:"-1"},w=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// set all css var for component by map")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@mixin"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"set-component-css-var"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"$name, $--variables"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@each"),s("span",{style:{color:"#A6ACCD"}}," $attribute, $value "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"in"),s("span",{style:{color:"#A6ACCD"}}," $--variables "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    --el-"),s("span",{style:{color:"#89DDFF"}},"#{"),s("span",{style:{color:"#A6ACCD"}},"$name"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}},"-"),s("span",{style:{color:"#89DDFF"}},"#{"),s("span",{style:{color:"#A6ACCD"}},"$attribute"),s("span",{style:{color:"#89DDFF"}},"}:"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"#{"),s("span",{style:{color:"#A6ACCD"}},"$value"),s("span",{style:{color:"#89DDFF"}},"};")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// use")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@include"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"b"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"alert"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@include"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"set-component-css-var"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"alert"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},", $alert"),s("span",{style:{color:"#89DDFF"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),x={id:"faq",tabindex:"-1"},$={id:"vite-import-scss-无法互相影响",tabindex:"-1"},q=s("p",null,"比方说，在 vite 中导入 scss 文件：",-1),T=s("div",{class:"language-ts"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"a.scss"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"b.scss"),s("span",{style:{color:"#89DDFF"}},"'")]),l(`
`),s("span",{class:"line"})])])],-1),V=s("p",null,"这完全没问题。 但是 a 和 b 本质是相互独立的（好处是热加载只需编译对应的文件），如果 b 想要使用 a 中已有的变量，这该如何是好？",-1),P=s("p",null,"而 element-plus 重构了主题系统，本身很多的变量依赖与一个全局的变量文件。",-1),B=s("p",null,"譬如，修改主色调为绿色，我们自然希望 button 主色调变成绿色，而 tag 主色调也变成绿色。",-1),N=s("hr",null,null,-1),U=s("p",null,"scss 编译",-1),W=s("p",null,[s("code",null,"@use"),l(" 替代 "),s("code",null,"@import")],-1),L=s("blockquote",null,[s("p",null,"Sass 文档写到， Sass 扩展了 CSS 的 @import 规则，能够导入 Sass 和 CSS 样式表，提供对 mixin、函数和变量的访问，并将多个样式表的 CSS 组合在一起。 与需要浏览器在呈现页面时发出多个 HTTP 请求的普通 CSS 导入不同，Sass 导入完全在编译期间处理。")],-1),Q=s("div",{class:"danger"},[s("blockquote",null,[s("p",null,[l("Sass 团队不鼓励继续使用 "),s("code",null,"@import"),l(" 规则。 Sass 将在未来几年逐步淘汰它，并最终将其从语言中完全删除。 更喜欢 "),s("code",null,"@use"),l(" 规则。 （请注意，目前只有 Dart Sass 支持 "),s("code",null,"@use"),l("。其他实现的用户必须改用 "),s("code",null,"@import"),l(" 规则。）")])])],-1),Z=s("p",null,[s("code",null,"@import"),l(" 的缺点：")],-1),I=s("ul",null,[s("li",null,[s("code",null,"@import"),l(" 使所有变量、mixins 和函数都可以全局访问。 这使得人们（或工具）很难分辨出这些是在哪里定义的。")]),s("li",null,"因为一切都是全局的，lib 必须为其所有成员添加前缀以避免命名冲突。"),s("li",null,[s("code",null,"@extend"),l(" 规则也是全局的，这使得很难预测将扩展哪些样式规则。")]),s("li",null,"每次 @imported（被导入） 时都会执行每个样式表并 emitted（发出）其 CSS，这会增加编译时间并产生臃肿的输出。"),s("li",null,"无法定义下游样式表中无法访问的私有成员或占位符选择器。")],-1),M=s("p",null,[s("code",null,"@forward")],-1),O=s("blockquote",null,[s("p",null,[s("code",null,"@forward"),l(" 规则加载 Sass 样式表，并在使用 "),s("code",null,"@use"),l(" 规则加载样式表时使其 mixin、函数和变量可用。它使得跨多个文件组织 Sass 库成为可能，同时允许用户加载单个入口文件。")])],-1),J=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// packages/theme-chalk/src/date-picker.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/date-table.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/month-table.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/year-table.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/time-spinner.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/date-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/date-range-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/time-range-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@import"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/time-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"})])])],-1),j=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// packages/theme-chalk/src/date-picker.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/date-table.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/month-table.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/year-table.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/time-spinner.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/date-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/date-range-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/time-range-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"./date-picker/time-picker.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"})])])],-1),H=s("p",null,"有点绕，来一个更加明显的例子。",-1),z=s("p",null,[s("code",null,"mixins.scss"),l(" 文件中需要用到 "),s("code",null,"config.scss"),l(" 文件中的变量。 我们可以这样使用。")],-1),G=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// mixins.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@use"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"config"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," *"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"})])])],-1),K=s("p",null,[l("这时我们 "),s("code",null,"button"),l(" 组件需要用到 "),s("code",null,"mixins.scss"),l("，那么我们就可以在 "),s("code",null,"button.scss"),l(" 中引入 "),s("code",null,"mixins.scss"),l("。")],-1),R=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// button.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@use"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"mixins"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," *"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"})])])],-1),X=s("p",null,[l("此时，sass 的模块化机制会保证 "),s("code",null,"config.scss"),l(" 中的变量只能在 "),s("code",null,"mixins.scss"),l(" 中使用。"),s("code",null,"button.scss"),l(" 则无法使用。")],-1),Y=s("p",null,[l("但是 button 组件中可能也需要使用 "),s("code",null,"config.scss"),l(" 中的变量，而我们已知每个组件都导入了 "),s("code",null,"mixins.scss"),l("，我们再去在每个组件的 scss 文件中导入 "),s("code",null,"config.scss"),l(" 既麻烦，又增加了复杂性。比如以后我们需要再导入 "),s("code",null,"c"),l(),s("code",null,"d"),l(" 文件，每次都再去头部加一遍吗？")],-1),ss=s("p",null,[l("这时候我们就可以利用 "),s("code",null,"@forward"),l(" 将其转发至 "),s("code",null,"mixins.scss"),l(" 中。("),s("code",null,"@forward"),l(" 与 "),s("code",null,"@use"),l(" 是可以同时使用的)")],-1),ls=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// mixins.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"config"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@use"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"config"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," *"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"})])])],-1),es=s("p",null,[l("这时，我们的 "),s("code",null,"button.scss"),l(" 已经 "),s("code",null,'@use "mixins" as *;'),l("，那么转发的 "),s("code",null,"config"),l(" 变量也可以在 "),s("code",null,"button.scss"),l(" 中使用了。")],-1),os={id:"每天一个小细节",tabindex:"-1"},ns=s("p",null,"还有个有趣的事情是。",-1),ts=s("p",null,[s("code",null,"/* */"),l(" 书写的 scss 注释会被编译到最终产物，因为这被当作 CSS 的注释。 而 "),s("code",null,"//"),l(" 的注释方式则不会。")],-1),as=s("p",null,[l("为了保持最终产物最小，我们应当使用 "),s("code",null,"//"),l(" 注释代码，除非你希望你的注释也能显示在最终产物被大家看到。")],-1),cs={id:"why-scss-module",tabindex:"-1"},rs=s("p",null,"最开始主要是有人提了一个 Issue，想要按需加载的同时自定义主题。 通过自己按需导入 scss 的方法可以正常实现。 但是每引入一个组件，就需要自己导入 scss 很明显是不优雅的。",-1),is=s("blockquote",null,[s("p",null,[l("可以配置其中的 "),s("code",null,"useSource"),l(" 来使用 "),s("code",null,"scss"),l("。")])],-1),ps=s("p",null,[l("但这也有一个问题，unplugin-element-plus 的机制本质是拼接了一个 "),s("code",null,"import 'xxx.scss'"),l(" 的 ts 文件，这就回到了之前提到的问题，import 进来的 scss 文件之间的编译是互相独立的。 所以它们无法使用额外 scss 自定义的变量。")],-1),Ds=s("p",null,[l("而我们可以通过自定义 "),s("code",null,"vite.config.ts"),l(" 中 "),s("code",null,"scss.additionalData"),l(" 来在编译 scss 时默认带上自己设置的全局变量。")],-1),ys=s("div",{class:"language-ts"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// vite.config.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"export"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"default"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"defineConfig"),s("span",{style:{color:"#A6ACCD"}},"("),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"css"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"preprocessorOptions"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#F07178"}},"scss"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"additionalData"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},'@use "./styles/element/index.scss" as *;'),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"},")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"plugins"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," [")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#82AAFF"}},"vue"),s("span",{style:{color:"#A6ACCD"}},"()"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  ]"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}},")")]),l(`
`),s("span",{class:"line"})])])],-1),ds=s("p",null,"你以为这么简单就结束了？",-1),us=s("p",null,[l("我起初在 "),s("code",null,"additionalData"),l(" 使用了 "),s("code",null,"@import"),l(" 的方式来导入 scss 文件，这是编译就会出现问题，提示你应当将 "),s("code",null,"@use"),l(" 写在")],-1),Fs=s("hr",null,null,-1),hs={id:"如何覆盖模块默认变量",tabindex:"-1"},Cs=s("blockquote",null,[s("p",null,"With @import, libraries are often configured by setting global variables that override !default variables defined by those libraries. Because variables are no longer global with @use, it supports a more explicit way of configuring libraries: the with clause.")],-1),As=s("p",null,[s("code",null,"@use"),l(" 与 "),s("code",null,"!default"),l(" 与 "),s("code",null,"with")],-1),ms=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// common/var.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"$colors"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"!default"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"})])])],-1),fs=s("div",{class:"language-scss"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@forward"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"element-plus/theme-chalk/src/common/var.scss"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"with"),s("span",{style:{color:"#A6ACCD"}}," ($colors: (")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#82AAFF"}},"primary"),s("span",{style:{color:"#A6ACCD"}},": (")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#82AAFF"}},"base"),s("span",{style:{color:"#A6ACCD"}},": "),s("span",{style:{color:"#82AAFF"}},"green"),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  ),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},")"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"})])])],-1),_s={id:"构建工具-gulp",tabindex:"-1"},gs=s("p",null,"gulp 目前实际上是没有替代品的。",-1),vs=s("p",null,"严格上来说 gulp 并不是一个打包工具",-1),ks=s("p",null,"ts",-1),bs=s("hr",null,null,-1),Es=s("p",null,"To Be Continued.",-1);function Ss(t,ws,xs,$s,r,qs){const o=F,p=D;return u(),d(p,{frontmatter:r.frontmatter,data:r.data},{"main-content-md":e(()=>[i(" more "),A,m,s("p",null,[l("我经常举的例子就是，原先由 Less 编写的 "),n(o,{href:"https://github.com/twbs/bootstrap",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("Bootstrap")]),_:1}),l(" 改为了使用 Sass 重构。")]),s("p",null,[l("Stylus 编写的 "),n(o,{href:"https://github.com/vuetifyjs/vuetify/",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("Vuetify")]),_:1}),l(" 改为了使用 Sass 重构。")]),s("p",null,[n(o,{href:"https://github.com/element-plus/element-plus",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("Element")]),_:1}),l(" 从一开始便使用 Sass 编写。")]),s("p",null,[l("除此之外，"),n(o,{href:"https://github.com/quasarframework/quasar",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("quasar")]),_:1}),l(" 等一些知名 UI 库均采用 Sass 构建。")]),s("h2",f,[l("变量名 "),n(o,{class:"header-anchor",href:"#变量名","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),s("h3",_,[l("规范变量名（scss 与 css var） "),n(o,{class:"header-anchor",href:"#规范变量名（scss-与-css-var）","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),g,s("blockquote",null,[s("p",null,[l("与 "),n(o,{href:"https://tailwindcss.com/",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("Tailwindcss")]),_:1}),l(" 一致")])]),v,s("h3",k,[b,l(" 组织组件变量 "),n(o,{class:"header-anchor",href:"#sass-map-组织组件变量","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),E,s("h3",S,[l("通过 sass 自动生成 css var "),n(o,{class:"header-anchor",href:"#通过-sass-自动生成-css-var","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),w,s("h2",x,[l("FAQ "),n(o,{class:"header-anchor",href:"#faq","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),s("h3",$,[l("vite import scss 无法互相影响 "),n(o,{class:"header-anchor",href:"#vite-import-scss-无法互相影响","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),q,T,V,P,B,N,U,W,L,Q,Z,I,s("blockquote",null,[s("p",null,[n(o,{href:"https://sass-lang.com/documentation/at-rules/import",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("@import | Sass")]),_:1}),n(o,{href:"https://www.liquidlight.co.uk/blog/use-and-import-rules-in-scss/",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("@use and @import rules in SCSS")]),_:1})])]),M,O,J,j,H,z,G,K,R,X,Y,ss,ls,es,s("h2",os,[l("每天一个小细节 "),n(o,{class:"header-anchor",href:"#每天一个小细节","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),ns,ts,as,s("h2",cs,[l("Why Scss module "),n(o,{class:"header-anchor",href:"#why-scss-module","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),s("blockquote",null,[s("p",null,[n(o,{href:"https://css-tricks.com/introducing-sass-modules/",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("Introducing Sass Modules")]),_:1})])]),rs,s("p",null,[l("我们有一个 "),n(o,{href:"https://github.com/element-plus/unplugin-element-plus",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("unplugin-element-plus")]),_:1}),l(" 插件，可以作为 Vite/Webpack 等插件使用。")]),is,ps,Ds,ys,ds,us,Fs,s("h2",hs,[l("如何覆盖模块默认变量 "),n(o,{class:"header-anchor",href:"#如何覆盖模块默认变量","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),Cs,As,ms,fs,s("blockquote",null,[s("p",null,[n(o,{href:"https://github.com/sass/sass/blob/main/accepted/module-system.md#configuring-libraries",target:"_blank",rel:"noreferrer"},{default:e(()=>[l("Configuring Libraries | sass")]),_:1})])]),s("h2",_s,[l("构建工具 gulp "),n(o,{class:"header-anchor",href:"#构建工具-gulp","aria-hidden":"true"},{default:e(()=>[l("#")]),_:1})]),gs,vs,ks,bs,Es,i(" Q.E.D. ")]),"main-header":e(()=>[a(t.$slots,"main-header")]),"main-header-after":e(()=>[a(t.$slots,"main-header-after")]),"main-nav":e(()=>[a(t.$slots,"main-nav")]),"main-content":e(()=>[a(t.$slots,"main-content")]),"main-content-after":e(()=>[a(t.$slots,"main-content-after")]),"main-nav-before":e(()=>[a(t.$slots,"main-nav-before")]),"main-nav-after":e(()=>[a(t.$slots,"main-nav-after")]),comment:e(()=>[a(t.$slots,"comment")]),footer:e(()=>[a(t.$slots,"footer")]),aside:e(()=>[a(t.$slots,"aside")]),"aside-custom":e(()=>[a(t.$slots,"aside-custom")]),default:e(()=>[a(t.$slots,"default")]),_:3},8,["frontmatter","data"])}const Ws=y(C,[["render",Ss]]);export{Us as __pageData,Ws as default};
