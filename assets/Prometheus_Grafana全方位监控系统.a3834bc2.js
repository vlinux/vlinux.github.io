import{_ as r}from"./ValaxyMain.vue_vue_type_style_index_0_lang.2a0e4a16.js";import{_ as p,c as D,w as o,o as y,r as n,g as l,R as s,p as i}from"./app.c5e0fa2f.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.0ba221b2.js";import"./YunCard.vue_vue_type_style_index_0_lang.7143ada2.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.89fcd23b.js";const qa=JSON.parse('{"title":"Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF","description":"","frontmatter":{"title":"Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF","categories":"DevOps","tags":["Prometheus"],"date":"2020-08-30T16:38:00.000Z"},"headers":[{"level":2,"title":"Prometheus\u6982\u8FF0","slug":"prometheus\u6982\u8FF0","link":"#prometheus\u6982\u8FF0","children":[{"level":3,"title":"Prometheus\u662F\u4EC0\u4E48","slug":"prometheus\u662F\u4EC0\u4E48","link":"#prometheus\u662F\u4EC0\u4E48","children":[]},{"level":3,"title":"Prometheus\u7279\u70B9","slug":"prometheus\u7279\u70B9","link":"#prometheus\u7279\u70B9","children":[]},{"level":3,"title":"Prometheus \u7EC4\u6210\u4E0E\u67B6\u6784","slug":"prometheus-\u7EC4\u6210\u4E0E\u67B6\u6784","link":"#prometheus-\u7EC4\u6210\u4E0E\u67B6\u6784","children":[]},{"level":3,"title":"\u6570\u636E\u6A21\u578B","slug":"\u6570\u636E\u6A21\u578B","link":"#\u6570\u636E\u6A21\u578B","children":[]},{"level":3,"title":"\u6307\u6807\u7C7B\u578B","slug":"\u6307\u6807\u7C7B\u578B","link":"#\u6307\u6807\u7C7B\u578B","children":[]},{"level":3,"title":"\u4F5C\u4E1A\u548C\u5B9E\u4F8B","slug":"\u4F5C\u4E1A\u548C\u5B9E\u4F8B","link":"#\u4F5C\u4E1A\u548C\u5B9E\u4F8B","children":[]}]},{"level":2,"title":"Prometheus\u90E8\u7F72","slug":"prometheus\u90E8\u7F72","link":"#prometheus\u90E8\u7F72","children":[]},{"level":2,"title":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","slug":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","link":"#\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","children":[{"level":3,"title":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","slug":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","link":"#\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":3,"title":"scrape_configs","slug":"scrape-configs","link":"#scrape-configs","children":[]},{"level":3,"title":"relabel_configs","slug":"relabel-configs","link":"#relabel-configs","children":[]},{"level":3,"title":"\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","slug":"\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","link":"#\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","children":[]}]},{"level":2,"title":"\u76D1\u63A7\u6817\u5B50","slug":"\u76D1\u63A7\u6817\u5B50","link":"#\u76D1\u63A7\u6817\u5B50","children":[{"level":3,"title":"\u76D1\u63A7linux\u670D\u52A1\u5668","slug":"\u76D1\u63A7linux\u670D\u52A1\u5668","link":"#\u76D1\u63A7linux\u670D\u52A1\u5668","children":[]},{"level":3,"title":"\u4F7F\u7528PromSQL","slug":"\u4F7F\u7528promsql","link":"#\u4F7F\u7528promsql","children":[]},{"level":3,"title":"\u90E8\u7F72grafana","slug":"\u90E8\u7F72grafana","link":"#\u90E8\u7F72grafana","children":[]},{"level":3,"title":"\u76D1\u63A7docker","slug":"\u76D1\u63A7docker","link":"#\u76D1\u63A7docker","children":[]},{"level":3,"title":"\u76D1\u63A7mysql","slug":"\u76D1\u63A7mysql","link":"#\u76D1\u63A7mysql","children":[]}]},{"level":2,"title":"alertmanager","slug":"alertmanager","link":"#alertmanager","children":[{"level":3,"title":"\u90E8\u7F72alertmanager","slug":"\u90E8\u7F72alertmanager","link":"#\u90E8\u7F72alertmanager","children":[]},{"level":3,"title":"\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","slug":"\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","link":"#\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","children":[]},{"level":3,"title":"\u544A\u8B66\u72B6\u6001","slug":"\u544A\u8B66\u72B6\u6001","link":"#\u544A\u8B66\u72B6\u6001","children":[]},{"level":3,"title":"\u544A\u8B66\u7684\u5206\u914D","slug":"\u544A\u8B66\u7684\u5206\u914D","link":"#\u544A\u8B66\u7684\u5206\u914D","children":[]},{"level":3,"title":"\u544A\u8B66\u6536\u655B","slug":"\u544A\u8B66\u6536\u655B","link":"#\u544A\u8B66\u6536\u655B","children":[]}]},{"level":2,"title":"\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","slug":"\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","link":"#\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","children":[]}],"relativePath":"pages/posts/Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF.md","lastUpdated":0}'),a=JSON.parse('{"title":"Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF","description":"","frontmatter":{"title":"Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF","categories":"DevOps","tags":["Prometheus"],"date":"2020-08-30T16:38:00.000Z"},"headers":[{"level":2,"title":"Prometheus\u6982\u8FF0","slug":"prometheus\u6982\u8FF0","link":"#prometheus\u6982\u8FF0","children":[{"level":3,"title":"Prometheus\u662F\u4EC0\u4E48","slug":"prometheus\u662F\u4EC0\u4E48","link":"#prometheus\u662F\u4EC0\u4E48","children":[]},{"level":3,"title":"Prometheus\u7279\u70B9","slug":"prometheus\u7279\u70B9","link":"#prometheus\u7279\u70B9","children":[]},{"level":3,"title":"Prometheus \u7EC4\u6210\u4E0E\u67B6\u6784","slug":"prometheus-\u7EC4\u6210\u4E0E\u67B6\u6784","link":"#prometheus-\u7EC4\u6210\u4E0E\u67B6\u6784","children":[]},{"level":3,"title":"\u6570\u636E\u6A21\u578B","slug":"\u6570\u636E\u6A21\u578B","link":"#\u6570\u636E\u6A21\u578B","children":[]},{"level":3,"title":"\u6307\u6807\u7C7B\u578B","slug":"\u6307\u6807\u7C7B\u578B","link":"#\u6307\u6807\u7C7B\u578B","children":[]},{"level":3,"title":"\u4F5C\u4E1A\u548C\u5B9E\u4F8B","slug":"\u4F5C\u4E1A\u548C\u5B9E\u4F8B","link":"#\u4F5C\u4E1A\u548C\u5B9E\u4F8B","children":[]}]},{"level":2,"title":"Prometheus\u90E8\u7F72","slug":"prometheus\u90E8\u7F72","link":"#prometheus\u90E8\u7F72","children":[]},{"level":2,"title":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","slug":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","link":"#\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","children":[{"level":3,"title":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","slug":"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","link":"#\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":3,"title":"scrape_configs","slug":"scrape-configs","link":"#scrape-configs","children":[]},{"level":3,"title":"relabel_configs","slug":"relabel-configs","link":"#relabel-configs","children":[]},{"level":3,"title":"\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","slug":"\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","link":"#\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","children":[]}]},{"level":2,"title":"\u76D1\u63A7\u6817\u5B50","slug":"\u76D1\u63A7\u6817\u5B50","link":"#\u76D1\u63A7\u6817\u5B50","children":[{"level":3,"title":"\u76D1\u63A7linux\u670D\u52A1\u5668","slug":"\u76D1\u63A7linux\u670D\u52A1\u5668","link":"#\u76D1\u63A7linux\u670D\u52A1\u5668","children":[]},{"level":3,"title":"\u4F7F\u7528PromSQL","slug":"\u4F7F\u7528promsql","link":"#\u4F7F\u7528promsql","children":[]},{"level":3,"title":"\u90E8\u7F72grafana","slug":"\u90E8\u7F72grafana","link":"#\u90E8\u7F72grafana","children":[]},{"level":3,"title":"\u76D1\u63A7docker","slug":"\u76D1\u63A7docker","link":"#\u76D1\u63A7docker","children":[]},{"level":3,"title":"\u76D1\u63A7mysql","slug":"\u76D1\u63A7mysql","link":"#\u76D1\u63A7mysql","children":[]}]},{"level":2,"title":"alertmanager","slug":"alertmanager","link":"#alertmanager","children":[{"level":3,"title":"\u90E8\u7F72alertmanager","slug":"\u90E8\u7F72alertmanager","link":"#\u90E8\u7F72alertmanager","children":[]},{"level":3,"title":"\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","slug":"\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","link":"#\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","children":[]},{"level":3,"title":"\u544A\u8B66\u72B6\u6001","slug":"\u544A\u8B66\u72B6\u6001","link":"#\u544A\u8B66\u72B6\u6001","children":[]},{"level":3,"title":"\u544A\u8B66\u7684\u5206\u914D","slug":"\u544A\u8B66\u7684\u5206\u914D","link":"#\u544A\u8B66\u7684\u5206\u914D","children":[]},{"level":3,"title":"\u544A\u8B66\u6536\u655B","slug":"\u544A\u8B66\u6536\u655B","link":"#\u544A\u8B66\u6536\u655B","children":[]}]},{"level":2,"title":"\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","slug":"\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","link":"#\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","children":[]}],"relativePath":"pages/posts/Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF.md","lastUpdated":0}'),F={name:"pages/posts/Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF.md",data(){return{data:a,frontmatter:a.frontmatter}},setup(){i("pageData",a)}},C=l("h1",{id:"prometheus-grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF",tabindex:"-1"},[s("Prometheus+Grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF "),l("a",{class:"header-anchor",href:"#prometheus-grafana\u5168\u65B9\u4F4D\u76D1\u63A7\u7CFB\u7EDF","aria-hidden":"true"},"#")],-1),A=l("p",null,[l("code",null,"emmm"),s("\uFF0C\u524D\u6BB5\u65F6\u95F4\u5199\u4E86\u4E00\u7BC7\u5173\u4E8E\u4F7F\u7528"),l("code",null,"Prometheus+grafana+node-exporter"),s("\u76D1\u63A7"),l("code",null,"k8s"),s("\u7684\u6587\u7AE0\uFF0C\u90A3\u7BC7\u5199\u7684\u5F88\u7B80\u5355\uFF0C\u53EA\u662F\u5355\u7EAF\u7684\u642D\u5EFA\u51FA\u6765\u4E86\uFF0C\u76EE\u524D\u6211\u5BF9\u8FD9\u4E1C\u897F\u4E00\u70B9\u90FD\u4E0D\u4E86\u89E3\uFF0C\u6240\u4EE5\u5148\u6765\u4E86\u89E3\u4E00\u4E0B"),l("code",null,"Prometheus"),s("\u548C\u4ED6\u5E38\u7528\u7684\u7EC4\u4EF6\u5427\uFF0C\u5305\u62EC"),l("code",null,"Prometheus/Grafana/node-exports/Alertmanager"),s("\uFF0C\u5F00\u59CB\u5427\u3002")],-1),u=l("p",null,[s("\u672C\u6587\u5305\u62EC"),l("code",null,"Prometheus"),s("\u6982\u8FF0\u3001\u90E8\u7F72\u3001\u914D\u7F6E\u3001\u76D1\u63A7\u3001\u544A\u8B66\u3001\u4E4B\u524D\u6211\u505A\u76D1\u63A7\u7528\u7684\u90FD\u662F"),l("code",null,"zabbix"),s("\uFF0C"),l("code",null,"zabbix"),s("\u4E5F\u7B97\u662F\u4E00\u4E2A\u5168\u9762\u578B\u7684\u76D1\u63A7\u7CFB\u7EDF\uFF0C\u4F46\u662F\u4ED6\u4E0D\u592A\u9002\u5408\u5BB9\u5668\u76D1\u63A7\uFF0C\u4ED6\u5BF9\u5BB9\u5668\u76D1\u63A7\u96C6\u6210\u6B20\u7F3A\u5F88\u591A\uFF0C\u4ED6\u6BD4\u8F83\u504F\u5411\u4E8E\u975E\u5BB9\u5668\u76D1\u63A7\u3002")],-1),d=l("p",null,[l("code",null,"Prometheus"),s("\u7B97\u662F\u4E00\u4E2A\u5168\u80FD\u578B\u9009\u624B\uFF0C\u539F\u751F\u652F\u6301\u5BB9\u5668\u76D1\u63A7\uFF0C\u5F53\u7136\u76D1\u63A7\u4F20\u7EDF\u5E94\u7528\u4E5F\u4E0D\u662F\u5403\u5E72\u996D\u7684\uFF0C\u6240\u4EE5\u5C31\u662F\u5BB9\u5668\u548C\u975E\u5BB9\u5668\u4ED6\u90FD\u652F\u6301\uFF0C\u6240\u6709\u7684\u76D1\u63A7\u7CFB\u7EDF\u90FD\u5177\u5907\u8FD9\u4E2A\u6D41\u7A0B\uFF0C\u6570\u636E\u91C7\u96C6\u2192\u6570\u636E\u5904\u7406\u2192\u6570\u636E\u5B58\u50A8\u2192\u6570\u636E\u5C55\u793A\u2192\u544A\u8B66\uFF0C\u672C\u6587\u5C31\u662F\u9488\u5BF9"),l("code",null,"Prometheus"),s("\u5C55\u5F00\u7684\uFF0C\u6240\u4EE5\u5148\u770B\u770B"),l("code",null,"Prometheus"),s("\u6982\u8FF0")],-1),m=l("h2",{id:"prometheus\u6982\u8FF0",tabindex:"-1"},[s("Prometheus\u6982\u8FF0 "),l("a",{class:"header-anchor",href:"#prometheus\u6982\u8FF0","aria-hidden":"true"},"#")],-1),g=l("p",null,[s("\u5148\u6765\u770B\u4E00\u4E0B"),l("code",null,"Prometheus"),s("\u662F\u4E2A\u5565")],-1),h=l("h3",{id:"prometheus\u662F\u4EC0\u4E48",tabindex:"-1"},[s("Prometheus\u662F\u4EC0\u4E48 "),l("a",{class:"header-anchor",href:"#prometheus\u662F\u4EC0\u4E48","aria-hidden":"true"},"#")],-1),_=l("p",null,[s("\u4E2D\u6587\u540D\u666E\u7F57\u7C73\u4FEE\u65AF\uFF0C\u6700\u521D\u5728"),l("code",null,"SoundCloud"),s("\u4E0A\u6784\u5EFA\u7684\u76D1\u63A7\u7CFB\u7EDF\uFF0C\u81EA"),l("code",null,"2012"),s("\u5E74\u6210\u4E3A\u793E\u533A\u5F00\u6E90\u9879\u76EE\uFF0C\u7528\u6237\u975E\u5E38\u6D3B\u8DC3\u7684\u5F00\u53D1\u4EBA\u5458\u548C\u7528\u6237\u793E\u533A\uFF0C2016\u5E74\u52A0\u5165"),l("code",null,"CNCF"),s("\uFF0C\u6210\u4E3A\u7EE7"),l("code",null,"kubernetes"),s("\u4E4B\u540E\u7684\u7B2C\u4E8C\u4E2A\u6258\u7BA1\u9879\u76EE\uFF0C"),l("a",{href:"https://prometheus.io/",target:"_blank",rel:"noreferrer"},"\u5B98\u65B9\u7F51\u7AD9")],-1),b=l("h3",{id:"prometheus\u7279\u70B9",tabindex:"-1"},[s("Prometheus\u7279\u70B9 "),l("a",{class:"header-anchor",href:"#prometheus\u7279\u70B9","aria-hidden":"true"},"#")],-1),E=l("p",null,"\u5B98\u65B9\u6252\u8FC7\u6765\u7684",-1),v=l("ul",null,[l("li",null,"\u591A\u7EF4\u6570\u636E\u6A21\u578B\uFF1A\u7531\u5EA6\u91CF\u540D\u79F0\u548C\u952E\u503C\u5BF9\u6807\u8BC6\u7684\u65F6\u95F4\u5E8F\u5217\u6570\u636E"),l("li",null,"PromSQL: \u2014\u79CD\u7075\u6D3B\u7684\u67E5\u8BE2\u8BED\u8A00\uFF0C\u53EF\u4EE5\u5229\u7528\u591A\u7EF4\u6570\u636E\u5B8C\u6210\u590D\u6742\u7684\u67E5\u8BE2"),l("li",null,"\u4E0D\u4F9D\u8D56\u5206\u5E03\u5F0F\u5B58\u50A8\uFF0C\u5355\u4E2A\u670D\u52A1\u5668\u8282\u70B9\u53EF\u76F4\u63A5\u5DE5\u4F5C"),l("li",null,"\u57FA\u4E8EHTTP\u7684pull\u65B9\u5F0F\u91C6\u96C6\u65F6\u95F4\u5E8F\u5217\u6570\u636E"),l("li",null,"\u63A8\u9001\u65F6\u95F4\u5E8F\u5217\u6570\u636E\u901A\u8FC7PushGateway\u7EC4\u4EF6\u652F\u6301"),l("li",null,"\u901A\u8FC7\u670D\u52A1\u53D1\u73B0\u6216\u9759\u6001\u914D\u7F5D\u53D1\u73B0\u76EE\u6807"),l("li",null,"\u591A\u79CD\u56FE\u5F62\u6A21\u5F0F\u53CA\u4EEA\u8868\u76D8\u652F\u6301(grafana)")],-1),x=l("h3",{id:"prometheus-\u7EC4\u6210\u4E0E\u67B6\u6784",tabindex:"-1"},[s("Prometheus \u7EC4\u6210\u4E0E\u67B6\u6784 "),l("a",{class:"header-anchor",href:"#prometheus-\u7EC4\u6210\u4E0E\u67B6\u6784","aria-hidden":"true"},"#")],-1),f=l("p",null,"\u6765\u770B\u4E00\u5F20\u56FE\uFF0C\u5B98\u65B9\u6252\u5230\u7684",-1),w=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190702133835.png#mirages-width=774&mirages-height=462&mirages-cdn-type=5",alt:"20190702133835"})],-1),k=l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"\u540D\u79F0"),l("th",null,"\u8BF4\u660E")])]),l("tbody",null,[l("tr",null,[l("td",null,"Prometheus Server"),l("td",null,"\u6536\u96C6\u6307\u6807\u548C\u5B58\u50A8\u65F6\u95F4\u5E8F\u5217\u6570\u636E\uFF0C\u5E76\u63D0\u4F9B\u67E5\u8BE2\u63A5\u53E3")]),l("tr",null,[l("td",null,"Push Gateway"),l("td",null,"\u77ED\u671F\u5B58\u50A8\u6307\u6807\u6570\u636E\uFF0C\u4E3B\u8981\u7528\u4E8E\u4E34\u65F6\u6027\u4EFB\u52A1")]),l("tr",null,[l("td",null,"Exporters"),l("td",null,"\u91C7\u96C6\u5DF2\u6709\u7684\u4E09\u65B9\u670D\u52A1\u76D1\u63A7\u6307\u6807\u5E76\u66B4\u9732metrics")]),l("tr",null,[l("td",null,"Alertmanager"),l("td",null,"\u544A\u8B66")]),l("tr",null,[l("td",null,"Web UI"),l("td",null,"\u7B80\u5355\u7684WEB\u63A7\u5236\u53F0")])])],-1),q=l("p",null,"\u96C6\u6210\u4E86\u6570\u636E\u7684\u91C7\u96C6\uFF0C\u5904\u7406\uFF0C\u5B58\u50A8\uFF0C\u5C55\u793A\uFF0C\u544A\u8B66\u4E00\u7CFB\u5217\u6D41\u7A0B\u90FD\u5DF2\u7ECF\u5177\u5907\u4E86",-1),P=l("h3",{id:"\u6570\u636E\u6A21\u578B",tabindex:"-1"},[s("\u6570\u636E\u6A21\u578B "),l("a",{class:"header-anchor",href:"#\u6570\u636E\u6A21\u578B","aria-hidden":"true"},"#")],-1),j=l("p",null,[l("code",null,"Prometheus"),s("\u5C06\u6240\u6709\u6570\u636E\u5B58\u50A8\u4E3A\u65F6\u95F4\u5E8F\u5217\uFF0C\u5177\u6709\u76F8\u540C\u5EA6\u91CF\u540D\u79F0\u4EE5\u53CA\u6807\u7B7E\u5C5E\u4E8E\u540C\u4E2A\u6307\u6807\uFF0C\u4E5F\u5C31\u662F\u8BF4"),l("code",null,"Prometheus"),s("\u4ECE\u6570\u636E\u6E90\u62FF\u5230\u6570\u636E\u4E4B\u540E\u90FD\u4F1A\u5B58\u5230\u5185\u7F6E\u7684"),l("code",null,"TSDB"),s("\u4E2D\uFF0C\u8FD9\u91CC\u5B58\u50A8\u7684\u5C31\u662F\u65F6\u95F4\u5E8F\u5217\u6570\u636E\uFF0C\u5B83\u5B58\u50A8\u7684\u6570\u636E\u4F1A\u6709\u4E00\u4E2A\u5EA6\u91CF\u540D\u79F0\uFF0C\u8B6C\u5982\u4F60\u73B0\u5728\u76D1\u63A7\u4E00\u4E2A"),l("code",null,"nginx"),s("\uFF0C\u9996\u5148\u4F60\u8981\u7ED9\u4ED6\u8D77\u4E2A\u540D\u5B57\uFF0C\u8FD9\u4E2A\u540D\u79F0\u4E5F\u5C31\u662F\u5EA6\u91CF\u540D\uFF0C\u8FD8\u4F1A\u6709"),l("code",null,"N"),s("\u4E2A\u6807\u7B7E\uFF0C\u4F60\u53EF\u4EE5\u7406\u89E3\u540D\u79F0\u4E3A\u8868\u540D\uFF0C\u6807\u7B7E\u4E3A\u5B57\u6BB5\uFF0C\u6240\u4EE5\uFF0C\u6BCF\u4E2A\u65F6\u95F4\u5E8F\u5217\u90FD\u7531\u5EA6\u91CF\u6807\u51C6\u540D\u79F0\u548C\u4E00\u7EC4\u952E\u503C\u5BF9(\u4E5F\u79F0\u4E3A\u6807\u7B7E)\u552F\u4E00\u6807\u8BC6\u3002")],-1),S=l("p",null,"\u65F6\u95F4\u5E8F\u5217\u7684\u683C\u5F0F\u662F\u8FD9\u6837\u7684\uFF0C",-1),$=l("div",{class:"language-"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"<metrice name> {<label name>=<label value>,...}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}})])])])],-1),U=l("p",null,[l("code",null,"metrice name"),s("\u6307\u7684\u5C31\u662F\u5EA6\u91CF\u6807\u51C6\u540D\u79F0\uFF0C"),l("code",null,"label name"),s("\u4E5F\u5C31\u662F\u6807\u7B7E\u540D\uFF0C\u8FD9\u4E2A\u6807\u7B7E\u53EF\u4EE5\u6709\u591A\u4E2A\uFF0C\u6817\u5B50")],-1),T=l("div",{class:"language-"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},'nginx_http_access{method="GET",uri="/index.html"}')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}})])])])],-1),I=l("p",null,[s("\u8FD9\u4E2A\u5EA6\u91CF\u540D\u79F0\u4E3A"),l("code",null,"nginx_http_access"),s("\uFF0C\u540E\u9762\u662F\u4E24\u4E2A\u6807\u7B7E\uFF0C\u548C\u4ED6\u4EEC\u5404\u5BF9\u5E94\u7684\u503C\uFF0C\u5F53\u7136\u4F60\u8FD8\u53EF\u4EE5\u7EE7\u7EED\u6307\u5B9A\u6807\u7B7E\uFF0C\u4F60\u6307\u5B9A\u7684\u6807\u7B7E\u8D8A\u591A\u67E5\u8BE2\u7684\u7EF4\u5EA6\u5C31\u8D8A\u591A\u3002")],-1),O=l("h3",{id:"\u6307\u6807\u7C7B\u578B",tabindex:"-1"},[s("\u6307\u6807\u7C7B\u578B "),l("a",{class:"header-anchor",href:"#\u6307\u6807\u7C7B\u578B","aria-hidden":"true"},"#")],-1),N=l("p",null,"\u770B\u8868\u683C\u5427",-1),B=l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"\u7C7B\u578B\u540D\u79F0"),l("th",null,"\u8BF4\u660E")])]),l("tbody",null,[l("tr",null,[l("td",null,"Counter"),l("td",null,"\u9012\u589E\u8BA1\u6570\u5668\uFF0C\u9002\u5408\u6536\u96C6\u63A5\u53E3\u8BF7\u6C42\u6B21\u6570")]),l("tr",null,[l("td",null,"Guage"),l("td",null,"\u53EF\u4EE5\u4EFB\u610F\u53D8\u5316\u7684\u6570\u503C\uFF0C\u9002\u7528CPU\u4F7F\u7528\u7387")]),l("tr",null,[l("td",null,"Histogram"),l("td",null,"\u5BF9\u4E00\u6BB5\u65F6\u95F4\u5185\u6570\u636E\u8FDB\u884C\u91C7\u96C6\uFF0C\u5E76\u5BF9\u6709\u6240\u6570\u503C\u6C42\u548C\u4E8E\u7EDF\u8BA1\u6570\u91CF")]),l("tr",null,[l("td",null,"Summary"),l("td",null,"\u4E0EHistogram\u7C7B\u578B\u7C7B\u4F3C")])])],-1),G=l("h3",{id:"\u4F5C\u4E1A\u548C\u5B9E\u4F8B",tabindex:"-1"},[s("\u4F5C\u4E1A\u548C\u5B9E\u4F8B "),l("a",{class:"header-anchor",href:"#\u4F5C\u4E1A\u548C\u5B9E\u4F8B","aria-hidden":"true"},"#")],-1),z=l("p",null,[s("\u5B9E\u4F8B\u6307\u7684\u5C31\u662F\u4F60\u53EF\u4EE5\u6293\u53D6\u7684\u76EE\u6807\uFF0C\u8FD9\u4E2A\u4F1A\u5728"),l("code",null,"Prometheus "),s("\u914D\u7F6E\u6587\u4EF6\u4E2D\u63D0\u73B0\uFF0C\u4F5C\u4E1A\u662F\u5177\u6709\u76F8\u540C\u76EE\u6807\u7684\u5B9E\u4F8B\u96C6\u5408\u79F0\u4E3A\u4F5C\u4E1A\uFF0C\u4F60\u53EF\u4EE5\u7406\u89E3\u4E3A\u662F\u4E00\u4E2A\u7EC4\uFF0C\u4E00\u4F1A\u5199\u914D\u7F6E\u6587\u4EF6\u7684\u65F6\u5019\u4F1A\u8BE6\u7EC6\u89E3\u6790\uFF0C\u4E0B\u9762\u5F00\u59CB\u5B89\u88C5"),l("code",null,"Prometheus"),s("\u3002")],-1),M=l("h2",{id:"prometheus\u90E8\u7F72",tabindex:"-1"},[s("Prometheus\u90E8\u7F72 "),l("a",{class:"header-anchor",href:"#prometheus\u90E8\u7F72","aria-hidden":"true"},"#")],-1),L=l("p",null,[s("\u5148\u901A\u8FC7\u4E8C\u8FDB\u5236\u6765\u90E8\u7F72"),l("code",null,"Prometheus"),s("\u5427\uFF0C"),l("a",{href:"https://github.com/prometheus/prometheus/releases",target:"_blank",rel:"noreferrer"},"\u4E0B\u8F7D\u5730\u5740"),s("\uFF0C\u6211\u4EEC\u8981\u4E0B\u8F7D\u670D\u52A1\u7AEF\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E2A\u5305")],-1),R=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190702152359.png#mirages-width=1214&mirages-height=339&mirages-cdn-type=5",alt:"20190702152359"})],-1),Q=l("p",null,"\u6211\u5728\u670D\u52A1\u5668\u4E0A\u76F4\u63A5\u4E0B\u8F7D\u4E86\uFF0C\u4E0B\u8F7D\u5B8C\u540E\u89E3\u538B\u79FB\u52A8\u5230\u522B\u7684\u76EE\u5F55\u3002",-1),W=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# wget https://github.com/prometheus/prometheus/releases/download/v2.10.0/prometheus-2.10.0.linux-amd64.tar.gz")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# tar zxf prometheus-2.10.0.linux-amd64.tar.gz ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# mv prometheus-2.10.0.linux-amd64 /usr/local/prometheus")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# cd /usr/local/prometheus/ && ls")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"console_libraries  consoles  LICENSE  NOTICE  prometheus  prometheus.yml  promtool")]),s(`
`),l("span",{class:"line"})])])],-1),H=l("p",null,[s("\u5148\u914D\u7F6E\u4E00\u4E0B\u76D1\u63A7\u672C\u673A\u5427\uFF0C\u5B83\u9ED8\u8BA4\u7684\u914D\u7F6E\u6587\u4EF6\u662F"),l("code",null,"prometheus.yml"),s("\uFF0C\u5DF2\u7ECF\u914D\u7F6E\u597D\u4E86\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E00\u6BB5\uFF0C")],-1),K=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"prometheus"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#676E95"}},"# metrics_path defaults to '/metrics'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"    "),l("span",{style:{color:"#676E95"}},"# scheme defaults to 'http'.")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),V=l("p",null,[l("code",null,"targets"),s("\u5C31\u662F\u4E00\u4E2A\u4F5C\u4E1A\uFF0C\u4E5F\u5C31\u662F\u88AB\u76D1\u63A7\u7AEF\uFF0C\u76D1\u63A7\u672C\u673A\u7684"),l("code",null,"9090"),s("\u7AEF\u53E3\uFF0C\u542F\u52A8\u9009\u9879\u4E5F\u6709\u5F88\u591A\uFF0C\u4E86\u89E3\u4E00\u4E0B\uFF0C\u4E3B\u8981\u662F\u5173\u6CE8\u4E24\u70B9\uFF0C\u5206\u522B\u5982\u4E0B\u3002")],-1),J=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      --storage.tsdb.path="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"data/"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"   "),l("span",{style:{color:"#676E95"}},"##\u5B58\u50A8\u6570\u636E\u7684\u76EE\u5F55\uFF0C\u9ED8\u8BA4/data")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      --storage.tsdb.retention.time "),l("span",{style:{color:"#676E95"}},"##\u6570\u636E\u5B58\u50A8\u65F6\u95F4\uFF0C\u9ED8\u8BA415\u5929")]),s(`
`),l("span",{class:"line"})])])],-1),Y=l("p",null,[s("\u8FD9\u91CC\u63D0\u4E00\u4E0B\u5B58\u50A8\u7684\u95EE\u9898\uFF0C"),l("code",null,"TSDB"),s("\u4E0D\u592A\u9002\u5408\u957F\u671F\u53BB\u5B58\u50A8\u6570\u636E\uFF0C\u6570\u636E\u91CF\u5927\u4E86\u652F\u6301\u5E76\u4E0D\u662F\u5F88\u597D\uFF0C\u5B98\u65B9\u58F0\u660E\u4E5F\u662F\u4E0D\u4F1A\u5BF9\u8FD9\u4E00\u5757\u5B58\u50A8\u8FDB\u884C\u6539\u5584\uFF0C\u7ED9\u4F60\u7684\u5EFA\u8BAE\u662F\u4F7F\u7528\u5916\u90E8\u5B58\u50A8\uFF0C\u8B6C\u5982\u4F7F\u7528"),l("code",null,"InfluxDB"),s("\uFF0C\u8FD9\u91CC\u6682\u65F6\u5C31\u4E0D\u6539\u4ED6\u7684\u9ED8\u8BA4\u5B58\u50A8\u4E86\uFF0C\u628A\u4ED6\u8FDB\u5165\u7CFB\u7EDF\u670D\u52A1\u5427\uFF0C\u5199\u4E00\u4E2A"),l("code",null,"systemd"),s("\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u76F4\u63A5\u542F\u52A8\u4E86")],-1),Z=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# cat > /usr/lib/systemd/system/prometheus.service <<OEF ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Unit"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," Description=prometheus server daemon")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Service"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," Restart=on-failure")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ExecStart=/usr/local/prometheus/prometheus --config.file=/usr/local/prometheus/prometheus.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Install"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," WantedBy=multi-user.target")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," OEF")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# systemctl daemon-reload && systemctl start prometheus.service")]),s(`
`),l("span",{class:"line"})])])],-1),X=l("p",null,[s("\u8FD9\u6837\u5C31\u542F\u52A8\u4E86\u6492\uFF0C\u53BB\u8BBF\u95EE"),l("code",null,"9090"),s("\u7AEF\u53E3\u5C31\u53EF\u4EE5\u770B\u5230\u9875\u9762\u4E86\uFF0C\u8FD9\u4E2A\u9875\u9762\u80FD\u770B\u5230\u7684\u4E1C\u897F\u5F88\u591A\uFF0C\u81EA\u5DF1\u70B9\u70B9\u770B\u5427\uFF0C\u80FD\u770B\u5230\u8FD9\u4E2A\u9875\u9762\u5C31\u8868\u793A\u83AB\u5F97\u95EE\u9898\u3002")],-1),ll=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190702163712.png#mirages-width=1845&mirages-height=454&mirages-cdn-type=5",alt:"20190702163712"})],-1),sl=l("p",null,"\u76EE\u524D\u4F7F\u7528\u4E8C\u8FDB\u5236\u90E8\u7F72\u4E3B\u8981\u662F\u56E0\u4E3A\u65B9\u4FBF\u6539\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E0B\u9762\u5F00\u59CB\u770B\u914D\u7F6E\u6587\u4EF6\u3002",-1),ol=l("h2",{id:"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD",tabindex:"-1"},[s("\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD "),l("a",{class:"header-anchor",href:"#\u5168\u5C40\u914D\u7F6E\u6587\u4EF6\u4ECB\u7ECD","aria-hidden":"true"},"#")],-1),el=l("p",null,[l("code",null,"prometheus"),s(" \u5DF2\u7ECF\u5B89\u88C5\u8D77\u6765\u4E86\uFF0C\u4E0B\u9762\u770B\u4E00\u4E0B\u914D\u7F6E\u6587\u4EF6\u4E0E\u6838\u5FC3\u529F\u80FD\uFF0C\u5F88\u591A\u529F\u80FD\u90FD\u662F\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u53BB\u5B9E\u73B0\u7684\uFF0C\u6BD4\u8F83\u591A\uFF0C\u6240\u4EE5\u5148\u719F\u6089\u4E00\u4E0B\u4ED6\u7684\u914D\u7F6E\u6587\u4EF6\u3002")],-1),nl=l("h3",{id:"\u5168\u5C40\u914D\u7F6E\u6587\u4EF6",tabindex:"-1"},[s("\u5168\u5C40\u914D\u7F6E\u6587\u4EF6 "),l("a",{class:"header-anchor",href:"#\u5168\u5C40\u914D\u7F6E\u6587\u4EF6","aria-hidden":"true"},"#")],-1),al=l("p",null,[s("\u4E5F\u5C31\u662F"),l("code",null,"prometheus.yml"),s("\uFF0C\u5B98\u65B9\u8BF4\u660E"),l("a",{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/",target:"_blank",rel:"noreferrer"},"\u5730\u5740"),s("\uFF0C\u5927\u6982\u5206\u4E3A\u8FD9\u51E0\u5757\uFF0C\u6211\u628A\u6CE8\u91CA\u53BB\u6389\u4E86\uFF0C\u5168\u5C40\u914D\u7F6E\u9009\u9879")],-1),tl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"scrape_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<duration> | default = 1m"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#676E95"}},"##\u91C7\u96C6\u95F4\u9694")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"scrape_timeout"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<duration> | default = 10s"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#676E95"}},"##\u91C7\u96C6\u8D85\u65F6\u65F6\u95F4")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"evaluation_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<duration> | default = 1m"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u544A\u8B66\u8BC4\u4F30\u5468\u671F")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"external_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                    "),l("span",{style:{color:"#676E95"}},"##\u5916\u90E8\u6807\u7B7E             ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"<labelname>"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<labelvalue> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),cl=l("p",null,"\u6307\u5B9A\u544A\u8B66\u89C4\u5219",-1),rl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"rule_files"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<filepath_glob> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),pl=l("p",null,"\u914D\u7F6E\u88AB\u76D1\u63A7\u7AEF",-1),Dl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<scrape_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),yl=l("p",null,"\u914D\u7F6E\u544A\u8B66\u65B9\u5F0F",-1),il=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"alerting"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"alert_relabel_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<relabel_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"alertmanagers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<alertmanager_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),Fl=l("p",null,"\u6307\u5B9A\u8FDC\u7A0B\u5B58\u50A8",-1),Cl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"remote_write"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<remote_write> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"remote_read"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<remote_read> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),Al=l("p",null,[s("\u8FD9\u5C31\u662F\u4E00\u4E2A\u6574\u4F53\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u73B0\u5728\u518D\u770B\u9ED8\u8BA4\u7684\u914D\u7F6E\u6587\u4EF6\u5C31\u80FD\u770B\u61C2\u67D0\u4E00\u6BB5\u662F\u5E72\u5565\u7684\u4E86\uFF0C\u73B0\u5728\u5F00\u59CB\u914D\u7F6E"),l("code",null,"scrape_configs")],-1),ul=l("h3",{id:"scrape-configs",tabindex:"-1"},[s("scrape_configs "),l("a",{class:"header-anchor",href:"#scrape-configs","aria-hidden":"true"},"#")],-1),dl=l("p",null,"\u8FD9\u5757\u5C31\u662F\u6765\u914D\u7F6E\u6211\u4EEC\u8981\u76D1\u63A7\u7684\u4E1C\u897F\uFF0C\u5728\u8FD9\u4E00\u5757\u4E2D\u914D\u7F6E\u7684\u4E1C\u897F\u53C8\u6709\u5F88\u591A\u4E86\uFF0C\u770B\u4E00\u4E0B\u5B98\u65B9\u7684\uFF0C\u4E00\u5806\uFF0C\u6211\u8FD8\u662F\u53BB\u6389\u6CE8\u91CA\u5206\u6BB5\u8D34\u51FA\u6765\u5427\u3002",-1),ml=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<job_name>"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u6307\u5B9Ajob\u540D\u5B57")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"scrape_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<duration> | default = <global_config.scrape_interval>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"scrape_timeout"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<duration> | default = <global_config.scrape_timeout>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u8FD9\u4E24\u6BB5\u6307\u5B9A\u91C7\u96C6\u65F6\u95F4\uFF0C\u9ED8\u8BA4\u7EE7\u627F\u5168\u5C40")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"metrics_path"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<path> | default = /metrics"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##metrics\u8DEF\u5F84\uFF0C\u9ED8\u8BA4metrics")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"honor_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<boolean> | default = false"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u9ED8\u8BA4\u9644\u52A0\u7684\u6807\u7B7E\uFF0C\u9ED8\u8BA4\u4E0D\u8986\u76D6")]),s(`
`),l("span",{class:"line"})])])],-1),gl=l("p",null,[s("\u5B83\u9ED8\u8BA4\u66B4\u9732\u76D1\u63A7\u6570\u636E\u7684\u63A5\u53E3\u5C31\u662F"),l("code",null,"ip:9090/metrics"),s("\uFF0C\u4F60\u53EF\u4EE5\u53BB\u6307\u5B9A\u8FD9\u4E2A\u540D\u79F0\uFF0C\u8BBF\u95EE\u4E00\u4E0B\u8FD9\u91CC\u770B\u770B\uFF0C")],-1),hl=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190702171903.png#mirages-width=647&mirages-height=399&mirages-cdn-type=5",alt:"20190702171903"})],-1),_l=l("p",null,[s("\u5728"),l("code",null,"ip:9090/targets"),s("\u80FD\u770B\u5230\u5F53\u524D\u76D1\u63A7\u7684\u4E3B\u673A\uFF0C\u73B0\u5728\u53EA\u6709\u672C\u673A\u4E00\u4E2A\uFF0C\u6807\u7B7E\u663E\u793A\u4E5F\u5728\u8FD9\u91CC\u3002")],-1),bl=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190702171956.png#mirages-width=1450&mirages-height=277&mirages-cdn-type=5",alt:"20190702171956"})],-1),El=l("p",null,"\u5728\u770B\u4E0B\u4E00\u6BB5\uFF0C\u8FD9\u91CC\u5B9A\u4E49\u7684\u662F\u8981\u5982\u4F55\u53BB\u8BBF\u95EE\u91C7\u96C6\u76EE\u6807",-1),vl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"scheme"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<scheme> | default = http"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"## \u9ED8\u8BA4\u4F7F\u7528http\u65B9\u5F0F\u53BB\u8BBF\u95EE")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"params"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"<string>"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"<string>"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"..."),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"        "),l("span",{style:{color:"#676E95"}},"## \u914D\u7F6E\u8BBF\u95EE\u65F6\u643A\u5E26\u7684\u53C2\u6570")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"basic_auth"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"username"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<string>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"password"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<secret>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"password_file"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<string>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"          "),l("span",{style:{color:"#676E95"}},"## \u914D\u7F6E\u8BBF\u95EE\u63A5\u53E3\u7684\u7528\u6237\u540D\u5BC6\u7801")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"bearer_token"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<secret>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"bearer_token_file"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"/path/to/bearer/token/file"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u6307\u5B9A\u8BA4\u8BC1token")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"tls_config"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<tls_config>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"                     "),l("span",{style:{color:"#676E95"}},"## \u6307\u5B9ACA\u8BC1\u4E66")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"proxy_url"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<string>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"                "),l("span",{style:{color:"#676E95"}},"## \u4F7F\u7528\u4EE3\u7406\u6A21\u5F0F\u8BBF\u95EE\u76EE\u6807")]),s(`
`),l("span",{class:"line"})])])],-1),xl=l("p",null,"\u4E0B\u4E00\u6BB5\uFF0C\u670D\u52A1\u53D1\u73B0\u914D\u7F6E\uFF0C\u8D34\u4E86\u51E0\u4E2A\uFF0C\u4E0D\u662F\u5B8C\u6574\u7684",-1),fl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"consul_sd_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                   "),l("span",{style:{color:"#676E95"}},"##\u901A\u8FC7consul\u53BB\u53D1\u73B0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<consul_sd_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"dns_sd_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                      "),l("span",{style:{color:"#676E95"}},"##\u901A\u8FC7DNS\u53BB\u53D1\u73B0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<dns_sd_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"file_sd_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                   "),l("span",{style:{color:"#676E95"}},"##\u901A\u8FC7\u6587\u4EF6\u53BB\u53D1\u73B0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<file_sd_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"kubernetes_sd_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"               "),l("span",{style:{color:"#676E95"}},"##\u901A\u8FC7kubernetes\u53BB\u53D1\u73B0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<kubernetes_sd_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),wl=l("p",null,"\u9759\u6001\u914D\u7F6E\u88AB\u76D1\u63A7\u7AEF",-1),kl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<static_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),ql=l("p",null,"\u521A\u521A\u76D1\u63A7\u672C\u673A\u7684\u5C31\u662F\u9759\u6001\u914D\u7F6E\u53BB\u76D1\u63A7\u7684\uFF0C\u4E5F\u662F\u5C31\u8FD9\u4E00\u6BB5\uFF0C",-1),Pl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"prometheus"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),jl=l("p",null,"\u6700\u540E\u6807\u7B7E\u914D\u7F6E",-1),Sl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"relabel_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<relabel_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"          "),l("span",{style:{color:"#676E95"}},"##\u5728\u6570\u636E\u91C7\u96C6\u524D\u5BF9\u6807\u7B7E\u8FDB\u884C\u91CD\u65B0\u6807\u8BB0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"metric_relabel_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," - "),l("span",{style:{color:"#C3E88D"}},"<relabel_config> ..."),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"          "),l("span",{style:{color:"#676E95"}},"##\u5728\u6570\u636E\u91C7\u96C6\u4E4B\u540E\u5BF9\u6807\u7B7E\u8FDB\u884C\u91CD\u65B0\u6807\u8BB0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"sample_limit"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<int> | default = 0"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#676E95"}},"##\u91C7\u96C6\u6837\u672C\u6570\u91CF\uFF0C\u9ED8\u8BA40")]),s(`
`),l("span",{class:"line"})])])],-1),$l=l("p",null,[s("\u4E0B\u9762\u770B\u4E00\u4E0B"),l("code",null,"relabel_configs")],-1),Ul=l("h3",{id:"relabel-configs",tabindex:"-1"},[s("relabel_configs "),l("a",{class:"header-anchor",href:"#relabel-configs","aria-hidden":"true"},"#")],-1),Tl=l("p",null,[s("\u5C31\u662F\u7528\u6765\u91CD\u65B0\u6253\u6807\u8BB0\u7684\uFF0C\u5BF9\u4E8E"),l("code",null,"prometheus"),s(" \u6570\u636E\u6A21\u578B\u6700\u5173\u952E\u70B9\u5C31\u662F\u4E00\u4E2A\u6307\u6807\u540D\u79F0\u548C\u4E00\u7EC4\u6807\u7B7E\u6765\u7EC4\u6210\u4E00\u4E2A\u591A\u7EF4\u5EA6\u7684\u6570\u636E\u6A21\u578B\uFF0C\u4F60\u60F3\u5B8C\u6210\u4E00\u4E2A\u590D\u6742\u7684\u67E5\u8BE2\u5C31\u9700\u8981\u4F60\u6709\u5F88\u591A\u7EF4\u5EA6\uFF0C"),l("code",null,"relabel_configs"),s(" \u5C31\u662F\u5BF9\u6807\u7B7E\u8FDB\u884C\u5904\u7406\u7684\uFF0C\u4ED6\u80FD\u5E2E\u4F60\u5728\u6570\u636E\u91C7\u96C6\u4E4B\u524D\u5BF9\u4EFB\u4F55\u76EE\u6807\u7684\u6807\u7B7E\u8FDB\u884C\u4FEE\u6539\uFF0C\u91CD\u6253\u6807\u7B7E\u7684\u610F\u4E49\u5C31\u662F\u5982\u679C\u6807\u7B7E\u6709\u91CD\u590D\u7684\u53EF\u4EE5\u5E2E\u4F60\u91CD\u547D\u540D\uFF0C\u770B\u4E00\u54C8\u73B0\u5728\u7684\uFF0C\u4E0A\u9762\u94C1\u9505")],-1),Il=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708111918.png#mirages-width=1855&mirages-height=455&mirages-cdn-type=5",alt:"20190708111918"})],-1),Ol=l("p",null,[s("\u73B0\u5728"),l("code",null,"instance"),s("\u662F\u4ED6\u9ED8\u8BA4\u7ED9\u6211\u52A0\u7684\u6807\u7B7E\uFF0C\u60F3\u6539\u7684\u8BDD\u5C31\u9700\u8981"),l("code",null,"relabel_configs"),s("\u53BB\u5E2E\u4F60\u91CD\u6253\u6807\u7B7E\uFF0C\u4ED6\u4E5F\u53EF\u4EE5\u5220\u9664\u6807\u7B7E\uFF0C\u5982\u679C\u67D0\u4E2A\u6807\u7B7E\u7528\u4E0D\u5230\u4E86\u4E5F\u53EF\u4EE5\u5220\u6389\uFF0C\u518D\u5C31\u662F\u8FC7\u6EE4\u6807\u7B7E\uFF0C\u518D\u770B\u4E00\u4E0B"),l("code",null,"relabel_configs"),s("\u7684\u914D\u7F6E\u6709\u54EA\u4E9B\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E00\u6BB5")],-1),Nl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"relabel_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"source_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<labelname>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"[,"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"..."),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"]"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"   "),l("span",{style:{color:"#676E95"}},"##\u6E90\u6807\u7B7E\uFF0C\u6307\u5B9A\u5BF9\u54EA\u4E2A\u73B0\u6709\u6807\u7B7E\u8FDB\u884C\u64CD\u4F5C")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"separator"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<string> | default = ;"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"            "),l("span",{style:{color:"#676E95"}},"##\u591A\u4E2A\u6E90\u6807\u7B7E\u65F6\u8FDE\u63A5\u7684\u5206\u9694\u7B26")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"target_label"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<labelname>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"                    "),l("span",{style:{color:"#676E95"}},"##\u8981\u5C06\u6E90\u6807\u7B7E\u6362\u6210\u4EC0\u4E48\u540D\u5B57")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"regex"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<regex> | default = (.*)"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"              "),l("span",{style:{color:"#676E95"}},"##\u600E\u4E48\u6765\u5339\u914D\u6E90\u6807\u7B7E\uFF0C\u9ED8\u8BA4\u5339\u914D\u6240\u6709")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"modulus"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<uint64>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"                            "),l("span",{style:{color:"#676E95"}},"##\u4E0D\u600E\u4E48\u4F1A\u7528\u5230")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"replacement"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<string> | default = $1"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"##\u66FF\u6362\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u5230\u7684\u5206\u7EC4\uFF0C\u5206\u7EC4\u5F15\u7528$1,$2,$3")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"action"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"<relabel_action> | default = replace"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#676E95"}},"##\u57FA\u4E8E\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u6267\u884C\u7684\u64CD\u4F5C\uFF0C\u9ED8\u8BA4\u66FF\u6362")]),s(`
`),l("span",{class:"line"})])])],-1),Bl=l("p",null,[s("\u8FD9\u4E1C\u897F\u5230\u5E95\u600E\u4E48\u7528\uFF0C\u505A\u4E2A\u6F14\u793A\uFF0C\u6839\u636E\u4E24\u53F0\u670D\u52A1\u5668\u805A\u5408\u67E5\u770B"),l("code",null,"CPU"),s("\u4F7F\u7528\u7387\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u540C\u65F6\u53BB\u67E5\u770B\u8FD9\u4E24\u53F0\u670D\u52A1\u5668\u7684"),l("code",null,"CPU"),s("\u5229\u7528\u7387\uFF0C\u7528\u8FD9\u4E2A\u6807\u7B7E\u5C31\u53EF\u4EE5\u5B9E\u73B0\u4E86\u3002")],-1),Gl=l("h4",{id:"\u6DFB\u52A0\u6807\u7B7E",tabindex:"-1"},[s("\u6DFB\u52A0\u6807\u7B7E "),l("a",{class:"header-anchor",href:"#\u6DFB\u52A0\u6807\u7B7E","aria-hidden":"true"},"#")],-1),zl=l("p",null,[s("\u53BB"),l("code",null,"WEB"),s("\u754C\u9762\u770B\u4E00\u4E0B\u5F53\u524D\u88AB\u76D1\u63A7\u7AEF"),l("code",null,"CPU"),s("\u4F7F\u7528\u7387\uFF0C\u7528"),l("code",null,"sql"),s("\u53BB\u67E5\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E2A\u503C\u3002")],-1),Ml=l("p",null,[l("img",{src:"https://res.rj-bai.com/201907/20190708111918.png",alt:"20190708111918"})],-1),Ll=l("p",null,[s("\u53EF\u4EE5\u770B\u5230\u4E00\u4E2A\u5EA6\u91CF\u540D\u79F0\u548C\u4E24\u4E2A\u9ED8\u8BA4\u9644\u52A0\u7684\u6807\u7B7E\uFF0C\u6211\u73B0\u5728\u60F3\u7EDF\u8BA1\u4E24\u53F0\u670D\u52A1\u5668\u7684"),l("code",null,"CPU"),s("\u4F7F\u7528\u7387\uFF0C\u5C31\u9700\u8981\u52A0\u4E00\u4E2A\u6807\u7B7E\u4E86\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u6DFB\u52A0\u4E00\u4E2A\u7EF4\u5EA6\u53BB\u83B7\u53D6\u8FD9\u4E24\u53F0\u670D\u52A1\u5668"),l("code",null,"CPU"),s("\u4F7F\u7528\u7387\uFF0C\u63A5\u4E0B\u6765\u53BB\u6539\u914D\u7F6E\u6587\u4EF6\u5427\uFF0C\u7ED9\u4ED6\u52A0\u4E2A\u6807\u7B7E\uFF0C\u5982\u4E0B\uFF0C")],-1),Rl=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"labels"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"        "),l("span",{style:{color:"#F07178"}},"server"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"local"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"})])])],-1),Ql=l("p",null,"\u70ED\u66F4\u65B0\u4E00\u4E0B\uFF0C",-1),Wl=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# ps aux | grep prometheus.yml  | grep -v grep  | awk {'print $2'} | xargs kill -hup")]),s(`
`),l("span",{class:"line"})])])],-1),Hl=l("p",null,"\u770B\u4E00\u4E0B\u6709\u6CA1\u6709\u751F\u6548\uFF0C\u5237\u65B0\u4E00\u4E0B\u9875\u9762\u5C31\u80FD\u770B\u5230\u4E86\uFF0C",-1),Kl=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708113120.png#mirages-width=694&mirages-height=480&mirages-cdn-type=5",alt:"20190708113120"})],-1),Vl=l("p",null,"\u7136\u540E\u53EF\u4EE5\u6839\u636E\u8FD9\u4E2A\u6807\u7B7E\u53BB\u67E5\u4E86\uFF0C\u8BED\u6CD5\u662F\u8FD9\u6837\u7684\uFF0C\u5185\u7F6E\u51FD\u6570\uFF0C",-1),Jl=l("div",{class:"language-"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},'sum(process_cpu_seconds_total{server="local"})')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}})])])])],-1),Yl=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708113824.png#mirages-width=1214&mirages-height=413&mirages-cdn-type=5",alt:"201907081124"})],-1),Zl=l("p",null,[s("\u6240\u4EE5\u5C31\u7B97\u4F60\u6709"),l("code",null,"N"),s("\u4E2A\u88AB\u76D1\u63A7\u7684\u670D\u52A1\u5668\u6253\u4E0A\u8FD9\u4E2A\u6807\u7B7E\u4E4B\u540E\u5728\u8FD9\u91CC\u5C31\u53EF\u4EE5\u770B\u5230\u603B\u6570\u4E86\uFF0C\u6DFB\u52A0\u6807\u7B7E\u5F88\u7B80\u5355\uFF0C\u4E0B\u9762\u770B\u4E00\u4E0B\u91CD\u547D\u540D\u6807\u7B7E\uFF0C\u5C31\u662F\u5C06\u73B0\u6709\u7684\u6807\u7B7E\u8FDB\u884C\u91CD\u547D\u540D\u3002")],-1),Xl=l("h4",{id:"\u6807\u7B7E\u91CD\u547D\u540D",tabindex:"-1"},[s("\u6807\u7B7E\u91CD\u547D\u540D "),l("a",{class:"header-anchor",href:"#\u6807\u7B7E\u91CD\u547D\u540D","aria-hidden":"true"},"#")],-1),ls=l("p",null,[s("\u5C31\u662F\u5C06\u4E00\u4E2A\u5DF2\u6709\u7684\u6807\u7B7E\u91CD\u547D\u540D\u4E00\u4E2A\u65B0\u7684\u6807\u7B7E\uFF0C\u5B9E\u9645\u64CD\u4F5C\u4E00\u4E0B\uFF0C\u4E4B\u524D\u7684\u6807\u7B7E\u53BB\u6389\u4E86\uFF0C\u73B0\u5728\u8981\u628A"),l("code",null,"job_name"),s("\u6539\u4E2A\u540D\u5B57\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E00\u5757\u7684\u914D\u7F6E\uFF0C")],-1),ss=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"prometheus"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),os=l("p",null,[s("\u76EE\u524D"),l("code",null,"job_name"),s("\u4E3A"),l("code",null,"prometheus"),s("\uFF0C\u5F53\u524D\u8FD9\u4E2A\u865A\u62DF\u673A\u662F\u8DD1\u5728"),l("code",null,"IP"),s("\u5730\u5740\u4E3A"),l("code",null,"21"),s("\u7684\u7269\u7406\u673A\u4E0A\uFF0C\u6240\u4EE5\u73B0\u5728\u628A\u4ED6\u7684"),l("code",null,"job_name"),s("\u6539\u6210"),l("code",null,"server21"),s("\uFF0C")],-1),es=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"server21"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),ns=l("p",null,"\u91CD\u542F\u4E00\u4E0B\uFF0C\u5237\u65B0\u9875\u9762\u5C31\u53EF\u4EE5\u770B\u5230\u4E86\uFF0C",-1),as=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708160319.png#mirages-width=1543&mirages-height=371&mirages-cdn-type=5",alt:"20190708160319"})],-1),ts=l("p",null,[s("\u6211\u73B0\u5728\u8981\u5C06"),l("code",null,"job"),s("\u8FD9\u4E2A\u6807\u7B7E\u6807\u8BB0\u4E3A"),l("code",null,"local"),s("\uFF0C\u4E5F\u5C31\u662F\u5C06"),l("code",null,'job="server21'),s("\u6539\u4E3A"),l("code",null,'local="server21'),s("\uFF0C\u4E0B\u9762\u5F00\u59CB\u7528"),l("code",null,"relabel"),s("\u8FDB\u884C\u91CD\u547D\u540D\uFF0C\u6539\u5B8C\u4E4B\u540E\u7684\u914D\u7F6E\u662F\u8FD9\u6837\u7684\uFF0C")],-1),cs=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"server21"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"relabel_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"action"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"replace")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"source_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"job"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u6E90\u6807\u7B7E")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"regex"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"(.*)"),l("span",{style:{color:"#A6ACCD"}},"             "),l("span",{style:{color:"#676E95"}},"##\u6B63\u5219\uFF0C\u4F1A\u5339\u914D\u5230job\u503C\uFF0C\u4E5F\u5C31\u662Fserver21")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"replacement"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"$1"),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"##\u5F15\u7528\u6B63\u5219\u5339\u914D\u5230\u7684\u5185\u5BB9\uFF0C\u4E5F\u5C31\u662Fserver21")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"target_label"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"local"),l("span",{style:{color:"#A6ACCD"}},"     "),l("span",{style:{color:"#676E95"}},"##\u8D4B\u4E88\u65B0\u7684\u6807\u7B7E\uFF0C\u540D\u4E3Alocal")]),s(`
`),l("span",{class:"line"})])])],-1),rs=l("p",null,"\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\u6492\uFF0C\u91CD\u65B0\u52A0\u8F7D\u4E00\u4E0B\uFF0C\u770B\u9875\u9762\uFF0C",-1),ps=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708161317.png#mirages-width=617&mirages-height=368&mirages-cdn-type=5",alt:"20190708161317"})],-1),Ds=l("p",null,"\u65B0\u7684\u6570\u636E\u5DF2\u7ECF\u6709\u4E86\uFF0C\u4E4B\u524D\u7684\u6807\u7B7E\u8FD8\u4F1A\u4FDD\u7559\uFF0C\u56E0\u4E3A\u6CA1\u6709\u914D\u7F6E\u5220\u9664\u4ED6\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\uFF0C\u73B0\u5728\u5C31\u53EF\u4EE5\u805A\u5408\u4E86\uFF0C",-1),ys=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708161530.png#mirages-width=1136&mirages-height=419&mirages-cdn-type=5",alt:"20190708161530"})],-1),is=l("p",null,"\u8FD9\u6837\u4ED6\u5C31\u4F1A\u5C06\u6240\u6709\u5B9E\u4F8B\u4F7F\u7528\u7387\u76F8\u52A0\u6C42\u548C\u3002",-1),Fs=l("h4",{id:"action\u91CD\u65B0\u6253\u6807\u7B7E\u52A8\u4F5C",tabindex:"-1"},[s("action\u91CD\u65B0\u6253\u6807\u7B7E\u52A8\u4F5C "),l("a",{class:"header-anchor",href:"#action\u91CD\u65B0\u6253\u6807\u7B7E\u52A8\u4F5C","aria-hidden":"true"},"#")],-1),Cs=l("p",null,"\u5982\u8868\u6240\u793A\uFF0C\u4E0A\u9762\u5C31\u662F\u7528\u4E86\u4E00\u4E2A\u9ED8\u8BA4\u7684\u3002",-1),As=l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"\u503C"),l("th",null,"\u63CF\u8FF0")])]),l("tbody",null,[l("tr",null,[l("td",null,"replace"),l("td",null,"\u9ED8\u8BA4\uFF0C\u901A\u8FC7\u6B63\u5219\u5339\u914Dsource_label\u7684\u503C\uFF0C\u4F7F\u7528replacement\u6765\u5F15\u7528\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u5206\u7EC4")]),l("tr",null,[l("td",null,"keep"),l("td",null,"\u5220\u9664regex\u4E8E\u94FE\u63A5\u4E0D\u5339\u914D\u7684\u76EE\u6807source_labels")]),l("tr",null,[l("td",null,"drop"),l("td",null,"\u5220\u9664regex\u4E0E\u8FDE\u63A5\u5339\u914D\u7684\u76EE\u6807source_labels")]),l("tr",null,[l("td",null,"labeldrop"),l("td",null,"\u5339\u914DRegex\u6240\u6709\u6807\u7B7E\u540D\u79F0")]),l("tr",null,[l("td",null,"labelkeep"),l("td",null,"\u5339\u914Dregex\u6240\u6709\u6807\u7B7E\u540D\u79F0")]),l("tr",null,[l("td",null,"hashmod"),l("td",null,"\u8BBE\u7F6Etarget_label\u4E3Amodulus\u8FDE\u63A5\u7684\u54C8\u5E0C\u503Csource_lanels")]),l("tr",null,[l("td",null,"labelmap"),l("td",null,[s("\u5339\u914Dregex\u6240\u6709\u6807\u7B7E\u540D\u79F0\uFF0C\u590D\u5236\u5339\u914D\u6807\u7B7E\u7684\u503C\u5206\u7EC4\uFF0Creplacement\u5206\u7EC4\u5F15\u7528("),l("span",{class:"katex"},[l("span",{class:"katex-mathml"},[l("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[l("semantics",null,[l("mrow",null,[l("mn",null,"1"),l("mo",{separator:"true"},",")]),l("annotation",{encoding:"application/x-tex"},"{1},")])])]),l("span",{class:"katex-html","aria-hidden":"true"},[l("span",{class:"base"},[l("span",{class:"strut",style:{height:"0.8389em","vertical-align":"-0.1944em"}}),l("span",{class:"mord"},[l("span",{class:"mord"},"1")]),l("span",{class:"mpunct"},",")])])]),s("{2})\u66FF\u4EE3")])])])],-1),us=l("p",null,"\u6BD4\u5982\u8BF4\u6211\u73B0\u5728\u4E0D\u60F3\u91C7\u96C6\u672C\u673A\u7684\u6570\u636E\u4E86\uFF0C\u5C31\u53EF\u4EE5\u7528\u4E0A\u9762\u7684\u6807\u7B7E\u8FDB\u884C\u64CD\u4F5C\u4E86\uFF0C\u52A0\u70B9\u4E1C\u897F\u5C31\u884C\u4E86\uFF0C",-1),ds=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"server21"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"relabel_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"action"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"replace")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"source_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"job"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"regex"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"(.*)")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"replacement"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"$1")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"target_label"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"local")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"action"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"drop")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"source_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"job"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),ms=l("p",null,[s("\u5220\u9664\u6807\u7B7E\u4E3A"),l("code",null,"job"),s("\u7684\u8282\u70B9\uFF0C\u76EE\u524D\u53EA\u6709\u4E00\u4E2A\u8282\u70B9\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u8DD1\u4E86\u4E4B\u540E\u5C31\u770B\u4E0D\u5230\u6570\u636E\u4E86\uFF0C\u5982\u679C\u771F\u7684\u8981\u7528\u8FD9\u4E2A\u7ED9\u4E0D\u9700\u8981\u76D1\u63A7\u7684\u8282\u70B9\u6253\u4E00\u4E2A\u6807\u7B7E\uFF0C\u7136\u540E\u5728\u8FD9\u91CC\u5339\u914D\u5C31\u884C\u4E86\uFF0C\u6240\u4EE5\u73B0\u5728\u91CD\u65B0\u8F7D\u5165\u7684\u8BDD\u5C31\u6CA1\u6570\u636E\u4E86\uFF0C")],-1),gs=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708164048.png#mirages-width=515&mirages-height=325&mirages-cdn-type=5",alt:"20190708164048"})],-1),hs=l("p",null,"\u6700\u540E\u770B\u4E00\u4E0B\u5220\u9664\u6807\u7B7E\u3002",-1),_s=l("h4",{id:"\u5220\u9664\u6807\u7B7E",tabindex:"-1"},[s("\u5220\u9664\u6807\u7B7E "),l("a",{class:"header-anchor",href:"#\u5220\u9664\u6807\u7B7E","aria-hidden":"true"},"#")],-1),bs=l("p",null,[s("\u521A\u521A\u6211\u65B0\u6253\u4E86\u4E00\u4E2A\u6807\u7B7E\uFF0C\u4E5F\u5C31\u662F"),l("code",null,"local"),s("\u6807\u7B7E\uFF0C\u6240\u4EE5\u4E4B\u524D\u7684"),l("code",null,"job"),s("\u6807\u7B7E\u53EF\u4EE5\u4E0D\u8981\u4E86\uFF0C\u4E0B\u9762\u76F4\u63A5\u7ED9\u4ED6\u5220\u4E86\u5427\uFF0C")],-1),Es=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"server21"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"relabel_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"action"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"replace")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"source_labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"job"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"regex"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"(.*)")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"replacement"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"$1")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"target_label"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"local")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"action"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"labeldrop"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"regex"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"job")]),s(`
`),l("span",{class:"line"})])])],-1),vs=l("p",null,[s("\u91CD\u8F7D\u4E00\u4E0B\u5C31\u770B\u5230"),l("code",null,"job"),s("\u7684\u6807\u7B7E\u4E86\u3002")],-1),xs=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708164600.png#mirages-width=467&mirages-height=413&mirages-cdn-type=5",alt:"20190708164600"})],-1),fs=l("p",null,"\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\u6492\uFF0C\u4E0B\u9762\u770B\u770B\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0\u529F\u80FD",-1),ws=l("h3",{id:"\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0",tabindex:"-1"},[s("\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0 "),l("a",{class:"header-anchor",href:"#\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0","aria-hidden":"true"},"#")],-1),ks=l("p",null,[s("\u4E0B\u9762\u4F1A\u6D89\u53CA\u5230\u57FA\u4E8E\u6587\u4EF6\u7684\u670D\u52A1\u53D1\u73B0\uFF0C\u8FD8\u6709\u5C31\u662F\u57FA\u4E8E"),l("code",null,"kubernetes"),s("\u7684\u670D\u52A1\u53D1\u73B0\uFF0C\u8FD9\u4E2A\u5230\u76D1\u63A7"),l("code",null,"k8s"),s("\u96C6\u7FA4\u7684\u65F6\u5019\u518D\u8BF4\u5427\uFF0C\u5148\u770B\u57FA\u4E8E\u6587\u4EF6\u7684\u5427\uFF0C\u73B0\u5728\u8FD8\u6CA1\u51C6\u5907\u522B\u7684\u670D\u52A1\u5668\uFF0C\u8FD8\u662F\u53D1\u73B0\u672C\u8EAB\u5427\uFF0C\u5148\u628A\u914D\u7F6E\u6587\u4EF6\u6539\u6210\u8FD9\u6837\uFF0C\u91CD\u8F7D\u4E4B\u540E\u5C31\u770B\u4E0D\u5230\u672C\u673A\u4E86\u3002")],-1),qs=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat prometheus.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"scrape_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"     "),l("span",{style:{color:"#C3E88D"}},"15s"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"evaluation_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"15s"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"alerting"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"alertmanagers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"rule_files"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"prometheus"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"})])])],-1),Ps=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708171041.png#mirages-width=942&mirages-height=299&mirages-cdn-type=5",alt:"20190708171041"})],-1),js=l("p",null,"\u7136\u540E\u5C31\u53EF\u4EE5\u53BB\u6539\u914D\u7F6E\u6587\u4EF6\u4E86\uFF0C\u901A\u8FC7\u670D\u52A1\u53D1\u73B0\u5C06\u81EA\u8EAB\u52A0\u5165\u8FDB\u53BB\uFF0C",-1),Ss=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat prometheus.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"scrape_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"     "),l("span",{style:{color:"#C3E88D"}},"15s"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"evaluation_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"15s"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"alerting"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"alertmanagers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"rule_files"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"scrape_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"prometheus"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"file_sd_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"files"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"/usr/local/prometheus/files_sd_configs/*.yaml"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"##\u6307\u5B9A\u670D\u52A1\u53D1\u73B0\u6587\u4EF6\u4F4D\u7F6E")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"        "),l("span",{style:{color:"#F07178"}},"refresh_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5s"),l("span",{style:{color:"#A6ACCD"}},"                                      "),l("span",{style:{color:"#676E95"}},"##\u5237\u65B0\u95F4\u9694\u6539\u4E3A5\u79D2")]),s(`
`),l("span",{class:"line"})])])],-1),$s=l("p",null,[s("\u91CD\u8F7D\u670D\u52A1\uFF0C\u7136\u540E\u53BB\u5199\u670D\u52A1\u53D1\u73B0\u7684"),l("code",null,"YAML"),s("\u6587\u4EF6\u5427\uFF0C")],-1),Us=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/prometheus/files_sd_configs"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat configs.yml"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost:9090"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"labels"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"server21")]),s(`
`),l("span",{class:"line"})])])],-1),Ts=l("p",null,"\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\uFF0C\u6587\u4EF6\u4FDD\u5B58\u4E94\u79D2\u540E\u5C31\u80FD\u770B\u5230\u53D1\u73B0\u7684\u4E3B\u673A\u4E86\uFF0C\u67E5\u6570\u636E\u4E5F\u6CA1\u95EE\u9898",-1),Is=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708173554.png#mirages-width=1234&mirages-height=334&mirages-cdn-type=5",alt:"20190708173554"})],-1),Os=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708173611.png#mirages-width=1432&mirages-height=254&mirages-cdn-type=5",alt:"20190708173611"})],-1),Ns=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190708173654.png#mirages-width=940&mirages-height=419&mirages-cdn-type=5",alt:"20190708173654"})],-1),Bs=l("p",null,[s("\u5C31\u662F\u8FD9\u79CD\u539F\u7406\uFF0C\u4E0B\u9762\u5F00\u59CB\u76D1\u63A7"),l("code",null,"linux"),s("\u548C\u4E00\u4E9B\u670D\u52A1\u5427")],-1),Gs=l("h2",{id:"\u76D1\u63A7\u6817\u5B50",tabindex:"-1"},[s("\u76D1\u63A7\u6817\u5B50 "),l("a",{class:"header-anchor",href:"#\u76D1\u63A7\u6817\u5B50","aria-hidden":"true"},"#")],-1),zs=l("h3",{id:"\u76D1\u63A7linux\u670D\u52A1\u5668",tabindex:"-1"},[s("\u76D1\u63A7linux\u670D\u52A1\u5668 "),l("a",{class:"header-anchor",href:"#\u76D1\u63A7linux\u670D\u52A1\u5668","aria-hidden":"true"},"#")],-1),Ms=l("p",null,[l("code",null,"emmmm"),s("\uFF0C\u5728\u88AB\u76D1\u63A7\u7AEF\u9700\u8981\u88C5\u4E00\u4E2A\u540D\u4E3A"),l("code",null,"node_exporter"),s("\u7684\u5BFC\u51FA\u5668\uFF0C\u4ED6\u4F1A\u5E2E\u4F60\u6536\u96C6\u7CFB\u7EDF\u6307\u6807\u548C\u4E00\u4E9B\u8F6F\u4EF6\u8FD0\u884C\u7684\u6307\u6807\uFF0C\u628A\u6307\u6807\u66B4\u9732\u51FA\u53BB\uFF0C\u8FD9\u6837"),l("code",null,"prometheus"),s("\u5C31\u53EF\u4EE5\u53BB\u91C7\u96C6\u4E86\uFF0C\u5177\u4F53"),l("code",null,"node_exporter"),s("\u80FD\u91C7\u96C6\u54EA\u4E9B\u4E1C\u897F\uFF0C\u770B\u5B98\u65B9\u7684"),l("a",{href:"https://github.com/prometheus/node_exporter",target:"_blank",rel:"noreferrer"},[l("code",null,"github")]),s("\u5427\uFF0C\u8FD8\u662F\u86EE\u591A\u7684\uFF0C\u73B0\u5728\u968F\u4FBF\u627E\u4E2A\u670D\u52A1\u5668\u4E0B\u8F7D\u4E00\u4E0B"),l("code",null,"node_exporter"),s("\u8FD0\u884C\u8D77\u6765\u5C31\u884C\u4E86\u3002")],-1),Ls=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# wget https://github.com/prometheus/node_exporter/releases/download/v0.18.1/node_exporter-0.18.1.linux-amd64.tar.gz")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# tar zxf node_exporter-0.18.1.linux-amd64.tar.gz ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# mv node_exporter-0.18.1.linux-amd64 /usr/local/node_exporter")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# cd /usr/local/node_exporter")]),s(`
`),l("span",{class:"line"})])])],-1),Rs=l("p",null,"\u5728\u542F\u52A8\u4E4B\u524D\u770B\u4E00\u4E0B\u4ED6\u7684\u542F\u52A8\u53C2\u6570\uFF0C",-1),Qs=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node /usr/local/node_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# ./node_exporter --help")]),s(`
`),l("span",{class:"line"})])])],-1),Ws=l("p",null,[s("\u53EF\u4EE5\u770B\u5230\u4E00\u5806\uFF0C\u5979\u5C31\u662F\u4E00\u4E2A\u6536\u96C6\u5668\uFF0C\u914D\u7F6E\u4F60\u8981\u6536\u96C6\u6216\u4E0D\u6536\u96C6\u54EA\u4E9B\u4FE1\u606F\uFF0C\u770B"),l("code",null,"default"),s("\u5C31\u80FD\u770B\u51FA\u6765\u6492\uFF0C\u52A0\u5230\u7CFB\u7EDF\u670D\u52A1\u4E2D\u5427\uFF0C\u7528"),l("code",null,"systemctl"),s("\u53BB\u7BA1\u7406\u3002")],-1),Hs=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node /usr/local/node_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# cat > /usr/lib/systemd/system/node_exporter.service <<OEF ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Unit"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," Description=node_exporter")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Service"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," Restart=on-failure")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ExecStart=/usr/local/node_exporter/node_exporter")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Install"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," WantedBy=multi-user.target")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," OEF")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node /usr/local/node_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# systemctl daemon-reload ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node /usr/local/node_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# systemctl start node_exporter.service")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node /usr/local/node_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# curl -s 127.0.0.1:9100/metrics | head ")]),s(`
`),l("span",{class:"line"})])])],-1),Ks=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709105800.png#mirages-width=766&mirages-height=390&mirages-cdn-type=5",alt:"20190709105800"})],-1),Vs=l("p",null,[s("\u6B63\u5E38\u542F\u52A8\u4E86\u6492\uFF0C\u73B0\u5728\u8981\u914D\u7F6E"),l("code",null,"prometheus"),s("\u6765\u76D1\u63A7\u8FD9\u4E2A\u4E3B\u673A\u4E86\uFF0C\u4E4B\u524D\u914D\u7F6E\u8FC7\u52A8\u6001\u53D1\u73B0\u4E86\uFF0C\u73B0\u5728\u518D\u52A0\u4E00\u4E2A\uFF0C\u628A\u670D\u52A1\u7AEF\u548C\u88AB\u76D1\u63A7\u7AEF\u5206\u5F00\uFF0C\u6240\u4EE5\u65B0\u52A0\u4E86\u8FD9\u4E2A\u3002")],-1),Js=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# cat prometheus.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  - job_name: "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"nodes"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    file_sd_configs: ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      - files: "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"/usr/local/prometheus/nodes_sd_configs/*.yml"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"        refresh_interval: 5s ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# mkdir nodes_sd_configs && cd nodes_sd_configs")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# ps aux | grep prometheus.yml  | grep -v grep  | awk {'print $2'} | xargs kill -hup")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/prometheus/nodes_sd_configs"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# cat nodes.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"- targets: "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"192.168.1.248:9100"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  labels:")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    name: server20")]),s(`
`),l("span",{class:"line"})])])],-1),Ys=l("p",null,"\u76F4\u63A5\u53BB\u770B\u9875\u9762\u5427\uFF0C\u5E94\u8BE5\u5DF2\u7ECF\u6DFB\u52A0\u8FDB\u53BB\u4E86\uFF0C\u987A\u4FBF\u67E5\u4E00\u4E0B\u6570\u636E",-1),Zs=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709111843.png#mirages-width=1390&mirages-height=400&mirages-cdn-type=5",alt:"20190709111843"})],-1),Xs=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709112040.png#mirages-width=851&mirages-height=441&mirages-cdn-type=5",alt:"20190709112040"})],-1),lo=l("p",null,[s("\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\uFF0C\u83AB\u5F97\u95EE\u9898\uFF0C\u4E0B\u9762\u7528"),l("code",null,"PromSQL"),s("\u83B7\u53D6"),l("code",null,"CPU&"),s("\u5185\u5B58\u786C\u76D8\u4F7F\u7528\u7387")],-1),so=l("h3",{id:"\u4F7F\u7528promsql",tabindex:"-1"},[s("\u4F7F\u7528PromSQL "),l("a",{class:"header-anchor",href:"#\u4F7F\u7528promsql","aria-hidden":"true"},"#")],-1),oo=l("p",null,[s("\u60F3\u67E5\u6570\u636E\u5C31\u9700\u8981\u5199"),l("code",null,"PromSQL"),s("\u53BB\u67E5\u8BE2\u4E86\uFF0C")],-1),eo=l("h4",{id:"\u67E5\u8BE2cpu\u4F7F\u7528\u7387",tabindex:"-1"},[s("\u67E5\u8BE2CPU\u4F7F\u7528\u7387 "),l("a",{class:"header-anchor",href:"#\u67E5\u8BE2cpu\u4F7F\u7528\u7387","aria-hidden":"true"},"#")],-1),no=l("p",null,[s("\u6BD4\u5982\u679C\u6211\u60F3\u67E5\u770B\u521A\u521A\u52A0\u8FDB\u6765\u7684"),l("code",null,"nodes CPU"),s("\u5229\u7528\u7387\uFF0C\u4EE5"),l("code",null,"node"),s("\u5F00\u5934\u7684"),l("code",null,"sql"),s("\u90FD\u662F"),l("code",null,"node_expores"),s("\u91C7\u96C6\u7684\u6307\u6807\uFF0C\u5EA6\u91CF\u5F88\u591A\uFF0C\u770B"),l("code",null,"CPU"),s("\u4F7F\u7528\u7387\u770B\u7740\u4E00\u4E2A\u6307\u6807\u5C31\u591F\u4E86\uFF0C")],-1),ao=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709112714.png#mirages-width=1723&mirages-height=923&mirages-cdn-type=5",alt:""})],-1),to=l("p",null,[s("\u603B"),l("code",null,"CPU"),s("\u4F7F\u7528\u60C5\u51B5\uFF0C\u4F1A\u5217\u51FA\u4F60\u5904\u7406\u5668\u591A\u5C11\u6838\uFF0C\u6BCF\u4E2A\u6838\u7684\u4F7F\u7528\u60C5\u51B5\uFF0C\u8FD9\u4E2ACPU\u662F\u5E72\u4EC0\u4E48\u4F7F\u7528\u7684\uFF0C\u7528\u6237\u6001\u8FD8\u662F\u5185\u6838\u6001\u8FD8\u662F\u64CD\u4F5C"),l("code",null,"IO"),s("\u7B49\u5F85\u7684\u65F6\u95F4\uFF0C\u8FD8\u6709\u4F18\u5148\u7EA7\u8C03\u5EA6\u4F7F\u7528\u7684"),l("code",null,"CPU"),s("\uFF0C\u4ED6\u4F1A\u901A\u8FC7\u4E00\u4E2A\u540D\u4E3A"),l("code",null,"mode"),s("\u7684\u6807\u7B7E\u53BB\u533A\u5206\u8FD9\u4E9B\uFF0C\u4E00\u822C\u4E0D\u4F1A\u8FD9\u4E48\u53BB\u7EDF\u8BA1\uFF0C\u73B0\u5728\u7EDF\u8BA1\u4E00\u4E0B\u521A\u521A\u52A0\u8FDB\u53BB\u7684\u90A3\u4E2A"),l("code",null,"nodes"),s("\u4E94\u5206\u949F\u4E4B\u5185"),l("code",null,"CPU"),s("\u5E73\u5747\u4F7F\u7528\u7387\u662F\u591A\u5C11\uFF0C\u8FD8\u662F\u5F97\u5199"),l("code",null,"PromSQL"),s("\uFF0C\u5927\u6982\u662F\u8FD9\u6837\uFF0C")],-1),co=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F78C6C"}},"100"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," irate(node_cpu_seconds_total{mode"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"idle"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"}[5m])"),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#F78C6C"}},"100")]),s(`
`),l("span",{class:"line"})])])],-1),ro=l("p",null,[l("code",null,"emmm"),s("\uFF0C"),l("code",null,'node_cpu_seconds_total{mode="idle"}[5m]'),s("\u8FD9\u4E00\u6BB5\u662F\u7EDF\u8BA1\u51FA\u4E86\u670D\u52A1\u5668\u6700\u8FD15\u5206\u949F"),l("code",null,"CPU"),s("\u7684\u7A7A\u95F2\u7387\uFF0C\u6267\u884C\u4E4B\u540E\u662F\u8FD9\u79CD\u6548\u679C\uFF0C")],-1),po=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709114438.png#mirages-width=1682&mirages-height=808&mirages-cdn-type=5",alt:"20190709114438"})],-1),Do=l("p",null,[s("\u8FD9\u662F\u4E94\u5206\u949F\u4E4B\u5185\u6240\u6709\u503C\uFF0C\u7136\u540E\u4F7F\u7528\u4E86"),l("code",null,"irate"),s("\u51FD\u6570\u6765\u7EDF\u8BA1\u5B83\u7684\u5E73\u5747\u503C\uFF0C\u8F6C\u5316\u6210\u4E86\u767E\u5206\u6BD4\uFF0C\u4E58\u4E86\u4E00\u767E\uFF0C\u6240\u4EE5\u6267\u884C\u7ED3\u679C\u5982\u4E0B\u3002")],-1),yo=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709114935.png#mirages-width=1761&mirages-height=439&mirages-cdn-type=5",alt:"20190709114935"})],-1),io=l("p",null,[s("\u8FD9\u5C31\u662F\u6240\u6709"),l("code",null,"CPU"),s("\u7684\u7A7A\u95F2\u7387\u4E86\uFF0C\u6211\u8981\u53D6\u7684\u662F\u6240\u6709CPU\u7684\u4F7F\u7528\u7387\uFF0C\u6240\u4EE5\u53C8\u4E00\u767E\u51CF\u53BB\u4E86\u7A7A\u95F2\u7387\u7684\u503C\u5C31\u662F\u4F7F\u7528\u7387\u4E86\uFF0C\u6240\u4EE5\u4E0A\u9762\u7B2C\u4E00\u6761"),l("code",null,"sql"),s("\u6267\u884C\u53D1\u56DE\u7684\u7ED3\u679C\u5982\u4E0B\u3002")],-1),Fo=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709115136.png#mirages-width=1667&mirages-height=420&mirages-cdn-type=5",alt:"20190709115136"})],-1),Co=l("p",null,[s("\u8FD9\u5C31\u662F\u4E94\u5206\u949F\u4E4B\u5185\u603B\u7684"),l("code",null,"CPU"),s("\u7684\u5E73\u5747\u4F7F\u7528\u7387\u4E86\uFF0C\u6211\u7684\u90A3\u4E2A\u8282\u70B9\u5C31\u662F\u56DB\u6838"),l("code",null,"CPU"),s("\uFF0C\u6BCF\u4E2A\u90FD\u88AB\u5217\u51FA\u6765\u4E86\uFF0C\u771F\u9E21\u513F\u9EBB\u70E6\uFF0C\u518D\u770B\u4E00\u4E0B\u5185\u5B58\u4F7F\u7528\u7387\uFF0C\u548C\u4E0A\u9762\u5176\u5B9E\u4E00\u6837\uFF0C\u503C\u90FD\u6709\u4E86\uFF0C\u6C42\u51FA\u4ED6\u7684\u767E\u5206\u6BD4\u5C31\u884C\u4E86\uFF0C")],-1),Ao=l("h4",{id:"\u67E5\u8BE2\u5185\u5B58\u4F7F\u7528\u7387",tabindex:"-1"},[s("\u67E5\u8BE2\u5185\u5B58\u4F7F\u7528\u7387 "),l("a",{class:"header-anchor",href:"#\u67E5\u8BE2\u5185\u5B58\u4F7F\u7528\u7387","aria-hidden":"true"},"#")],-1),uo=l("p",null,[l("code",null,"linux"),s("\u5185\u6838\u6709\u4E00\u4E2A\u5185\u5B58\u7F13\u5B58\u673A\u5236\uFF0C\u6240\u4EE5"),l("code",null,"buff/cache"),s("\u7684\u5360\u7528\u4E0D\u7B97\u662F\u5DF2\u88AB\u4F7F\u7528\u7684\u7269\u7406\u5185\u5B58\uFF0C\u6240\u4EE5\u8BA1\u7B97\u65B9\u5F0F\u5C31\u662F\u5C06\u8FD9\u4E09\u4E2A\u503C\u52A0\u5230\u4E00\u8D77\u5C31\u662F\u5269\u4F59\u5185\u5B58\u4E86\uFF0C")],-1),mo=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709134042.png#mirages-width=611&mirages-height=61&mirages-cdn-type=5",alt:"20190709134042"})],-1),go=l("p",null,[l("code",null,"sql"),s("\u7684\u8BDD\u8FD9\u6837\u5199\uFF0C\u76F4\u63A5\u67E5\u4E00\u4E0B\uFF0C")],-1),ho=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"node_memory_MemFree_bytes"),l("span",{style:{color:"#89DDFF"}},"+"),l("span",{style:{color:"#A6ACCD"}},"node_memory_Cached_bytes"),l("span",{style:{color:"#89DDFF"}},"+"),l("span",{style:{color:"#A6ACCD"}},"node_memory_Buffers_bytes")]),s(`
`),l("span",{class:"line"})])])],-1),_o=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709134504.png#mirages-width=1600&mirages-height=341&mirages-cdn-type=5",alt:"20190709134504"})],-1),bo=l("p",null,[s("\u8FD9\u5C31\u662F\u603B\u5171\u5269\u4F59\u7684\u5185\u5B58\uFF0C\u5355\u4F4D\u662F"),l("code",null,"bite"),s("\uFF0C\u73B0\u5728\u6211\u8981\u8BA1\u7B97\u4F7F\u7528\u5185\u5B58\u767E\u5206\u6BD4\uFF0C\u548C\u4E0A\u9762\u770B"),l("code",null,"CPU"),s("\u4F7F\u7528\u7387\u7684\u65B9\u6CD5\u4E00\u81F4\uFF0C"),l("code",null,"sql"),s("\u5982\u4E0B")],-1),Eo=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F78C6C"}},"100"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," (node_memory_MemFree_bytes"),l("span",{style:{color:"#89DDFF"}},"+"),l("span",{style:{color:"#A6ACCD"}},"node_memory_Cached_bytes"),l("span",{style:{color:"#89DDFF"}},"+"),l("span",{style:{color:"#A6ACCD"}},"node_memory_Buffers_bytes) "),l("span",{style:{color:"#89DDFF"}},"/"),l("span",{style:{color:"#A6ACCD"}}," node_memory_MemTotal_bytes "),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#F78C6C"}},"100")]),s(`
`),l("span",{class:"line"})])])],-1),vo=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709135149.png#mirages-width=1505&mirages-height=408&mirages-cdn-type=5",alt:"20190709135149"})],-1),xo=l("p",null,"\u4E0B\u9762\u770B\u770B\u786C\u76D8\u4F7F\u7528\u7387",-1),fo=l("h4",{id:"\u67E5\u8BE2\u786C\u76D8\u4F7F\u7528\u7387",tabindex:"-1"},[s("\u67E5\u8BE2\u786C\u76D8\u4F7F\u7528\u7387 "),l("a",{class:"header-anchor",href:"#\u67E5\u8BE2\u786C\u76D8\u4F7F\u7528\u7387","aria-hidden":"true"},"#")],-1),wo=l("p",null,"\u4F60\u7684\u78C1\u76D8\u548C\u6302\u8F7D\u70B9\u53EF\u80FD\u4E0D\u6B62\u4E00\u4E2A\uFF0C\u5148\u770B\u4E00\u4E0B\u76EE\u524D\u6536\u96C6\u5230\u7684\u4FE1\u606F\uFF0C",-1),ko=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709145758.png#mirages-width=1470&mirages-height=478&mirages-cdn-type=5",alt:"20190709145758"})],-1),qo=l("p",null,"\u6240\u4EE5\u5C31\u8981\u6307\u5B9A\u5206\u533A\u8FDB\u884C\u8BA1\u7B97\u4E86\uFF0C\u6240\u4EE5\u5339\u914D\u8FD9\u91CC\u5199\u4E86\u4E00\u4E2A\u6B63\u5219\u53BB\u5339\u914D\u4F60\u6302\u8F7D\u7684\u78C1\u76D8\uFF0C\u5982\u4E0B",-1),Po=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F78C6C"}},"100"),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," (node_filesystem_free_bytes{mountpoint"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"/"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},",fstype"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}},"~"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"ext4|xfs"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"} "),l("span",{style:{color:"#89DDFF"}},"/"),l("span",{style:{color:"#A6ACCD"}}," node_filesystem_size_bytes{mountpoint"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"/"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},",fstype"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}},"~"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"ext4|xfs"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"} "),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#F78C6C"}},"100"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"})])])],-1),jo=l("p",null,[l("code",null,"node_filesystem_size_bytes"),s("\u67E5\u7684\u662F"),l("code",null,"/"),s("\u603B\u5927\u5C0F\uFF0C"),l("code",null,"node_filesystem_free_bytes"),s("\u67E5\u7684\u662F\u5269\u4F59\u5927\u5C0F\uFF0C\u53EA\u5339\u914D"),l("code",null,"ext4&xfs"),s("\u7C7B\u578B\u7684\uFF0C\u50CF\u662F\u4EC0\u4E48"),l("code",null,"tmpfs&shm"),s("\u7C7B\u578B\u7684\u90FD\u4E0D\u5339\u914D\uFF0C\u8FD8\u662F\u7B97\u51FA\u4E86\u5269\u4F59\u7684\u767E\u5206\u6BD4\uFF0C\u6240\u4EE5\u6267\u884C\u540E\u7684\u7ED3\u679C\u662F\u8FD9\u6837\uFF0C")],-1),So=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709150539.png#mirages-width=1907&mirages-height=326&mirages-cdn-type=5",alt:"20190709150539"})],-1),$o=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709150559.png#mirages-width=1185&mirages-height=254&mirages-cdn-type=5",alt:"20190709150559"})],-1),Uo=l("p",null,"\u8BA1\u7B97\u65B9\u5F0F\u5927\u6982\u5C31\u662F\u8FD9\u6837\uFF0C\u73B0\u5728\u8FD8\u6CA1\u6D89\u53CA\u5230\u56FE\u5F62\u5C55\u793A\u8FD9\u4E00\u5757\uFF0C\u4E0B\u9762\u770B\u4E00\u4E0B\u83B7\u53D6\u7CFB\u7EDF\u670D\u52A1\u8FD0\u884C\u72B6\u6001\u3002",-1),To=l("h4",{id:"\u67E5\u8BE2\u7CFB\u7EDF\u670D\u52A1\u8FD0\u884C\u72B6\u6001",tabindex:"-1"},[s("\u67E5\u8BE2\u7CFB\u7EDF\u670D\u52A1\u8FD0\u884C\u72B6\u6001 "),l("a",{class:"header-anchor",href:"#\u67E5\u8BE2\u7CFB\u7EDF\u670D\u52A1\u8FD0\u884C\u72B6\u6001","aria-hidden":"true"},"#")],-1),Io=l("p",null,[s("\u5C31\u662F\u76D1\u63A7\u7CFB\u7EDF\u670D\u52A1\u8FD0\u884C\u72B6\u6001\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u76D1\u63A7\u4EE5"),l("code",null,"systemctl"),s("\u542F\u52A8\u7684\u670D\u52A1\uFF0C\u73B0\u5728\u76D1\u63A7\u4E00\u4E0B\u8FD9\u4E2A\uFF0C"),l("code",null,"node_exports"),s("\u5C31\u652F\u6301\u5BF9\u8FD9\u79CD\u670D\u52A1\u8FDB\u884C\u76D1\u63A7\uFF0C\u76EE\u524D\u8FD8\u6CA1\u6709\u542F\u7528\u8FD9\u4E2A\u529F\u80FD\uFF0C\u73B0\u5728\u542F\u52A8\u4E00\u4E0B\u6492\uFF0C\u76F4\u63A5\u53BB\u6539"),l("code",null,"node_exports"),s("\u7684\u542F\u52A8\u6587\u4EF6\uFF0C\u52A0\u4E24\u6761\u53C2\u6570\u5373\u53EF\u3002")],-1),Oo=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# cat /usr/lib/systemd/system/node_exporter.service ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Unit"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Description=node_exporter")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Service"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Restart=on-failure")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"ExecStart=/usr/local/node_exporter/node_exporter --collector.systemd --collector.systemd.unit-whitelist="),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD"}},"docker"),l("span",{style:{color:"#89DDFF"}},"|"),l("span",{style:{color:"#A6ACCD"}},"sshd"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#A6ACCD"}},".service")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Install"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"WantedBy=multi-user.target")]),s(`
`),l("span",{class:"line"})])])],-1),No=l("p",null,[s("\u7B2C\u4E8C\u6BB5\u5C31\u662F\u5236\u5B9A\u6211\u8981\u76D1\u63A7\u54EA\u4E9B\u7CFB\u7EDF\u670D\u52A1\uFF0C\u6211\u5199\u4E86"),l("code",null,"docker&sshd"),s("\uFF0C\u91CD\u542F\u540E\u53EF\u4EE5\u53BB\u67E5\u8BE2\u4E86\uFF0C")],-1),Bo=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# systemctl daemon-reload         ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# systemctl restart node_exporter.service ")]),s(`
`),l("span",{class:"line"})])])],-1),Go=l("p",null,[s("\u6211\u67E5\u4E00\u4E0B\u5F53\u524D"),l("code",null,"docker&sshd"),s("\u7684\u8FD0\u884C\u72B6\u6001\u662F\u4EC0\u4E48\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8FD9\u6837\u5199\u4E86\uFF0C")],-1),zo=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"node_systemd_unit_state{exported_name"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}},"~"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"(docker|sshd).service"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),Mo=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709153503.png#mirages-width=1908&mirages-height=601&mirages-cdn-type=5",alt:"20190709153503"})],-1),Lo=l("p",null,[s("\u76EE\u524D"),l("code",null,"state=active"),s("\u7684\u503C\u4E3A"),l("code",null,"0"),s("\uFF0C\u8BF4\u660E\u6B63\u5E38\u8FD0\u884C\uFF0C\u6240\u4EE5\u4E4B\u540E\u5199\u544A\u8B66\u89C4\u5219\u7684\u65F6\u5019\u5C31\u53BB\u5224\u65AD\u8FD9\u4E2A\u503C\u662F\u4E0D\u662F"),l("code",null,"1"),s("\uFF0C\u5982\u679C\u4E0D\u662F\u5C31\u8981\u8FDB\u884C\u67D0\u4E9B\u64CD\u4F5C\u4E86\uFF0C\u4E0B\u9762\u88C5\u4E00\u4E0B"),l("code",null,"grafana"),s("\u5427")],-1),Ro=l("h3",{id:"\u90E8\u7F72grafana",tabindex:"-1"},[s("\u90E8\u7F72grafana "),l("a",{class:"header-anchor",href:"#\u90E8\u7F72grafana","aria-hidden":"true"},"#")],-1),Qo=l("p",null,[l("code",null,"grafana"),s("\u5C31\u662F\u4E00\u4E2A\u56FE\u5F62\u5C55\u793A\u7CFB\u7EDF\uFF0C\u4ED6\u4E3B\u8981\u662F\u5BF9\u5EA6\u91CF\u6307\u6807\u8FDB\u884C\u5206\u6790\u53EF\u89C6\u5316\uFF0C\u4ED6\u672C\u8EAB\u4E0D\u4F1A\u5B58\u50A8\u4EFB\u4F55\u6570\u636E\uFF0C\u4ED6\u53EA\u4F1A\u5C55\u793A\u6570\u636E\u5E93\u91CC\u9762\u7684\u6570\u636E\uFF0C\u652F\u6301\u5F88\u591A\u7C7B\u578B\u7684\u6570\u636E\u5E93\uFF0C"),l("a",{href:"https://grafana.com/",target:"_blank",rel:"noreferrer"},"\u5B98\u7F51"),s("\uFF0C\u521A\u597D\u6211\u88C5\u6709"),l("code",null,"docker"),s("\uFF0C\u5176\u5B9E\u76EE\u524D\u5728\u64CD\u4F5C\u7684\u8FD9\u4E24\u53F0\u670D\u52A1\u662F\u4E00\u4E2A"),l("code",null,"k8s"),s("\u96C6\u7FA4\uFF0C\u7528"),l("code",null,"kubeadm"),s("\u542F\u52A8\u7684\uFF0C\u6240\u4EE5\u6211\u76F4\u63A5\u7528"),l("code",null,"docker"),s("\u542F\u52A8\u4E86\uFF0C\u8FD8\u662F\u5199\u4E2A"),l("code",null,"deployment"),s("\uFF0C\u7B97\u4E86\u76F4\u63A5\u7528"),l("code",null,"docker"),s("\u547D\u4EE4\u542F\u5427\uFF0C")],-1),Wo=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@kubeadm-node "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# docker run \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," -u 0 \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," -d \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," -p 3000:3000  \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," --name=grafana   \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," -v /var/lib/grafana:/var/lib/grafana \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," grafana/grafana")]),s(`
`),l("span",{class:"line"})])])],-1),Ho=l("p",null,[s("\u8FD9\u6837\u5C31\u884C\u4E86\uFF0C\u76F4\u63A5\u8BBF\u95EE"),l("code",null,"3000"),s("\u7AEF\u53E3\u5C31\u597D\u4E86\uFF0C\u7528\u6237\u540D\u5BC6\u7801\u9ED8\u8BA4"),l("code",null,"admin/admin"),s("\uFF0C\u521D\u6B21\u767B\u9646\u4F1A\u8BA9\u4F60\u4FEE\u6539\u5BC6\u7801\uFF0C\u5C31\u53EF\u4EE5\u770B\u5230\u4E3B\u9875\u4E86\uFF0C\u7136\u540E\u76F4\u63A5\u6DFB\u52A0\u6570\u636E\u6E90\uFF0C\u628A"),l("code",null,"prometheus"),s("\u52A0\u8FDB\u53BB\uFF0C\u4FDD\u5B58\u5C31\u884C\u4E86\uFF0C")],-1),Ko=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709163321.png#mirages-width=556&mirages-height=777&mirages-cdn-type=5",alt:"20190709163321"})],-1),Vo=l("p",null,[s("\u7136\u540E\u76F4\u63A5\u5BFC\u5165\u4E00\u4E2A\u4EEA\u8868\u76D8\u8FDB\u6765\u5427\uFF0C"),l("code",null,"ID"),s("\u662F"),l("code",null,"9276"),s("\uFF0C\u5927\u6982\u662F\u8FD9\u79CD\u6548\u679C\uFF0C")],-1),Jo=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709173630.png#mirages-width=1786&mirages-height=883&mirages-cdn-type=5",alt:"img"})],-1),Yo=l("p",null,[s("\u7136\u540E\u7F51\u7EDC\u5E26\u5BBD\u90A3\u91CC\u6CA1\u6570\u636E\uFF0C\u6211\u770B\u4E86\u4E00\u4E0B\u4ED6\u7684"),l("code",null,"sql"),s("\uFF0C\u53EA\u9700\u8981\u5C06"),l("code",null,"$nic"),s("\u6539\u4E3A\u4F60\u7684\u7F51\u5361\u540D\u5C31\u6709\u6570\u636E\u4E86\uFF0C\u6240\u4EE5\u73B0\u5728\u76D1\u63A7"),l("code",null,"linux"),s("\u670D\u52A1\u5668\u662F\u6CA1\u95EE\u9898\u4E86\uFF0C\u4E0B\u9762\u8BD5\u8BD5\u76D1\u63A7"),l("code",null,"docker"),s("\u3002")],-1),Zo=l("h3",{id:"\u76D1\u63A7docker",tabindex:"-1"},[s("\u76D1\u63A7docker "),l("a",{class:"header-anchor",href:"#\u76D1\u63A7docker","aria-hidden":"true"},"#")],-1),Xo=l("p",null,[s("\u60F3\u8981\u76D1\u63A7"),l("code",null,"docker"),s("\u9700\u8981\u7528\u5230\u540D\u4E3A"),l("code",null,"cadvisor"),s("\u7684\u5DE5\u5177\uFF0C\u662F\u8C37\u6B4C\u5F00\u6E90\u7684\uFF0C\u5B83\u7528\u4E8E\u6536\u96C6\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u8D44\u6E90\u4F7F\u7528\u548C\u6027\u80FD\u4FE1\u606F\uFF0C"),l("a",{href:"https://github.com/google/cadvisor",target:"_blank",rel:"noreferrer"},"github"),s("\u5730\u5740\uFF0C\u4F60\u9700\u8981\u5728\u8981\u76D1\u63A7\u7684\u670D\u52A1\u5668\u4E0A\u90E8\u7F72"),l("code",null,"cadvisor"),s("\uFF0C\u76F4\u63A5\u7528"),l("code",null,"docker"),s("\u53BB\u542F\u52A8\u5C31\u5B8C\u4E86\uFF0C\u547D\u4EE4\u5982\u4E0B")],-1),le=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"docker run \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --volume=/:/rootfs:ro \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --volume=/var/run:/var/run:ro \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --volume=/sys:/sys:ro \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --volume=/var/lib/docker/:/var/lib/docker:ro \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --volume=/dev/disk/:/dev/disk:ro \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --publish=8080:8080 \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --detach=true \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  --name=cadvisor \\")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  google/cadvisor:latest")]),s(`
`),l("span",{class:"line"})])])],-1),se=l("p",null,[s("\u5BB9\u5668\u542F\u52A8\u540E\u4E5F\u662F\u4F1A\u66B4\u9732\u4E00\u4E2A\u6307\u6807\u63A5\u53E3\uFF0C\u9ED8\u8BA4\u662F"),l("code",null,"8080/metrics"),s("\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u8BBF\u95EE\u4E86\uFF0C\u4E0B\u4E00\u6B65\u5C31\u662F\u52A0\u5165\u5230\u666E\u7F57\u7C73\u4FEE\u65AF\u4E2D\u8FDB\u884C\u76D1\u63A7\u4E86\uFF0C\u53BB\u6539\u4ED6\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u9759\u6001\u914D\u7F6E\u4E00\u4E2A\u5427\uFF0C")],-1),oe=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"docker"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"192.168.1.248:8080"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),ee=l("p",null,[s("\u52A0\u5B8C\u76F4\u63A5\u91CD\u8F7D\uFF0C\u9875\u9762\u76F4\u63A5\u5BFC\u5165\u4E00\u4E2A\u56FE\u8868\u5427\uFF0C"),l("code",null,"ID"),s("\u662F"),l("code",null,"193"),s("\u6216\u800511277\u518D\u6216\u800511600\uFF01\uFF01\uFF01\uFF0C\u6548\u679C\u662F\u8FD9\u6837\u7684\uFF0C")],-1),ne=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709181607.png#mirages-width=1787&mirages-height=969&mirages-cdn-type=5",alt:"20190709181607"})],-1),ae=l("p",null,[s("\u4E3B\u8981\u5C31\u662F\u76D1\u63A7\u5BB9\u5668\u7684"),l("code",null,"CPU"),s("\u5185\u5B58\u7F51\u7EDC\u6D41\u91CF\u7684\uFF0C\u90FD\u53EF\u770B\u5230\uFF0C\u76EE\u524D\u6211"),l("code",null,"248"),s("\u5C31\u8FD0\u884C\u4E86\u516D\u4E2A\u5BB9\u5668\uFF0C\u5C31\u662F\u8FD9\u6837\uFF0C\u4E0B\u9762\u5728\u770B\u770B\u76D1\u63A7"),l("code",null,"mysql")],-1),te=l("h3",{id:"\u76D1\u63A7mysql",tabindex:"-1"},[s("\u76D1\u63A7mysql "),l("a",{class:"header-anchor",href:"#\u76D1\u63A7mysql","aria-hidden":"true"},"#")],-1),ce=l("p",null,[s("\u76D1\u63A7"),l("code",null,"mysql"),s("\u5C31\u4F1A\u7528\u5230"),l("code",null,"mysql_exporter"),s("\uFF0C\u8FD9\u4E2A\u4E5F\u80FD\u5728\u5B98\u7F51\u4E0B\u5230\uFF0C\u4E5F\u5C31\u662F"),l("a",{href:"https://prometheus.io/download/#mysqld_exporter",target:"_blank",rel:"noreferrer"},"\u8FD9\u91CC"),s("\uFF0C\u8FD9\u4E2A\u4E1C\u897F\u9700\u8981\u4F60\u5B89\u88C5\u5230\u8FD0\u884C"),l("code",null,"mysql"),s("\u7684\u5B9E\u4F8B\u4E0A\uFF0C\u672C\u5730\u7684"),l("code",null,"mysql"),s("\u6BD4\u8F83\u591A\uFF0C\u6211\u968F\u4FBF\u627E\u4E86\u4E00\u4E2A\u6254\u4E86\u4E0A\u53BB\uFF0C\u5148\u53BB"),l("code",null,"mysql"),s("\u521B\u5EFA\u4E00\u4E2A\u7528\u6237\u5427\uFF0C\u8FD9\u4E2A\u7A0B\u5E8F\u9700\u8981\u8FDE\u63A5\u660E\u6708\u4E09\u5343\u91CC\u624D\u80FD\u83B7\u53D6\u5230\u6307\u6807\u3002")],-1),re=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"mysql"),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"CREATE"),l("span",{style:{color:"#A6ACCD"}}," USER "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"exporter"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"@"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}}," IDENTIFIED "),l("span",{style:{color:"#F78C6C"}},"BY"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"exporter"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},";")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Query OK, "),l("span",{style:{color:"#F78C6C"}},"0"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"rows"),l("span",{style:{color:"#A6ACCD"}}," affected ("),l("span",{style:{color:"#F78C6C"}},"0"),l("span",{style:{color:"#A6ACCD"}},"."),l("span",{style:{color:"#F78C6C"}},"02"),l("span",{style:{color:"#A6ACCD"}}," sec)")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"mysql"),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"GRANT"),l("span",{style:{color:"#A6ACCD"}}," PROCESS, REPLICATION CLIENT, "),l("span",{style:{color:"#F78C6C"}},"SELECT"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"ON"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#A6ACCD"}},"."),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"TO"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"exporter"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"@"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"localhost"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},";")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Query OK, "),l("span",{style:{color:"#F78C6C"}},"0"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"rows"),l("span",{style:{color:"#A6ACCD"}}," affected ("),l("span",{style:{color:"#F78C6C"}},"0"),l("span",{style:{color:"#A6ACCD"}},"."),l("span",{style:{color:"#F78C6C"}},"00"),l("span",{style:{color:"#A6ACCD"}}," sec)")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"mysql"),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," flush privileges;")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Query OK, "),l("span",{style:{color:"#F78C6C"}},"0"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"rows"),l("span",{style:{color:"#A6ACCD"}}," affected ("),l("span",{style:{color:"#F78C6C"}},"0"),l("span",{style:{color:"#A6ACCD"}},"."),l("span",{style:{color:"#F78C6C"}},"00"),l("span",{style:{color:"#A6ACCD"}}," sec)")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"mysql"),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"select"),l("span",{style:{color:"#A6ACCD"}}," user,host "),l("span",{style:{color:"#F78C6C"}},"from"),l("span",{style:{color:"#A6ACCD"}}," mysql.user;")]),s(`
`),l("span",{class:"line"})])])],-1),pe=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709184630.png#mirages-width=476&mirages-height=226&mirages-cdn-type=5",alt:"20190709184630"})],-1),De=l("p",null,"\u7528\u6237\u521B\u5EFA\u597D\u4E86\u53BB\u89E3\u538B\u5305\u5427\uFF0C",-1),ye=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@mysql "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# tar zxf mysqld_exporter-0.11.0.linux-amd64.tar.gz -C /usr/local/ && cd /usr/local/")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@mysql local"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# mv mysqld_exporter-0.11.0.linux-amd64/ mysqld_exporter && cd mysqld_exporter")]),s(`
`),l("span",{class:"line"})])])],-1),ie=l("p",null,[s("\u9700\u8981\u5199\u4E00\u4E2A\u6587\u4EF6\uFF0C"),l("code",null,"mysqld_exporter"),s("\u76F4\u63A5\u8BFB\u8FD9\u4E2A\u6587\u4EF6\u5C31\u53EF\u4EE5\u8FDE\u63A5"),l("code",null,"mysql"),s("\u4E86\uFF0C")],-1),Fe=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@mysql mysqld_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# cat .my.cnd")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"client"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"user=exporter")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"password=exporter")]),s(`
`),l("span",{class:"line"})])])],-1),Ce=l("p",null,"\u6587\u4EF6\u6709\u4E86\uFF0C\u5728\u542F\u52A8\u7684\u65F6\u5019\u6307\u5B9A\u4E00\u4E0B\u8BFB\u53D6\u8FD9\u4E2A\u6587\u4EF6\uFF0C\u76F4\u63A5\u542F\u52A8",-1),Ae=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@mysql mysqld_exporter"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# ./mysqld_exporter --config.my-cnf=.my.cnf")]),s(`
`),l("span",{class:"line"})])])],-1),ue=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709185400.png#mirages-width=692&mirages-height=115&mirages-cdn-type=5",alt:"img"})],-1),de=l("p",null,"\u73B0\u5728\u628A\u8FD9\u4E2A\u52A0\u5230\u666E\u7F57\u7C73\u4FEE\u65AF\u4E2D\uFF0C",-1),me=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"mysql"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"192.168.1.126:9104"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),ge=l("p",null,[s("\u7136\u540E\u5BFC\u5165\u4E00\u4E2A\u4EEA\u8868\u76D8\uFF0C"),l("code",null,"ID"),s("\u4E3A"),l("code",null,"7362"),s("\uFF0C\u770B\u9875\u9762\uFF0C")],-1),he=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190709190259.png#mirages-width=1795&mirages-height=900&mirages-cdn-type=5",alt:"img"})],-1),_e=l("p",null,[s("\u8FD8\u662F\u6709\u4E9B\u7A7A\u503C\uFF0C\u800C\u4E14\u5B98\u65B9\u4E5F\u8BF4\u4E86"),l("code",null,"5.6"),s("\u7248\u672C\u6709\u4E9B\u4E0D\u652F\u6301\uFF0C\u6211\u770B\u4E86\u4E00\u4E0B"),l("code",null,"Buffer Pool Size of Total RAM"),s("\u7684"),l("code",null,"sql"),s("\uFF0C\u662F\u8FD9\u6837\u5199\u7684\uFF0C")],-1),be=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"(mysql_global_variables_innodb_buffer_pool_size{instance"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"$host"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"} "),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"100"),l("span",{style:{color:"#A6ACCD"}},") "),l("span",{style:{color:"#89DDFF"}},"/"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"on"),l("span",{style:{color:"#A6ACCD"}}," (instance) node_memory_MemTotal_bytes{instance"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"$host"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),Ee=l("p",null,[s("\u73B0\u5728\u5E94\u8BE5\u80FD\u770B\u7684\u5DEE\u4E0D\u591A\u4E86\uFF0C\u4ED6\u53BB\u67E5\u4E86"),l("code",null,"mysql"),s("\u8282\u70B9\u7684\u603B\u5185\u5B58\uFF0C\u4F46\u662F\u6211\u660E\u6708\u4E09\u5343\u91CC\u8282\u70B9\u5E76\u6CA1\u6709\u88C5"),l("code",null,"node_exports"),s("\uFF0C\u6240\u4EE5\u5C31\u6CA1\u6570\u636E\u4E86\uFF0C\u603B\u4E4B\u652F\u6301\u91C7\u96C6\u7684\u6570\u636E\u548C\u4EEA\u8868\u76D8\u6A21\u677F\u5F88\u591A\uFF0C\u81EA\u884C\u7422\u78E8\u5427\uFF0C\u4E0A\u9762\u53EA\u662F\u6700\u7B80\u5355\u7684\u51E0\u4E2A\u4F8B\u5B50\uFF0C\u4E0B\u9762\u6765\u770B\u770B\u544A\u8B66\u8FD9\u4E00\u5757\u7684\u4E1C\u897F\u3002")],-1),ve=l("h2",{id:"alertmanager",tabindex:"-1"},[s("alertmanager "),l("a",{class:"header-anchor",href:"#alertmanager","aria-hidden":"true"},"#")],-1),xe=l("p",null,[s("\u666E\u7F57\u7C73\u4FEE\u65AF\u672C\u8EAB\u662F\u4E0D\u652F\u6301\u544A\u8B66\u7684\uFF0C\u544A\u8B66\u662F\u7531"),l("code",null,"alertmanager"),s("\u8FD9\u4E2A\u7EC4\u4EF6\u5B8C\u6210\u7684\uFF0C\u666E\u7F57\u7C73\u4FEE\u65AF\u5C06\u544A\u8B66\u6536\u96C6\u8D77\u6765\u4F1A\u63A8\u9001\u7ED9"),l("code",null,"alertmanager"),s("\uFF0C"),l("code",null,"alertmanager"),s("\u63A5\u6536\u5230\u544A\u8B66\u540E\u51B3\u5B9A\u600E\u4E48\u53BB\u5904\u7406\u8FD9\u4E9B\u544A\u8B66\uFF0C\u5E94\u8BE5\u53D1\u7ED9\u8C01\uFF0C\u4E0B\u9762\u5148\u90E8\u7F72\u4E00\u4E0B"),l("code",null,"alertmanager"),s("\u5427\uFF0C\u6211\u76F4\u63A5\u4E0B\u8F7D\u4E86\uFF0C\u5728\u666E\u7F57\u7C73\u4FEE\u65AF\u670D\u52A1\u5668\u4E0A\uFF0C")],-1),fe=l("h3",{id:"\u90E8\u7F72alertmanager",tabindex:"-1"},[s("\u90E8\u7F72alertmanager "),l("a",{class:"header-anchor",href:"#\u90E8\u7F72alertmanager","aria-hidden":"true"},"#")],-1),we=l("p",null,[l("code",null,"alertmanager"),s("\u6CA1\u5FC5\u8981\u548C\u666E\u7F57\u7C73\u4FEE\u65AF\u653E\u5728\u4E00\u4E2A\u670D\u52A1\u5668\u4E0A\uFF0C\u4ED6\u4EEC\u4E4B\u95F4\u80FD\u901A\u8BAF\u5C31\u53EF\u4EE5\u4E86\uFF0C\u6211\u76EE\u524D\u8D44\u6E90\u7D27\u5F20\u5C31\u6254\u5230\u4E00\u8D77\u4E86\uFF0C\u76F4\u63A5"),l("code",null,"wget"),s("\u4E86\uFF0C")],-1),ke=l("div",{class:"language-bash"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# wget https://github.com/prometheus/alertmanager/releases/download/v0.18.0/alertmanager-0.18.0.linux-amd64.tar.gz")]),s(`
`),l("span",{class:"line"})])])],-1),qe=l("p",null,[s("\u8BA9\u4ED6\u5148\u4E0B\u7740\uFF0C\u804A\u4E00\u4E0B\u666E\u7F57\u7C73\u4FEE\u65AF\u548C"),l("code",null,"alertmanager"),s("\u662F\u600E\u4E48\u901A\u8BAF\u7684\uFF0C\u9996\u5148\u4F60\u9700\u8981\u5728"),l("code",null,"prometheus"),s("\u4E2D\u5B9A\u4E49\u4F60\u7684\u76D1\u63A7\u89C4\u5219\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u5199\u4E00\u4E2A\u89E6\u53D1\u5668\uFF0C\u67D0\u4E2A\u503C\u8D85\u8FC7\u4E86\u6211\u8BBE\u7F6E\u7684\u9608\u503C\u6211\u5C31\u8981\u544A\u8B66\u4E86\uFF0C\u89E6\u53D1\u544A\u8B66\u4E4B\u540E"),l("code",null,"prometheus"),s("\u4F1A\u63A8\u9001\u5F53\u524D\u7684\u544A\u8B66\u89C4\u5219\u5230"),l("code",null,"alertmanager"),s("\uFF0C"),l("code",null,"alertmanager"),s("\u6536\u5230\u4E86\u4F1A\u8FDB\u884C\u4E00\u7CFB\u5217\u7684\u6D41\u7A0B\u5904\u7406\uFF0C\u7136\u540E\u53D1\u9001\u5230\u63A5\u6536\u4EBA\u624B\u91CC\uFF0C\u4ED6\u7684\u5904\u7406\u89C4\u5219\u4E5F\u662F\u5F88\u590D\u6742\u7684\uFF0C\u540E\u9762\u4F1A\u8BF4\uFF0C\u73B0\u5728\u4E5F\u4E0B\u8F7D\u5B8C\u4E86\uFF0C\u89E3\u538B")],-1),Pe=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# tar zxf alertmanager-0.18.0.linux-amd64.tar.gz ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai "),l("span",{style:{color:"#89DDFF"}},"~]"),l("span",{style:{color:"#676E95"}},"# mv alertmanager-0.18.0.linux-amd64 /usr/local/alertmanager && cd /usr/local/alertmanager && ls")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"alertmanager  alertmanager.yml  amtool  LICENSE  NOTICE")]),s(`
`),l("span",{class:"line"})])])],-1),je=l("p",null,"\u6709\u4E24\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u5206\u522B\u662F\u542F\u52A8\u7A0B\u5E8F\u548C\u4E00\u4E2A\u5DE5\u5177\uFF0C\u8FD8\u6709\u4E00\u4E2A\u4E3B\u914D\u7F6E\u6587\u4EF6\uFF0C\u5148\u6765\u4E86\u89E3\u4E00\u4E0B\u4ED6\u7684\u4E3B\u914D\u7F6E\u6587\u4EF6\uFF0C",-1),Se=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"resolve_timeout"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5m")]),s(`
`),l("span",{class:"line"})])])],-1),$e=l("p",null,"\u5168\u5C40\u914D\u7F6E\uFF0C\u8BBE\u7F6E\u89E3\u6790\u8D85\u65F6\u65F6\u95F4\uFF0C",-1),Ue=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"route"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#676E95"}},"##alertmanager\u4E2D\u7684\u5206\u7EC4\uFF0C\u9009\u54EA\u4E2A\u6807\u7B7E\u4F5C\u4E3A\u5206\u7EC4\u7684\u4F9D\u636E")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s"),l("span",{style:{color:"#A6ACCD"}},"              "),l("span",{style:{color:"#676E95"}},"##\u5206\u7EC4\u7B49\u5F85\u65F6\u95F4\uFF0C\u62FF\u5230\u7B2C\u4E00\u6761\u544A\u8B66\u540E\u7B49\u5F8510s\uFF0C\u5982\u679C\u6709\u5176\u4ED6\u7684\u4E00\u8D77\u53D1\u9001\u51FA\u53BB")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s"),l("span",{style:{color:"#A6ACCD"}},"          "),l("span",{style:{color:"#676E95"}},"##\u5404\u4E2A\u5206\u7EC4\u4E4B\u524D\u53D1\u641C\u544A\u8B66\u7684\u95F4\u9694\u65F6\u95F4")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1h"),l("span",{style:{color:"#A6ACCD"}},"          "),l("span",{style:{color:"#676E95"}},"##\u91CD\u590D\u544A\u8B66\u65F6\u95F4\uFF0C\u9ED8\u8BA41\u5C0F\u65F6")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"web.hook"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"##\u63A5\u6536\u8005")]),s(`
`),l("span",{class:"line"})])])],-1),Te=l("p",null,"\u8FD9\u91CC\u662F\u914D\u7F6E\u544A\u8B66\u7684\uFF0C\u914D\u7F6E\u544A\u8B66\u600E\u4E48\u53D1\u9001\uFF0C\u600E\u4E48\u6765\u5206\u914D\uFF0C",-1),Ie=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"receivers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"web.hook"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"webhook_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"url"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"http://127.0.0.1:5001/"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"})])])],-1),Oe=l("p",null,"\u8FD9\u91CC\u662F\u914D\u7F6E\u544A\u8B66\u7684\u63A5\u6536\u8005\uFF0C\u6211\u8981\u53D1\u9001\u7ED9\u8C01\uFF0C",-1),Ne=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"inhibit_rules"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"source_match"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"critical"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"target_match"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"warning"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"equal"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"dev"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"instance"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),Be=l("p",null,[s("\u8FD9\u91CC\u7528\u4E8E\u914D\u7F6E\u544A\u8B66\u6536\u655B\u7684\uFF0C\u4E3B\u8981\u5C31\u662F\u51CF\u5C11\u53D1\u9001\u544A\u8B66\uFF0C\u6765\u53D1\u9001\u4E00\u4E9B\u5173\u952E\u7684\uFF0C\u6240\u4EE5\u5148\u628A\u8FD9\u6BB5\u6CE8\u91CA\u4E86\u5427\uFF0C\u6682\u65F6\u7528\u4E0D\u5230\uFF0C\u4E4B\u540E\u4F1A\u7528\u5230\uFF0C\u6240\u4EE5\u57FA\u4E8E\u8FD9\u4E2A\u914D\u7F6E\u6587\u4EF6\u6539\u6539\uFF0C\u6682\u65F6\u5148\u53D1\u9001"),l("code",null,"email"),s("\u5427\uFF0C\u6240\u4EE5\u6539\u5B8C\u7684\u914D\u7F6E\u6587\u4EF6\u5982\u4E0B\uFF0C")],-1),Ge=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/alertmanager"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat alertmanager.yml"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"resolve_timeout"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_smarthost"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"smtp.163.com:25"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"#smtp\u670D\u52A1\u5730\u5740")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_from"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@163.com"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                  "),l("span",{style:{color:"#676E95"}},"#\u53D1\u9001\u90AE\u7BB1")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_auth_username"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@163.com"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"#\u8BA4\u8BC1\u7528\u6237\u540D")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_auth_password"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxxx"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                "),l("span",{style:{color:"#676E95"}},"#\u8BA4\u8BC1\u5BC6\u7801")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_require_tls"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"false"),l("span",{style:{color:"#A6ACCD"}},"                   "),l("span",{style:{color:"#676E95"}},"#\u7981\u7528tls")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"route"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"email"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                      "),l("span",{style:{color:"#676E95"}},"#\u5B9A\u4E49\u63A5\u53D7\u544A\u8B66\u7EC4\u540D")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"receivers"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                  ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"email"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                          "),l("span",{style:{color:"#676E95"}},"#\u5B9A\u4E49\u7EC4\u540D")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                         "),l("span",{style:{color:"#676E95"}},"#\u914D\u7F6E\u90AE\u4EF6")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xx@xxx.com"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                     "),l("span",{style:{color:"#676E95"}},"#\u6536\u4EF6\u4EBA")]),s(`
`),l("span",{class:"line"})])])],-1),ze=l("p",null,"\u4FDD\u5B58\u540E\u68C0\u67E5\u4E00\u4E0B\u8FD9\u4E2A\u6587\u4EF6\u6709\u6CA1\u6709\u95EE\u9898\uFF0C\u547D\u4EE4\u5982\u4E0B\uFF0C",-1),Me=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/alertmanager"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# ./amtool check-config alertmanager.yml ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Checking "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertmanager.yml"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"  SUCCESS")]),s(`
`),l("span",{class:"line"})])])],-1),Le=l("p",null,"\u7136\u540E\u53BB\u542F\u52A8\u5427\uFF0C\u8FD8\u662F\u52A0\u5230\u7CFB\u7EDF\u670D\u52A1\u4E2D\u5427\uFF0C",-1),Re=l("div",{class:"language-shell"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/alertmanager"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# cat > /usr/lib/systemd/system/alertmanager.service <<OEF ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Unit"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," Description=alertmanager")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Service"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," Restart=on-failure")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ExecStart=/usr/local/alertmanager/alertmanager --config.file=/usr/local/alertmanager/alertmanager.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"Install"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," WantedBy=multi-user.target")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," OEF")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#A6ACCD"}},"root@rj-bai /usr/local/alertmanager"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#676E95"}},"# systemctl start alertmanager")]),s(`
`),l("span",{class:"line"})])])],-1),Qe=l("p",null,[s("\u73B0\u5728"),l("code",null,"alertmanager"),s("\u662F\u88C5\u5B8C\u4E86\uFF0C\u9700\u8981\u548C"),l("code",null,"prometheus"),s("\u878D\u5408\u4E00\u4E0B\uFF0C\u9700\u8981\u914D\u7F6E\u4E24\u90E8\u5206\uFF0C\u5206\u522B\u5982\u4E0B\uFF0C")],-1),We=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"alerting"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"alertmanagers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"       "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"127.0.0.1:9093"),l("span",{style:{color:"#A6ACCD"}},"   "),l("span",{style:{color:"#676E95"}},"##\u914D\u7F6Ealertmanager\u5730\u5740\uFF0C\u6211\u7684\u5728\u672C\u673A")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"rule_files"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"rules/*.yml"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"##\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u7684\u6587\u4EF6")]),s(`
`),l("span",{class:"line"})])])],-1),He=l("p",null,[s("\u914D\u7F6E\u8FD9\u4E24\u9879\u5C31\u591F\u4E86\uFF0C\u4FDD\u5B58\u4E4B\u540E\u521B\u5EFA"),l("code",null,"rules"),s("\u76EE\u5F55\uFF0C\u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u4E86\u3002")],-1),Ke=l("h3",{id:"\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5",tabindex:"-1"},[s("\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5 "),l("a",{class:"header-anchor",href:"#\u914D\u7F6E\u544A\u8B66\u89C4\u5219\u5E76\u90AE\u4EF6\u901A\u77E5","aria-hidden":"true"},"#")],-1),Ve=l("p",null,"\u6211\u76F4\u63A5\u5728\u5B98\u65B9\u590D\u5236\u8FC7\u6765\u4E86\u4E00\u4E2A\u4F8B\u5B50\u987A\u4FBF\u6539\u4E86\u6539\uFF0C\u5982\u4E0B\uFF0C",-1),Je=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/prometheus/rules"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat example.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"groups"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"exports.rules"),l("span",{style:{color:"#A6ACCD"}},"     "),l("span",{style:{color:"#676E95"}},"##\u5B9A\u4E49\u8FD9\u7EC4\u544A\u8B66\u7684\u7EC4\u540D\uFF0C\u540C\u6027\u8D28\u7684\uFF0C\u90FD\u662F\u76D1\u63A7\u5B9E\u4F8Bexports\u662F\u5426\u5F00\u542F\u7684\u6A21\u677F")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"rules"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"alert"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"\u91C7\u96C6\u5668\u51C9\u4E86"),l("span",{style:{color:"#A6ACCD"}},"     "),l("span",{style:{color:"#676E95"}},"## \u544A\u8B66\u540D\u79F0")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"expr"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"up == 0"),l("span",{style:{color:"#A6ACCD"}},"        "),l("span",{style:{color:"#676E95"}},"## \u544A\u8B66\u8868\u8FBE\u5F0F\uFF0C\u76D1\u63A7up\u6307\u6807\uFF0C\u5982\u679C\u7B49\u4E8E0\u5C31\u8FDB\u884C\u4E0B\u9762\u7684\u64CD\u4F5C")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"for"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m"),l("span",{style:{color:"#A6ACCD"}},"              "),l("span",{style:{color:"#676E95"}},"## \u6301\u7EED\u4E00\u5206\u949F\u4E3A0\u8FDB\u884C\u544A\u8B66")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"labels"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"              "),l("span",{style:{color:"#676E95"}},"## \u5B9A\u4E49\u544A\u8B66\u7EA7\u522B")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"ERROR")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"annotations"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"         "),l("span",{style:{color:"#676E95"}},"## \u5B9A\u4E49\u4E86\u544A\u8B66\u901A\u77E5\u600E\u4E48\u5199\uFF0C\u9ED8\u8BA4\u8C03\u7528\u4E86{$labels.instance&$labels.job}\u7684\u503C")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"summary"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"\u5B9E\u4F8B {{ $labels.instance }} \u91C7\u96C6\u5668\u51C9\u4E86\u6492"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"description"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"\u5B9E\u4F8B {{ $labels.instance }} job \u540D\u4E3A {{ $labels.job }} \u7684\u91C7\u96C6\u5668\u51C9\u4E86\u6709\u4E00\u5206\u949F\u4E86\u6492"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"})])])],-1),Ye=l("p",null,[s("\u6BCF\u4E2A\u5B9E\u4F8B\u90FD\u4F1A\u6709\u4E00\u4E2A"),l("code",null,"up"),s("\u7684\u6307\u6807\uFF0C\u4E0A\u9762\u7684\u6807\u7B7E\u540D"),l("code",null,"job"),s("\u90FD\u80FD\u770B\u5230\uFF0C\u7528"),l("code",null,"sql"),s("\u53BB\u67E5\u4E00\u4E0B\uFF0C")],-1),Ze=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190711145721.png#mirages-width=1720&mirages-height=403&mirages-cdn-type=5",alt:"img"})],-1),Xe=l("p",null,[s("\u91C7\u96C6\u5668\u5728\u5F00\u542F\u72B6\u6001\u4E0B\u8FD4\u56DE\u503C\u5C31\u662F"),l("code",null,"1"),s("\uFF0C\u5982\u679C\u91C7\u96C6\u5668\u51FA\u73B0\u95EE\u9898\u6CA1\u542F\u52A8\u6216\u662F\u4EC0\u4E48\u522B\u7684\u5F02\u5E38\u90FD\u4F1A\u8FD4\u56DE"),l("code",null,"0"),s("\uFF0C"),l("code",null,"0"),s("\u5C31\u662F\u4EE3\u8868\u5F02\u5E38\u4E86\uFF0C\u6240\u4EE5\u8BF4\u767D\u4E86\u5C31\u662F\u90A3\u6761\u89C4\u5219\u5C31\u662F\u76D1\u63A7\u6240\u6709\u5B9E\u4F8B\u7684"),l("code",null,"up"),s("\u6307\u6807\uFF0C\u5982\u679C\u6307\u6807\u503C\u4E3A"),l("code",null,"0"),s("\u4E14\u6301\u7EED\u65F6\u95F4\u8D85\u8FC7\u4E00\u5206\u949F\u6211\u5C31\u8981\u544A\u8B66\u4E86\uFF0C\u4FDD\u5B58\u5427\uFF0C\u76F4\u63A5\u91CD\u542F"),l("code",null,"prometheus"),s("\u5427\uFF0C\u91CD\u542F\u4E4B\u540E\u53EF\u4EE5\u5728"),l("code",null,"web"),s("\u63A7\u5236\u53F0\u770B\u5230\u4F60\u914D\u7F6E\u7684\u89C4\u5219\u4E86\uFF0C")],-1),ln=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190711152123.png#mirages-width=1840&mirages-height=360&mirages-cdn-type=5",alt:"img"})],-1),sn=l("p",null,[s("emmmm\uFF0C\u65E2\u7136\u914D\u7F6E\u5B8C\u4E86\uFF0C\u9A8C\u8BC1\u4E00\u4E0B\u5427\uFF0C\u968F\u4FBF\u5173\u6389\u4E00\u4E2A\u91C7\u96C6\u5668\uFF0C\u7B49\u90AE\u4EF6\u5C31\u884C\u4E86\uFF0C\u6211\u628A\u660E\u6708\u4E09\u5343\u91CC\u7684\u5173\u6389\u4E86\uFF0C\u7136\u540E\u53D1\u73B0\u6709\u4E00\u6761\u544A\u8B66\u5904\u4E8E"),l("code",null,"PENDING"),s("\u72B6\u6001\uFF0C\u4ED6\u5DF2\u7ECF\u51C6\u5907\u53BB\u901A\u77E5"),l("code",null,"alertmanager"),s("\u4E86\uFF0C")],-1),on=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190711153136.png#mirages-width=1834&mirages-height=466&mirages-cdn-type=5",alt:""})],-1),en=l("p",null,"\u4E00\u5206\u949F\u4E4B\u540E\u6211\u6536\u5230\u90AE\u4EF6\u4E86\uFF0C\u957F\u8FD9\u6837\uFF0C",-1),nn=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190711154859.png#mirages-width=1120&mirages-height=578&mirages-cdn-type=5",alt:"20190711154859"})],-1),an=l("p",null,[s("\u5982\u679C\u95EE\u9898\u6CA1\u89E3\u51B3\u4ED6\u6BCF\u5206\u949F\u90FD\u4F1A\u7ED9\u4F60\u53D1\u4E00\u5C01\u90AE\u4EF6\uFF0C\u521A\u521A\u914D\u7F6E\u4E86\uFF0C\u53D1\u9001\u90AE\u4EF6\u7684\u7B49\u5F85\u65F6\u95F4\u4E00\u4F1A\u4F1A\u7EC6\u8BF4\u4E00\u4E0B\uFF0C\u6211\u518D\u505C\u4E00\u4E2A\uFF0C\u6211\u518D\u628A"),l("code",null,"docker"),s("\u505C\u4E86\uFF0C\u770B\u770B\u4ED6\u53D1\u51FA\u7684\u90AE\u4EF6\u662F\u4EC0\u4E48\u6837\u7684\uFF0C")],-1),tn=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190711155830.png#mirages-width=1118&mirages-height=766&mirages-cdn-type=5",alt:"img"})],-1),cn=l("p",null,[s("\u8FD9\u91CC\u4E24\u6761\u544A\u8B66\u88AB\u5408\u5E76\u5230\u4E00\u4E2A\u90AE\u4EF6\u91CC\u53D1\u51FA\u6765\u4E86\uFF0C\u8FD9\u5C31\u662F\u505A\u4E86\u5206\u7EC4\uFF0C\u5982\u679C\u4F60\u6709\u540C\u7C7B\u544A\u8B66\u7684\uFF0C\u4E5F\u5C31\u662F\u6839\u636E"),l("code",null,"alertname "),s("\u53BB\u533A\u5206\u7684\uFF0C\u90FD\u4F1A\u7ED9\u4F60\u5408\u5E76\uFF0C"),l("code",null,"mysql&docker"),s("\u88AB\u5408\u5E76\u5230\u4E00\u8D77\u4E86\uFF0C\u518D\u770B\u4E00\u4E0B\u4ED6\u8FD8\u662F\u652F\u6301\u54EA\u4E9B\u65B9\u5F0F\u6765\u544A\u8B66\uFF0C\u770B"),l("a",{href:"https://prometheus.io/docs/alerting/configuration/",target:"_blank",rel:"noreferrer"},"\u8FD9\u91CC"),s("\u5427\uFF0C\u62C9\u5230\u6700\u4E0B\u9762\u53EF\u4EE5\u770B\u5230\u652F\u6301\u5FAE\u4FE1\uFF0C\u4E01\u4E01\u76EE\u524D\u662F\u4E0D\u652F\u6301\u7684\uFF0C\u6709\u7B2C\u4E09\u65B9\u7684\uFF0C\u6211\u5C06\u6765\u4F1A\u5BF9\u63A5\u4F01\u4E1A\u5FAE\u4FE1\u7684\u6492\uFF0C\u6682\u65F6\u73B0\u7528\u90AE\u4EF6\u5427\uFF0C\u4E0B\u9762\u770B\u770B"),l("code",null,"alertmanager"),s("\u7684\u544A\u8B66\u72B6\u6001\u5427\u3002")],-1),rn=l("h3",{id:"\u544A\u8B66\u72B6\u6001",tabindex:"-1"},[s("\u544A\u8B66\u72B6\u6001 "),l("a",{class:"header-anchor",href:"#\u544A\u8B66\u72B6\u6001","aria-hidden":"true"},"#")],-1),pn=l("p",null,[s("\u76EE\u524D"),l("code",null,"alertmanager"),s("\u544A\u8B66\u72B6\u6001\u5206\u4E3A\u4E09\u79CD\uFF0C\u5982\u4E0B")],-1),Dn=l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"\u503C"),l("th",null,"\u8BF4\u660E")])]),l("tbody",null,[l("tr",null,[l("td",null,"Inactive"),l("td",null,"\u4EC0\u4E48\u90FD\u6CA1\u6709\u53D1\u751F")]),l("tr",null,[l("td",null,"Pending"),l("td",null,"\u5DF2\u89E6\u53D1\u9608\u503C\uFF0C\u4F46\u672A\u6EE1\u8DB3\u544A\u8B66\u6301\u7EED\u65F6\u95F4\uFF0Cfor\u65F6\u95F4")]),l("tr",null,[l("td",null,"Firing"),l("td",null,"\u5DF2\u89E6\u53D1\u9608\u503C\u4E14\u6EE1\u8DB3\u544A\u8B66\u6301\u7EED\u65F6\u95F4\uFF0C\u901A\u77E5alertmanager\u4F60\u53EF\u4EE5\u53D1\u9001\u544A\u8B66\u4E86")])])],-1),yn=l("p",null,[s("\u5728\u8FD9\u4E2A\u9636\u6BB5\u662F\u6709\u4E2A\u65F6\u95F4\u7684\uFF0C\u5E76\u4E0D\u662F\u51FA\u73B0\u95EE\u9898\u544A\u8B66\u4F1A\u9A6C\u4E0A\u53D1\u51FA\u53BB\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u5305\u542B\u4E86\u6570\u636E\u91C7\u96C6\u65F6\u95F4\u3001\u544A\u8B66\u8BC4\u4F30\u65F6\u95F4\uFF0C\u8FD9\u4E24\u4E2A\u65F6\u95F4\u662F\u5728"),l("code",null,"prometheus"),s("\u4E2D\u914D\u7F6E\u7684\uFF0C\u4E5F\u5C31\u662F\u8FD9\u91CC\uFF0C")],-1),Fn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"scrape_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"     "),l("span",{style:{color:"#C3E88D"}},"15s"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"evaluation_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"15s"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"})])])],-1),Cn=l("p",null,[s("\u76EE\u524D\u662F\u5341\u4E94\u79D2\u91C7\u96C6\u4E00\u6B21\u6570\u636E\uFF0C\u8BC4\u4F30\u544A\u8B66\u89C4\u5219\u65F6\u95F4\u4E5F\u662F\u5341\u4E94\u79D2\uFF0C\u8FD9\u4E2A\u8BC4\u4F30\u544A\u8B66\u89C4\u5219\u7684\u65F6\u95F4\u5C31\u662F\u6211\u6BCF\u9694\u591A\u957F\u65F6\u95F4\u8981\u8FDB\u884C\u4E00\u6B21\u8BC4\u4F30\u662F\u5426\u5230\u8FBE\u7684\u9608\u503C\u4E86\uFF0C\u8BF4\u767D\u4E86\u8FD9\u4E1C\u897F\u7684\u76EE\u7684\u5C31\u662F\u4E3A\u4E86\u51CF\u5C11\u544A\u8B66\u7684\u6B21\u6570\uFF0C\u66F4\u52A0\u7CBE\u786E\u7684\u5224\u65AD\u5F53\u524D\u7684\u72B6\u6001\u662F\u4E0D\u662F"),l("code",null,"ok"),s("\u7684\uFF0C\u4E0B\u9762\u5728\u770B\u770B\u544A\u8B66\u7684\u5206\u914D")],-1),An=l("h3",{id:"\u544A\u8B66\u7684\u5206\u914D",tabindex:"-1"},[s("\u544A\u8B66\u7684\u5206\u914D "),l("a",{class:"header-anchor",href:"#\u544A\u8B66\u7684\u5206\u914D","aria-hidden":"true"},"#")],-1),un=l("p",null,[s("\u5177\u4F53\u544A\u8B66\u8981\u600E\u4E48\u53BB\u5206\u914D\uFF0C\u4E5F\u662F\u5728"),l("code",null,"alertmanager"),s("\u4E2D\u914D\u7F6E\u7684\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E00\u6BB5\uFF0C")],-1),dn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"route"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"email"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"})])])],-1),mn=l("p",null,[s("\u8FD9\u5C31\u662F\u8BBE\u7F6E\u544A\u8B66\u7684\u5206\u53D1\u7B56\u7565\u4E86\uFF0C\u8FD9\u4E2A"),l("code",null,"route"),s("\u53EF\u4EE5\u62C6\u5206\u6210\u591A\u4E2A\u5B50\u8DEF\u7531\uFF0C\u76EE\u524D\u6240\u6709\u7684\u544A\u8B66\u90FD\u4F1A\u53D1\u9001\u5230\u540D\u4E3A"),l("code",null,"email"),s("\u7684\u63A5\u6536\u5668\u91CC\u9762\uFF0C"),l("code",null,"email"),s("\u63A5\u6536\u5668\u7684\u89C4\u5219\u4E5F\u662F\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6307\u5B9A\u7684\uFF0C\u4E5F\u5C31\u662F\u8FD9\u4E00\u6BB5\uFF0C")],-1),gn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"receivers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"email"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xx@xxx.com"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"})])])],-1),hn=l("p",null,[s("\u63A5\u6536\u5668\u76EE\u524D\u53EA\u6709\u4E00\u4E2A\u540D\u4E3A"),l("code",null,"email"),s("\u7684\uFF0C\u4E5F\u53EF\u4EE5\u6709\u591A\u4E2A\uFF0C\u5982\u679C\u4F60\u6709\u4EC0\u4E48\u7279\u6B8A\u9700\u6C42\uFF0C\u9700\u8981\u5C06\u4E0D\u540C\u7C7B\u578B\u7684\u544A\u8B66\u53D1\u9001\u7ED9\u4E0D\u540C\u7684\u4EBA\uFF0C\u5C31\u9700\u8981\u914D\u7F6E\u591A\u4E2A\u63A5\u6536\u5668\u53BB\u533A\u5206\u4E86\uFF0C\u5982\u4E0B\uFF0C")],-1),_n=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"global"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"resolve_timeout"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_smarthost"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"smtp.163.com:25"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_from"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@163.com"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_auth_username"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@163.com"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_auth_password"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"smtp_require_tls"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"false")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"route"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"default-receiver"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                  "),l("span",{style:{color:"#676E95"}},"##\u5B9A\u4E49\u9ED8\u8BA4\u63A5\u6536\u5668\u540D\uFF0C\u5982\u679C\u5176\u4ED6\u7684\u5339\u914D\u4E0D\u5230\u8D70\u8FD9\u4E2A")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"30s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"4h")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"cluster"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"                "),l("span",{style:{color:"#676E95"}},"##\u5206\u7EC4\u8BBE\u7F6E")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"routes"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                       "),l("span",{style:{color:"#676E95"}},"##\u5B50\u8DEF\u7531")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"database-pager"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                  "),l("span",{style:{color:"#676E95"}},"##\u5B9A\u4E49\u63A5\u6536\u5668\u540D\u5B57          ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s"),l("span",{style:{color:"#A6ACCD"}},"                             "),l("span",{style:{color:"#676E95"}},"##\u5206\u7EC4\u8BBE\u7F6E")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"match_re"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                   "),l("span",{style:{color:"#676E95"}},"##\u6B63\u5219\u5339\u914D")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"service"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"mysql|cassandra"),l("span",{style:{color:"#A6ACCD"}},"                  "),l("span",{style:{color:"#676E95"}},"##\u4ED6\u4F1A\u63A5\u6536\u6807\u7B7Eservice\u503C\u4E3Amysql&&cassandra\u7684\u544A\u8B66")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"frontend-pager"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                  "),l("span",{style:{color:"#676E95"}},"##\u63A5\u6536\u5668\u540D")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"product"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"environment"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"            "),l("span",{style:{color:"#676E95"}},"##\u5206\u7EC4\u8BBE\u7F6E")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"match"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                      "),l("span",{style:{color:"#676E95"}},"##\u76F4\u63A5\u5339\u914D")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"team"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"frontend"),l("span",{style:{color:"#A6ACCD"}},"                            "),l("span",{style:{color:"#676E95"}},"##\u5339\u914D\u6807\u7B7Eteam\u503C\u4E3Afrontend\u7684\u544A\u8B66")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"receivers"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                      "),l("span",{style:{color:"#676E95"}},"##\u5B9A\u4E49\u63A5\u6536\u5668")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"default-receiver"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                      "),l("span",{style:{color:"#676E95"}},"##\u63A5\u6536\u5668\u540D\u5B57")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"                                "),l("span",{style:{color:"#676E95"}},"##\u90AE\u4EF6\u63A5\u53E3")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx.xx.com"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"                            "),l("span",{style:{color:"#676E95"}},"##\u63A5\u6536\u4EBA\uFF0C\u4E0B\u9762\u4EE5\u6B64\u7C7B\u63A8")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"database-pager"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx.xx.com"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"frontend-pager"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@.xx.com"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"})])])],-1),bn=l("p",null,"\u6211\u5C31\u4E0D\u63A9\u9970\u4E86\uFF0C\u914D\u7F6E\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u6F14\u793A\u5F88\u9EBB\u70E6\u6492\uFF0C\u7B97\u4E86\u7B97\u4E86\uFF0C\u8FC7\uFF0C\u4E0B\u9762\u770B\u4E00\u54C8\u544A\u8B66\u6536\u655B",-1),En=l("h3",{id:"\u544A\u8B66\u6536\u655B",tabindex:"-1"},[s("\u544A\u8B66\u6536\u655B "),l("a",{class:"header-anchor",href:"#\u544A\u8B66\u6536\u655B","aria-hidden":"true"},"#")],-1),vn=l("p",null,[s("\u6536\u655B\u5C31\u662F\u5C3D\u91CF\u538B\u7F29\u544A\u8B66\u90AE\u4EF6\u7684\u6570\u91CF\uFF0C\u592A\u591A\u4E86\u8C01\u90FD\u4F1A\u61F5\u903C\uFF0C\u53EF\u80FD\u6709\u4E9B\u5173\u952E\u7684\u5457\u6DF9\u6CA1\u4E86\uFF0C"),l("code",null,"alertmanager"),s("\u4E2D\u6709\u5F88\u591A\u6536\u655B\u673A\u5236\uFF0C\u6700\u4E3B\u8981\u7684\u5C31\u662F\u5206\u7EC4\u6291\u5236\u9759\u9ED8\uFF0C"),l("code",null,"alertmanager"),s("\u6536\u5230\u544A\u8B66\u4E4B\u540E\u4ED6\u4F1A\u5148\u8FDB\u884C\u5206\u7EC4\uFF0C\u7136\u540E\u8FDB\u5165\u901A\u77E5\u961F\u5217\uFF0C\u8FD9\u4E2A\u961F\u5217\u4F1A\u5BF9\u901A\u77E5\u7684\u90AE\u4EF6\u8FDB\u884C\u6291\u5236\u9759\u9ED8\uFF0C\u518D\u6839\u636E"),l("code",null,"router"),s("\u5C06\u544A\u8B66\u8DEF\u7531\u5230\u4E0D\u540C\u7684\u63A5\u6536\u5668\uFF0C\u8FD9\u5C31\u662F"),l("code",null,"alertmanager"),s("\u6536\u5230\u4E00\u4E2A\u544A\u8B66\u540E\u7ECF\u5386\u7684\u9636\u6BB5\uFF0C\u53EA\u662F\u4E00\u4E2A\u5927\u6982\u7684\u60C5\u51B5\uFF0C\u4E0B\u9762\u6DF1\u5165\u4E86\u89E3\u4E00\u4E0B\u8FD9\u51E0\u4E2A\u9636\u6BB5\u5230\u5E95\u662F\u4EC0\u4E48\u539F\u7406\u600E\u4E48\u53BB\u914D\u7F6E\uFF0C\u5148\u6765\u7B80\u5355\u770B\u4E00\u4E0B\u4ED6\u4EEC\u7684\u5B9A\u4E49")],-1),xn=l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"\u673A\u5236"),l("th",null,"\u8BF4\u660E")])]),l("tbody",null,[l("tr",null,[l("td",null,"\u5206\u7EC4(group)"),l("td",null,"\u5C06\u7C7B\u4F3C\u6027\u8D28\u7684\u544A\u8B66\u5408\u5E76\u4E3A\u5355\u4E2A\u8FDB\u884C\u901A\u77E5")]),l("tr",null,[l("td",null,"\u6291\u5236(Inhibition)"),l("td",null,"\u5F53\u544A\u8B66\u53D1\u751F\u540E\uFF0C\u505C\u6B62\u91CD\u590D\u53D1\u9001\u7531\u6B64\u544A\u8B66\u5F15\u53D1\u7684\u5176\u4ED6\u544A\u8B66")]),l("tr",null,[l("td",null,"\u9759\u9ED8(Silences)"),l("td",null,"\u662F\u4E00\u79CD\u7B80\u5355\u7684\u7279\u5B9A\u65F6\u95F4\u9759\u97F3\u63D0\u9192\u7684\u673A\u5236")])])],-1),fn=l("h4",{id:"\u5206\u7EC4",tabindex:"-1"},[s("\u5206\u7EC4 "),l("a",{class:"header-anchor",href:"#\u5206\u7EC4","aria-hidden":"true"},"#")],-1),wn=l("p",null,[s("\u4E3E\u4E2A\u6817\u5B50\uFF0C\u6BD4\u5982\u8BF4\u6211\u5728\u963F\u91CC\u4E91\u6709"),l("code",null,"10"),s("\u53F0\u670D\u52A1\u5668\uFF0C\u4F46\u662F\u6211\u5FD8\u7EED\u8D39\u4E86\uFF0C\u7ED3\u679C\u670D\u52A1\u5668\u5230\u671F\u90FD\u88AB\u505C\u6389\u4E86(\u771F\u5B9E\u53D1\u751F\u8FC7)\uFF0C\u8FD9\u65F6\u5019"),l("code",null,"node_exports"),s("\u80AF\u5B9A\u4E5F\u65E0\u6CD5\u8BBF\u95EE\u4E86\uFF0C\u670D\u52A1\u5668\u90FD\u505C\u4E86\uFF0C\u8FD9\u65F6\u5019\u666E\u7F57\u7C73\u4FEE\u65AF\u53D1\u73B0\u8FD9"),l("code",null,"10"),s("\u4E2A\u670D\u52A1\u5668\u90FD\u51C9\u4E86\uFF0C\u6211\u8981\u51C6\u5907\u901A\u77E5"),l("code",null,"alertmanager"),s("\u544A\u8B66\u4E86\uFF0C\u5728\u4E0D\u505A\u5206\u7EC4\u7684\u60C5\u51B5\u4E0B\u4F60\u7684\u544A\u8B66\u5A92\u4ECB\u4F1A\u6709\u5341\u6761\u4FE1\u606F\u53D1\u51FA\u6765\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\u6211\u4EEC\u53EF\u4EE5\u4ED6\u8FD9\u4E9B\u4FE1\u606F\u5408\u5E76\u5230\u4E00\u8D77\u6492\uFF0C\u4E00\u6761\u4FE1\u606F\u5217\u51FA\u54EA\u4E9B\u670D\u52A1\u5668\u51C9\u4E86\u3002")],-1),kn=l("p",null,"\u5176\u5B9E\u5206\u7EC4\u8BBE\u7F6E\u6700\u5F00\u59CB\u7684\u65F6\u5019\u6211\u5C31\u505A\u4E86\uFF0C\u8FD9\u4E00\u6BB5\u5C31\u662F\u8BBE\u7F6E\u5206\u7EC4\u7684\uFF0C",-1),qn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"route"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m")]),s(`
`),l("span",{class:"line"})])])],-1),Pn=l("p",null,[s("\u8FD9\u91CC\u914D\u7F6E\u4E86\u5206\u7EC4\u7684\u4F9D\u636E\uFF0C\u9ED8\u8BA4\u5C31\u662F"),l("code",null,"alertname"),s("\uFF0C\u8FD9\u4E2A\u540D\u5B57\u53EF\u4EE5\u968F\u4FBF\u5199\u7684\uFF0C\u505A\u4E86\u5206\u7EC4\u4E4B\u540E\u4ED6\u4F1A\u53BB\u5339\u914D\u4F60\u544A\u8B66\u65F6\u7684\u540D\u5B57\uFF0C\u544A\u8B66\u7684\u540D\u5B57\u662F\u5728\u8FD9\u91CC\u914D\u7F6E\u7684\uFF0C")],-1),jn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"alert"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"\u91C7\u96C6\u5668\u51C9\u4E86")]),s(`
`),l("span",{class:"line"})])])],-1),Sn=l("p",null,[s("\u5982\u679C\u662F\u76F8\u540C\u540D\u5B57\u7684\u544A\u8B66\u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u51FA\u73B0\u591A\u6761\uFF0C\u8FD9\u4E2A\u4E00\u5B9A\u65F6\u95F4\u6307\u7684\u5C31\u662F"),l("code",null,"group_wait"),s("\u7684\u65F6\u95F4\uFF0C\u90A3\u4E48\u591A\u6761\u5C31\u4F1A\u5408\u5E76\u6210\u4E00\u6761\u544A\u8B66\u4FE1\u606F\u53D1\u51FA\u6765\uFF0C\u8FD9\u4E2A\u4E4B\u524D\u5C31\u914D\u7F6E\u4E86\uFF0C\u6240\u4EE5\u5728\u6211\u505C\u6389"),l("code",null,"mysql&docker"),s("\u91C7\u96C6\u5668\u4E4B\u540E\u4ED6\u5C31\u628A\u8FD9\u4E24\u6761\u544A\u8B66\u5408\u5E76\u6210\u4E00\u6761\u4FE1\u606F\u53D1\u4E86\u51FA\u6765\uFF0C\u4E5F\u5C31\u662F\u8FD9\u5F20\u56FE\uFF0C\u4E0A\u9762\u8D34\u8FC7\u4E86\u3002")],-1),$n=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190711155830.png#mirages-width=1118&mirages-height=766&mirages-cdn-type=5",alt:"img"})],-1),Un=l("p",null,"\u8FD9\u4E24\u6761\u7684\u544A\u8B66\u540D\u5B57\u90FD\u662F\u91C7\u96C6\u5668\u51C9\u4E86\u6492\uFF0C\u800C\u4E14\u5728\u5341\u79D2\u949F\u4E4B\u5185\u51FA\u73B0\u4E86\u4E24\u6761\uFF0C\u6240\u4EE5\u5C31\u88AB\u5408\u5E76\u6210\u4E00\u6761\u53D1\u51FA\u6765\u4E86\uFF0C\u5206\u7EC4\u7684\u76EE\u7684\u5C31\u662F\u4E3A\u4E86\u51CF\u5C11\u544A\u8B66\u4FE1\u606F\u7684\u6570\u91CF\uFF0C\u540C\u7C7B\u544A\u8B66\u805A\u5408\uFF0C\u6240\u4EE5\u73B0\u5728\u603B\u7ED3\u4E00\u4E0B\u914D\u7F6E\u5206\u7EC4\u7684\u53C2\u6570\u3002",-1),Tn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95"}},"#\u6839\u636E\u6807\u7B7E\u8FDB\u884Calert\u5206\u7EC4\uFF0C\u53EF\u4EE5\u5199\u591A\u4E2A")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s"),l("span",{style:{color:"#A6ACCD"}},"          "),l("span",{style:{color:"#676E95"}},"#\u53D1\u9001\u544A\u8B66\u7B49\u5F85\u65F6\u95F4\uFF0C")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s"),l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#676E95"}},"#\u5206\u7EC4\u544A\u8B66\u4FE1\u606F\u95F4\u9694\u65F6\u95F4\uFF0C\u8B6C\u5982\u4E24\u7EC4\uFF0C\u7B2C\u4E00\u7EC4\u53D1\u9001\u540E\u7B49\u5F85\u5341\u79D2\u53D1\u9001\u7B2C\u4E8C\u7EC4")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m"),l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#676E95"}},"#\u91CD\u590D\u53D1\u9001\u544A\u8B66\u65F6\u95F4\uFF0C\u65F6\u95F4\u4E0D\u8981\u592A\u77ED\uFF0C\u4E5F\u4E0D\u8981\u592A\u957F")]),s(`
`),l("span",{class:"line"})])])],-1),In=l("h4",{id:"\u6291\u5236",tabindex:"-1"},[s("\u6291\u5236 "),l("a",{class:"header-anchor",href:"#\u6291\u5236","aria-hidden":"true"},"#")],-1),On=l("p",null,[s("\u4ED6\u7684\u4E3B\u8981\u4F5C\u7528\u5C31\u662F\u6D88\u9664\u5197\u4F59\u544A\u8B66\uFF0C\u6211\u4EEC\u4F1A\u53D7\u5230\u4E00\u4E2A\u5173\u952E\u7684\u544A\u8B66\u4FE1\u606F\uFF0C\u8FD9\u4E2A\u4E5F\u662F\u5728"),l("code",null,"alertmanager"),s("\u4E2D\u914D\u7F6E\u7684\uFF0C\u6211\u6807\u7B7E\u53EA\u7559\u4E86\u4E00\u4E2A\uFF0C")],-1),Nn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"inhibit_rules"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"source_match"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"          ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"critical"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"target_match"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"warning"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"equal"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"instance"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),Bn=l("p",null,[s("\u8FD9\u6BB5\u914D\u7F6E\u610F\u601D\u5C31\u662F\u5F53\u6211\u6536\u5230\u4E00\u4E2A\u544A\u8B66\u7EA7\u522B\u4E3A"),l("code",null,"critical"),s("\u65F6\uFF0C\u4ED6\u5C31\u4F1A\u6291\u5236\u6389"),l("code",null,"warning"),s("\u8FD9\u4E2A\u7EA7\u522B\u7684\u544A\u8B66\uFF0C\u8FD9\u4E2A\u544A\u8B66\u7B49\u7EA7\u662F\u5728\u4F60\u7F16\u5199\u89C4\u5219\u7684\u65F6\u5019\u5B9A\u4E49\u7684\uFF0C\u6700\u540E\u4E00\u884C\u5C31\u662F\u8981\u5BF9\u54EA\u4E9B\u544A\u8B66\u505A\u6291\u5236\uFF0C\u901A\u8FC7\u6807\u7B7E\u5339\u914D\u7684\uFF0C\u6211\u8FD9\u91CC\u53EA\u7559\u4E86\u4E00\u4E2A"),l("code",null,"instance"),s("\uFF0C\u4E3E\u4E2A\u6700\u7B80\u5355\u7684\u4F8B\u5B50\uFF0C\u5F53\u73B0\u5728"),l("code",null,"alertmanager"),s("\u5148\u6536\u5230\u4E00\u6761"),l("code",null,"critical"),s("\u3001\u53C8\u6536\u5230\u4E00\u6761"),l("code",null,"warning"),s("\u4E14"),l("code",null,"instance"),s("\u503C\u4E00\u81F4\u7684\u4E24\u6761\u544A\u8B66\u4ED6\u7684\u5904\u7406\u903B\u8F91\u662F\u600E\u6837\u7684\u3002")],-1),Gn=l("p",null,[s("\u6211\u73B0\u5728\u76D1\u63A7"),l("code",null,"nginx"),s("\uFF0C"),l("code",null,"nginx"),s("\u5B95\u6389\u7684\u544A\u8B66\u7EA7\u522B\u4E3A"),l("code",null,"warning"),s("\uFF0C\u5BBF\u4E3B\u673A\u5B95\u6389\u7684\u544A\u8B66\u7EA7\u522B\u4E3A"),l("code",null,"critical"),s("\uFF0C\u8B6C\u5982\u8BF4\u73B0\u5728\u6211\u8DD1"),l("code",null,"nginx"),s("\u7684\u670D\u52A1\u5668\u51C9\u4E86\uFF0C\u8FD9\u65F6\u5019"),l("code",null,"nginx"),s("\u80AF\u5B9A\u4E5F\u51C9\u4E86\uFF0C\u666E\u7F57\u7C73\u4FEE\u65AF\u53D1\u73B0\u540E\u901A\u77E5"),l("code",null,"alertmanager"),s("\uFF0C\u666E\u7F57\u7C73\u4FEE\u65AF\u53D1\u8FC7\u6765\u7684\u662F\u4E24\u6761\u544A\u8B66\u4FE1\u606F\uFF0C\u4E00\u6761\u662F\u5BBF\u4E3B\u673A\u51C9\u4E86\u7684\uFF0C\u4E00\u6761\u662F"),l("code",null,"nginx"),s("\u51C9\u4E86\u7684\uFF0C"),l("code",null,"alertmanager"),s("\u6536\u5230\u4E4B\u540E\uFF0C\u53D1\u73B0\u544A\u8B66\u7EA7\u522B\u4E00\u6761\u662F"),l("code",null,"critical"),s("\uFF0C\u4E00\u6761\u662F"),l("code",null,"warning"),s("\uFF0C\u800C\u4E14"),l("code",null,"instance"),s("\u6807\u7B7E\u503C\u4E00\u81F4\uFF0C\u4E5F\u5C31\u662F\u8BF4\u8FD9\u662F\u5728\u4E00\u53F0\u673A\u5668\u4E0A\u53D1\u751F\u7684\uFF0C\u6240\u4EE5\u4ED6\u5C31\u4F1A\u53EA\u53D1\u4E00\u6761"),l("code",null,"critical"),s("\u7684\u544A\u8B66\u51FA\u6765\uFF0C"),l("code",null,"warning"),s("\u7684\u5C31\u88AB\u6291\u5236\u6389\u4E86\uFF0C\u6211\u4EEC\u6536\u5230\u7684\u5C31\u662F\u670D\u52A1\u5668\u51C9\u4E86\u7684\u901A\u77E5\uFF0C\u5927\u6982\u5C31\u662F\u8FD9\u6837\uFF0C\u6682\u65F6\u4E0D\u6F14\u793A\u4E86\u3002")],-1),zn=l("h4",{id:"\u9759\u9ED8",tabindex:"-1"},[s("\u9759\u9ED8 "),l("a",{class:"header-anchor",href:"#\u9759\u9ED8","aria-hidden":"true"},"#")],-1),Mn=l("p",null,[s("\u5C31\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u7279\u5B9A\u65F6\u95F4\u9759\u97F3\u63D0\u9192\u7684\u673A\u5236\uFF0C\u4E3B\u8981\u662F\u4F7F\u7528\u6807\u7B7E\u5339\u914D\u8FD9\u4E00\u6279\u4E0D\u53D1\u9001\u544A\u8B66\uFF0C\u8B6C\u5982\u8BF4\u6211\u67D0\u5929\u8981\u5BF9\u670D\u52A1\u5668\u8FDB\u884C\u7EF4\u62A4\uFF0C\u53EF\u80FD\u4F1A\u6D89\u53CA\u5230\u670D\u52A1\u5668\u91CD\u542F\uFF0C\u5728\u8FD9\u671F\u95F4\u80AF\u5B9A\u4F1A\u6709"),l("code",null,"N"),s("\u591A\u544A\u8B66\u53D1\u51FA\u6765\uFF0C\u6240\u4EE5\u4F60\u53EF\u4EE5\u5B50\u554A\u8FD9\u671F\u95F4\u914D\u7F6E\u4E00\u4E2A\u9759\u9ED8\uFF0C\u8FD9\u7C7B\u7684\u544A\u8B66\u5C31\u4E0D\u8981\u53D1\u4E86\uFF0C\u6211\u77E5\u9053\u53D1\u751F\u4E86\u5565\u5B50\u4E8B\u60C5\uFF0C\u914D\u7F6E\u9759\u9ED8\u5C31\u5F88\u7B80\u5355\u4E86\uFF0C\u76F4\u63A5\u5728"),l("code",null,"web"),s("\u9875\u9762\u914D\u7F6E\u5C31\u884C\u4E86\uFF0C"),l("code",null,"9093"),s("\u7AEF\u53E3\uFF0C")],-1),Ln=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715113322.png#mirages-width=1435&mirages-height=425&mirages-cdn-type=5",alt:"img"})],-1),Rn=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715113602.png#mirages-width=1173&mirages-height=769&mirages-cdn-type=5",alt:"img"})],-1),Qn=l("p",null,[s("\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\u7ED3\u675F\u65F6\u95F4\uFF0C\u901A\u8FC7\u6807\u7B7E\u5339\u914D\u53BB\u505A\uFF0C\u6211\u5339\u914D\u4E86"),l("code",null,"job=docker"),s("\u7684\u673A\u5668\uFF0C\u521B\u5EFA\uFF0C\u6240\u4EE5\u6211\u5148\u5728\u628A\u5BB9\u5668\u91C7\u96C6\u5668\u505C\u6389\u4E5F\u4E0D\u4F1A\u6709\u544A\u8B66\u51FA\u6765\u4E86\uFF0C\u6211\u5C31\u4E0D\u505C\u4E86\uFF0C\u5C31\u662F\u8FD9\u6837\u914D\u7F6E\uFF0C\u6BD4\u8F83\u7B80\u5355\uFF0C\u626F\u4E86\u4E00\u5806\uFF0C\u662F\u65F6\u5019\u81EA\u5DF1\u5199\u4E00\u4E2A\u544A\u8B66\u89C4\u5219\u4E86\uFF0C\u7ED3\u5408\u4E0A\u9762\u4E00\u5207\u7684\u4E1C\u897F\u3002")],-1),Wn=l("h2",{id:"\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50",tabindex:"-1"},[s("\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50 "),l("a",{class:"header-anchor",href:"#\u7F16\u5199\u544A\u8B66\u89C4\u5219\u6817\u5B50","aria-hidden":"true"},"#")],-1),Hn=l("p",null,[s("\u6765\u76D1\u63A7\u5185\u5B58\u5427\uFF0C\u5185\u5B58\u4F7F\u7528\u7387\u8D85\u8FC7"),l("code",null,"80"),s("\u6211\u5C31\u8981\u544A\u8B66\u4E86\uFF0C\u8FD8\u662F\u5148\u9700\u8981\u5199"),l("code",null,"sql"),s("\uFF0C\u628A\u6211\u60F3\u8981\u7684\u503C\u67E5\u51FA\u6765\uFF0C\u6240\u4EE5\u8981\u67E5\u5F53\u524D\u5185\u5B58\u4F7F\u7528\u7387\u5927\u4E8E\u767E\u5206\u4E4B\u516B\u5341\u7684"),l("code",null,"sql"),s("\u5982\u4E0B\uFF0C")],-1),Kn=l("div",{class:"language-sql"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"(node_memory_MemTotal_bytes "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," node_memory_MemFree_bytes "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," node_memory_Buffers_bytes "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," node_memory_Cached_bytes) "),l("span",{style:{color:"#89DDFF"}},"/"),l("span",{style:{color:"#A6ACCD"}}," (node_memory_MemTotal_bytes )"),l("span",{style:{color:"#89DDFF"}},"*"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"100"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F78C6C"}},"80")]),s(`
`),l("span",{class:"line"})])])],-1),Vn=l("p",null,"\u4E0B\u9762\u5C31\u662F\u8981\u5199\u89C4\u5219\u4E86\uFF0C\u6211\u5199\u7684\u89C4\u5219\u5982\u4E0B\uFF0C\u987A\u4FBF\u628A\u4E4B\u524D\u7684\u89C4\u5219\u4E5F\u6539\u4E86\u4E00\u4E0B\uFF0C",-1),Jn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/prometheus/rules"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat memory.yml"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"groups"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"memeory_rules")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"rules"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"alert"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"\u5185\u5B58\u70B8\u4E86")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"expr"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"(node_memory_MemTotal_bytes - node_memory_MemFree_bytes - node_memory_Buffers_bytes - node_memory_Cached_bytes) / (node_memory_MemTotal_bytes )* 100 > 80")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"for"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"labels"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"warning")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"annotations"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"summary"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"{{ $labels.instance }} \u5185\u5B58\u70B8\u4E86"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"description"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"{{ $labels.instance }} \u5185\u5B58\u70B8\u4E86\uFF0C\u5F53\u524D\u4F7F\u7528\u7387\u4E3A {{ $value }}"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"})])])],-1),Yn=l("p",null,[s("\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\u6492\uFF0C\u6211\u53C8\u628A\u660E\u6708\u4E09\u5343\u91CC\u52A0\u5165\u5230\u76D1\u63A7\uFF0C\u4E5F\u5C31\u662F\u5B89\u88C5\u4E86"),l("code",null,"node_exports"),s("\uFF0C\u73B0\u5728\u4E5F\u80FD\u6B63\u5E38\u83B7\u53D6\u5230\u4F7F\u7528\u7387\u4E86\uFF0C\u4E0B\u9762\u8BD5\u8BD5\u4E0A\u9762\u63D0\u5230\u7684\u90A3\u4E2A\u544A\u8B66\u5206\u914D\uFF0C\u6211\u8981\u628A\u660E\u6708\u4E09\u5343\u91CC\u7684\u544A\u8B66\u4FE1\u606F\u53D1\u9001\u5230\u6211\u53E6\u4E00\u4E2A\u90AE\u7BB1\uFF0C"),l("code",null,"job"),s("\u540D\u5B57"),l("code",null,"mysql"),s("\uFF0C")],-1),Zn=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"job_name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"mysql"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"static_configs"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"192.168.1.126:9104"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"targets"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"192.168.1.126:9100"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),Xn=l("p",null,"\u91CD\u542F\u4E00\u4E0B\u6492\uFF0C\u80FD\u770B\u5230\u8FD9\u4E9B\uFF0C",-1),la=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715142721.png#mirages-width=1225&mirages-height=304&mirages-cdn-type=5",alt:"img"})],-1),sa=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715143146.png#mirages-width=666&mirages-height=692&mirages-cdn-type=5",alt:"img"})],-1),oa=l("p",null,"\u7136\u540E\u53BB\u914D\u7F6E\u4E00\u4E0B\u544A\u8B66\u7684\u5206\u914D\uFF0C\u6211\u8981\u628A\u5173\u4E8E\u660E\u6708\u4E09\u5343\u91CC\u7684\u544A\u8B66\u53D1\u9001\u5230\u53E6\u4E00\u4E2A\u90AE\u7BB1\uFF0C\u6240\u4EE5\u8FD9\u91CC\u6539\u4E86\u4E00\u54C8\uFF0C",-1),ea=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"route"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"alertname"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"default-receiver"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"routes"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"group_by"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"mysql"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"group_wait"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"group_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"10s")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"repeat_interval"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"5m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"receiver"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"mysql-pager"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"match_re"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"        "),l("span",{style:{color:"#F07178"}},"job"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"mysql")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"receivers"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"default-receiver"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@xx.com"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"mysql-pager"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"email_configs"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"to"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"xxx@xx.cn"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"inhibit_rules"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"source_match"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}},"          ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"critical"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"target_match"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"warning"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"equal"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"instance"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},"]")]),s(`
`),l("span",{class:"line"})])])],-1),na=l("p",null,[s("\u6240\u4EE5\u4E00\u4F1A\u6536\u5230\u660E\u6708\u4E09\u5343\u91CC\u7684\u90AE\u4EF6\u662F\u6211"),l("code",null,"cn"),s("\u7684\u90AE\u7BB1\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86\u6492\uFF0C\u91CD\u542F"),l("code",null,"alertmanager"),s("\uFF0C\u4E3A\u4E86\u8BA9\u4ED6\u53D1\u51FA\u544A\u8B66\u90AE\u4EF6\uFF0C\u6211\u8C03\u4E00\u4E0B\u9608\u503C\uFF0C\u6539\u4E3A\u767E\u5206\u4E4B"),l("code",null,"20"),s("\uFF0C\u6240\u4EE5\u6211"),l("code",null,"com"),s("\u6536\u5230\u7684\u90AE\u4EF6\u5982\u4E0B\uFF0C")],-1),aa=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715150334.png#mirages-width=971&mirages-height=460&mirages-cdn-type=5",alt:"img"})],-1),ta=l("p",null,[l("code",null,"cn"),s("\u6536\u5230\u7684\u90AE\u4EF6\u5982\u4E0B")],-1),ca=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715150419.png#mirages-width=936&mirages-height=437&mirages-cdn-type=5",alt:"img"})],-1),ra=l("p",null,[s("\u7136\u540E\u518D\u8BD5\u4E00\u4E0B\u6291\u5236\uFF0C\u6211\u518D\u52A0\u4E00\u4E2A\u76D1\u63A7\u9879\uFF0C\u6211\u8981\u76D1\u63A7"),l("code",null,"TCP"),s("\u8FDE\u63A5\u6570\uFF0C\u72B6\u6001\u662F"),l("code",null,"ESTABLISHED"),s("\u7684\uFF0C\u8D85\u8FC7"),l("code",null,"300"),s("\u6211\u5C31\u8981\u544A\u8B66\u4E86\uFF0C\u5B9A\u4E49\u544A\u8B66\u7EA7\u522B\u4E3A"),l("code",null,"critical"),s("\uFF0C\u6240\u4EE5"),l("code",null,"rule"),s("\u6587\u4EF6\u5982\u4E0B\uFF0C")],-1),pa=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",null,[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C3E88D"}},"root@rj-bai /usr/local/prometheus/rules"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}},"# "),l("span",{style:{color:"#C3E88D"}},"cat tcp-established.yml"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"groups"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"tcp-established_rules")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"rules"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#F07178"}},"alert"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"TCP\u8FDE\u63A5\u6570\u8FC7\u9AD8")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"expr"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"node_sockstat_TCP_alloc > 300"),l("span",{style:{color:"#A6ACCD"}}," ")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"for"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"1m")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"labels"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"severity"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"critical")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#F07178"}},"annotations"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"summary"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"{{ $labels.instance }} TCP\u8FDE\u63A5\u6570\u8FC7\u9AD8"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"description"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"{{ $labels.instance }} TCP\u8FDE\u63A5\u6570\u8FC7\u9AD8\uFF0C\u5F53\u524D\u8FDE\u63A5\u6570 {{ $value }}"),l("span",{style:{color:"#89DDFF"}},'"')]),s(`
`),l("span",{class:"line"})])])],-1),Da=l("p",null,"\u91CD\u542F\u540E\u770B\u9875\u9762\uFF0C",-1),ya=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715160750.png#mirages-width=1534&mirages-height=809&mirages-cdn-type=5",alt:"img"})],-1),ia=l("p",null,[s("\u6709\u4E09\u6761\u544A\u8B66\u5DF2\u7ECF\u8FDB\u5165"),l("code",null,"Pending"),s("\u72B6\u6001\u4E86\uFF0C\u6CA1\u610F\u5916\u7684\u8BDD"),l("code",null,"cn"),s("\u90AE\u7BB1\u53EA\u6709\u4E00\u6761\u544A\u8BC9\u4F60\u8FDE\u63A5\u6570\u8FC7\u9AD8\u7684\u544A\u8B66\u4FE1\u606F\u53D1\u51FA\u6765\u4E86\uFF0C\u5185\u5B58\u4F7F\u7528\u7387\u8FC7\u9AD8\u7684\u5C31\u4F1A\u88AB\u6291\u5236\uFF0C\u770B\u4E00\u4E0B\uFF0C")],-1),Fa=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715161059.png#mirages-width=1861&mirages-height=792&mirages-cdn-type=5",alt:"img"})],-1),Ca=l("p",null,"\u6240\u4EE5\u8FD9\u6761\u5DF2\u7ECF\u88AB\u6291\u5236\u4E86\uFF0C",-1),Aa=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715161644.png#mirages-width=907&mirages-height=452&mirages-cdn-type=5",alt:"img"})],-1),ua=l("p",null,[l("code",null,"248"),s("\u670D\u52A1\u5668\u4E0D\u53D7\u5F71\u54CD\uFF0C"),l("code",null,"com"),s("\u90AE\u7BB1\u8FD8\u662F\u4F1A\u6536\u5230\u5185\u5B58\u70B8\u4E86\u7684\u544A\u8B66\uFF0C")],-1),da=l("p",null,[l("img",{src:"https://vlinux-1259060227.cos.ap-shanghai.myqcloud.com/www-vlinux-cn-blog-img/gitee-backup/img-master/image/20190715161714.png#mirages-width=891&mirages-height=456&mirages-cdn-type=5",alt:"img"})],-1),ma=l("p",null,[s("\u5C31\u662F\u8FD9\u6837\u6492\uFF0C\u4F60\u60F3\u7F16\u5199\u5176\u4ED6\u7684\u544A\u8B66\u89C4\u5219\u6D41\u7A0B\u548C\u4E0A\u9762\u662F\u4E00\u6837\u7684\uFF0C\u544A\u8B66\u7684\u5206\u914D\u548C\u6291\u5236\u4E0D\u662F\u5FC5\u9700\u7684\uFF0C\u81EA\u884C\u7422\u78E8\u5427\uFF0C\u4E0B\u4E00\u7BC7\u51C6\u5907\u91CD\u5199"),l("code",null,"K8S"),s("\u76D1\u63A7\u65B9\u9762\u7684\u4E1C\u897F\uFF0C\u4E86\u89E3\u8FD9\u4E9B\u4E1C\u897F\u4E4B\u540E\u4E4B\u540E\u5C31\u5E94\u8BE5\u5F88\u7B80\u5355\u4E86\u6492\uFF0C\u672C\u7BC7\u5C31\u8FD9\u6837\uFF0C\u8FC7\u3002")],-1);function ga(e,ha,_a,ba,t,Ea){const c=r;return y(),D(c,{frontmatter:t.frontmatter,data:t.data},{"main-content-md":o(()=>[C,A,u,d,m,g,h,_,b,E,v,x,f,w,k,q,P,j,S,$,U,T,I,O,N,B,G,z,M,L,R,Q,W,H,K,V,J,Y,Z,X,ll,sl,ol,el,nl,al,tl,cl,rl,pl,Dl,yl,il,Fl,Cl,Al,ul,dl,ml,gl,hl,_l,bl,El,vl,xl,fl,wl,kl,ql,Pl,jl,Sl,$l,Ul,Tl,Il,Ol,Nl,Bl,Gl,zl,Ml,Ll,Rl,Ql,Wl,Hl,Kl,Vl,Jl,Yl,Zl,Xl,ls,ss,os,es,ns,as,ts,cs,rs,ps,Ds,ys,is,Fs,Cs,As,us,ds,ms,gs,hs,_s,bs,Es,vs,xs,fs,ws,ks,qs,Ps,js,Ss,$s,Us,Ts,Is,Os,Ns,Bs,Gs,zs,Ms,Ls,Rs,Qs,Ws,Hs,Ks,Vs,Js,Ys,Zs,Xs,lo,so,oo,eo,no,ao,to,co,ro,po,Do,yo,io,Fo,Co,Ao,uo,mo,go,ho,_o,bo,Eo,vo,xo,fo,wo,ko,qo,Po,jo,So,$o,Uo,To,Io,Oo,No,Bo,Go,zo,Mo,Lo,Ro,Qo,Wo,Ho,Ko,Vo,Jo,Yo,Zo,Xo,le,se,oe,ee,ne,ae,te,ce,re,pe,De,ye,ie,Fe,Ce,Ae,ue,de,me,ge,he,_e,be,Ee,ve,xe,fe,we,ke,qe,Pe,je,Se,$e,Ue,Te,Ie,Oe,Ne,Be,Ge,ze,Me,Le,Re,Qe,We,He,Ke,Ve,Je,Ye,Ze,Xe,ln,sn,on,en,nn,an,tn,cn,rn,pn,Dn,yn,Fn,Cn,An,un,dn,mn,gn,hn,_n,bn,En,vn,xn,fn,wn,kn,qn,Pn,jn,Sn,$n,Un,Tn,In,On,Nn,Bn,Gn,zn,Mn,Ln,Rn,Qn,Wn,Hn,Kn,Vn,Jn,Yn,Zn,Xn,la,sa,oa,ea,na,aa,ta,ca,ra,pa,Da,ya,ia,Fa,Ca,Aa,ua,da,ma]),"main-header":o(()=>[n(e.$slots,"main-header")]),"main-header-after":o(()=>[n(e.$slots,"main-header-after")]),"main-nav":o(()=>[n(e.$slots,"main-nav")]),"main-content":o(()=>[n(e.$slots,"main-content")]),"main-content-after":o(()=>[n(e.$slots,"main-content-after")]),"main-nav-before":o(()=>[n(e.$slots,"main-nav-before")]),"main-nav-after":o(()=>[n(e.$slots,"main-nav-after")]),comment:o(()=>[n(e.$slots,"comment")]),footer:o(()=>[n(e.$slots,"footer")]),aside:o(()=>[n(e.$slots,"aside")]),"aside-custom":o(()=>[n(e.$slots,"aside-custom")]),default:o(()=>[n(e.$slots,"default")]),_:3},8,["frontmatter","data"])}const Pa=p(F,[["render",ga]]);export{qa as __pageData,Pa as default};
