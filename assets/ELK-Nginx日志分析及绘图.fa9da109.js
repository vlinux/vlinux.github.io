import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang.09c656dc.js";import{_ as i,c as p,w as l,o as _,r as t,g as s,R as n,p as g}from"./app.aa5f016a.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.9889fb8b.js";import"./YunCard.vue_vue_type_style_index_0_lang.05641dde.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fa28a170.js";const Qn=JSON.parse('{"title":"ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE","description":"","frontmatter":{"title":"ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE","categories":"DevOps","tags":["ELK"],"date":"2020-08-27T16:28:00.000Z"},"headers":[{"level":2,"title":"1. \u524D\u8A00","slug":"_1-\u524D\u8A00","link":"#_1-\u524D\u8A00","children":[]},{"level":2,"title":"2. \u5B9E\u73B0\u8FC7\u7A0B","slug":"_2-\u5B9E\u73B0\u8FC7\u7A0B","link":"#_2-\u5B9E\u73B0\u8FC7\u7A0B","children":[{"level":3,"title":"2.1 nginx \u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","slug":"_2-1-nginx-\u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","link":"#_2-1-nginx-\u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","children":[]},{"level":3,"title":"2.2 filebeat \u4F20\u8F93 nginx \u65E5\u5FD7","slug":"_2-2-filebeat-\u4F20\u8F93-nginx-\u65E5\u5FD7","link":"#_2-2-filebeat-\u4F20\u8F93-nginx-\u65E5\u5FD7","children":[]},{"level":3,"title":"2.3 logstash \u914D\u7F6E\u6587\u4EF6\u7F16\u5199","slug":"_2-3-logstash-\u914D\u7F6E\u6587\u4EF6\u7F16\u5199","link":"#_2-3-logstash-\u914D\u7F6E\u6587\u4EF6\u7F16\u5199","children":[]},{"level":3,"title":"2.4 kibana \u5C55\u793A[ ](https://www.cnblogs.com/hukey/p/11519612.html 1813218387)","slug":"_2-4-kibana-\u5C55\u793A-https-www-cnblogs-com-hukey-p-11519612-html-1813218387","link":"#_2-4-kibana-\u5C55\u793A-https-www-cnblogs-com-hukey-p-11519612-html-1813218387","children":[]}]}],"relativePath":"pages/posts/ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE.md","lastUpdated":0}'),o=JSON.parse('{"title":"ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE","description":"","frontmatter":{"title":"ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE","categories":"DevOps","tags":["ELK"],"date":"2020-08-27T16:28:00.000Z"},"headers":[{"level":2,"title":"1. \u524D\u8A00","slug":"_1-\u524D\u8A00","link":"#_1-\u524D\u8A00","children":[]},{"level":2,"title":"2. \u5B9E\u73B0\u8FC7\u7A0B","slug":"_2-\u5B9E\u73B0\u8FC7\u7A0B","link":"#_2-\u5B9E\u73B0\u8FC7\u7A0B","children":[{"level":3,"title":"2.1 nginx \u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","slug":"_2-1-nginx-\u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","link":"#_2-1-nginx-\u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","children":[]},{"level":3,"title":"2.2 filebeat \u4F20\u8F93 nginx \u65E5\u5FD7","slug":"_2-2-filebeat-\u4F20\u8F93-nginx-\u65E5\u5FD7","link":"#_2-2-filebeat-\u4F20\u8F93-nginx-\u65E5\u5FD7","children":[]},{"level":3,"title":"2.3 logstash \u914D\u7F6E\u6587\u4EF6\u7F16\u5199","slug":"_2-3-logstash-\u914D\u7F6E\u6587\u4EF6\u7F16\u5199","link":"#_2-3-logstash-\u914D\u7F6E\u6587\u4EF6\u7F16\u5199","children":[]},{"level":3,"title":"2.4 kibana \u5C55\u793A[ ](https://www.cnblogs.com/hukey/p/11519612.html 1813218387)","slug":"_2-4-kibana-\u5C55\u793A-https-www-cnblogs-com-hukey-p-11519612-html-1813218387","link":"#_2-4-kibana-\u5C55\u793A-https-www-cnblogs-com-hukey-p-11519612-html-1813218387","children":[]}]}],"relativePath":"pages/posts/ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE.md","lastUpdated":0}'),h={name:"pages/posts/ELK-Nginx\u65E5\u5FD7\u5206\u6790\u53CA\u7ED8\u56FE.md",data(){return{data:o,frontmatter:o.frontmatter}},setup(){g("pageData",o)}},d=s("h2",{id:"_1-\u524D\u8A00",tabindex:"-1"},[n("1. \u524D\u8A00 "),s("a",{class:"header-anchor",href:"#_1-\u524D\u8A00","aria-hidden":"true"},"#")],-1),m=s("p",null,"\u5148\u4E0A\u4E00\u5F20\u6574\u4F53\u7684\u6548\u679C\u56FE\uFF1A",-1),u=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171756743-1335980347.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171756743-1335980347.png",alt:"img"})])],-1),b=s("p",null,"\u4E0A\u9762\u8FD9\u5F20\u56FE\u5C31\u662F\u901A\u8FC7 ELK \u5206\u6790 nginx \u65E5\u5FD7\u6240\u5F97\u5230\u7684\u6570\u636E\uFF0C\u901A\u8FC7 kibana \u7684\u529F\u80FD\u5C55\u793A\u51FA\u6765\u7684\u6548\u679C\u56FE\u3002\u662F\u4E0D\u662F\u8FD9\u6837\u5BF9\u65E5\u5FD7\u505A\u4E86\u89E3\u6790\uFF0C\u60F3\u8981\u77E5\u9053\u7684\u6570\u636E\u4E00\u76EE\u4E86\u7136\u3002\u63A5\u4E0B\u6765\u5C31\u662F\u5B9E\u73B0\u8FC7\u7A0B\u5B9E\u5F55\u3002",-1),f=s("h2",{id:"_2-\u5B9E\u73B0\u8FC7\u7A0B",tabindex:"-1"},[n("2. \u5B9E\u73B0\u8FC7\u7A0B "),s("a",{class:"header-anchor",href:"#_2-\u5B9E\u73B0\u8FC7\u7A0B","aria-hidden":"true"},"#")],-1),C=s("p",null,[n("\u901A\u8FC7\u4E0A\u4E00\u7BC7\uFF1A"),s("a",{href:"https://www.kococ.cn/20200924/cid=619.html",target:"_blank",rel:"noreferrer"},"ELK \u90E8\u7F72\u6587\u6863"),n(" \u5DF2\u7ECF\u5BF9 ELK + filebeat \u83B7\u53D6 nginx \u505A\u4E86\u8BE6\u7EC6\u7684\u914D\u7F6E\u4ECB\u7ECD\uFF0C\u8FD9\u91CC\u91CD\u70B9\u5C31\u4E0D\u5728\u5B89\u88C5 ELK \u4E0A\u9762\u4E86\u3002 \u4E0B\u9762\u8FD9\u8FB9\u7684\u5185\u5BB9\uFF0C\u4E3B\u8981\u662F\u9488\u5BF9 logstash \u914D\u7F6E\u6587\u4EF6\u7684\u7F16\u5199\u548C kibana web\u754C\u9762\u7684\u914D\u7F6E\u3002")],-1),A=s("p",null,"\u4E3B\u673A\u4FE1\u606F\u5728\u7533\u660E\u4E0B\uFF0C\u548C\u4E0A\u4E00\u7BC7\u4E00\u6837\uFF1A",-1),k=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914165802139-1352161924.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914165802139-1352161924.png",alt:"img"})])],-1),y=s("h3",{id:"_2-1-nginx-\u65E5\u5FD7\u683C\u5F0F\u7F16\u5199",tabindex:"-1"},[n("2.1 nginx \u65E5\u5FD7\u683C\u5F0F\u7F16\u5199 "),s("a",{class:"header-anchor",href:"#_2-1-nginx-\u65E5\u5FD7\u683C\u5F0F\u7F16\u5199","aria-hidden":"true"},"#")],-1),w=s("p",null,"\u5728\u7F16\u5199logstash \u6587\u4EF6\u4E4B\u524D\uFF0C\u5F97\u6709\u4E00\u4E2A\u6807\u51C6\u8F93\u5165\u8F93\u51FA\u683C\u5F0F\uFF0C\u8FD9\u4E2A\u683C\u5F0F\u901A\u7528\u7684\u5C31\u662F json \u683C\u5F0F\u3002",-1),x=s("p",null,"\u9996\u5148\uFF0C\u8003\u8651\u5982\u4F55\u624D\u80FD\u83B7\u53D6 json \u683C\u5F0F\u7684\u65E5\u5FD7\uFF0C\u5F53\u7136\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u4FEE\u6539 nginx \u65E5\u5FD7\u7684\u683C\u5F0F\u6765\u5B9E\u73B0\uFF0C\u56E0\u6B64\u5F00\u59CB\u4FEE\u6539 nginx \u65E5\u5FD7\u683C\u5F0F\u3002\u5982\u679C\u83B7\u53D6\u7684\u65E5\u5FD7\u65E0\u6CD5\u4FEE\u6539json \u683C\u5F0F\uFF0C\u5219\u53EF\u4EE5\u901A\u8FC7\u6B63\u5219\u8868\u8FBE\u5F0F\u6765\u5339\u914D\u3002",-1),v=s("p",null,"\u5728nginx \u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u5982\u4E0B\u65E5\u5FD7\u683C\u5F0F\uFF1A",-1),D=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"http {")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u2026")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    log_format main_json '{"domain":"$server_name",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"http_x_forwarded_for":"$http_x_forwarded_for",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"time_local":"$time_iso8601",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"request":"$request",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"request_body":"$request_body",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"status":$status,'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"body_bytes_sent":"$body_bytes_sent",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"http_referer":"$http_referer",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"upstream_response_time":"$upstream_response_time",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"request_time":"$request_time",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"http_user_agent":"$http_user_agent",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"upstream_addr":"$upstream_addr",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`    '"upstream_status":"$upstream_status"}';`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," ")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," ")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u2026.")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"}")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),E=s("p",null,"\u5B9A\u4E49\u7684\u8FD9\u4E2Anginx \u65E5\u5FD7\u683C\u5F0F\u53EB main_json \u540E\u9762\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u90FD\u53EF\u4EE5\u5F15\u7528\u8FD9\u4E2A\u65E5\u5FD7\u683C\u5F0F\u3002\u9664\u4E86nginx \u65E5\u5FD7\u53C2\u6570\u4EE5\u5916\uFF0C\u8FD8\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u6765\u81EA\u884C\u6DFB\u52A0\u81EA\u5B9A\u4E49\u53C2\u6570\uFF0C\u6BD4\u5982 \u83B7\u53D6\u7528\u6237\u7684\u771F\u5B9Eip",-1),$=s("p",null,"\u4E8E\u662F\u7F16\u5199\u4E00\u4E2A\u81EA\u5B9A\u4E49\u53D8\u91CF\u7684\u914D\u7F6E\u6587\u4EF6\uFF1A",-1),j=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},'[root@192.168.118.16 ~]`` vim /etc/nginx/location.conf` ` set $real_ip $remote_addr;``if` `( $http_x_forwarded_for ~ ``"^(\\d+\\.\\d+\\.\\d+\\.\\d+)"` `) {``    ``set` `$real_ip $1;``}')]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),T=s("p",null,"\u8FD9\u4E2A\u914D\u7F6E\u6587\u4EF6\u53EA\u662F\u4E3A\u4E86\u83B7\u53D6\u7528\u6237\u7684\u771F\u5B9EIP\uFF0C\u53D8\u91CF\u540D\u4E3A\uFF1A real_ip \u9700\u8981\u5728nginx.conf \u4E2D\u5F15\u7528\uFF0C\u5728\u521A\u624D\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u4E5F\u52A0\u5165\u8BE5\u53D8\u91CF\uFF0C\u5B8C\u6574\u65E5\u5FD7\u683C\u5F0F\u5982\u4E0B\uFF1A",-1),O=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`log_format main_json '{"domain":"$server_name",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"real_ip":"$real_ip",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"http_x_forwarded_for":"$http_x_forwarded_for",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"time_local":"$time_iso8601",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"request":"$request",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"request_body":"$request_body",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"status":$status,'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"body_bytes_sent":"$body_bytes_sent",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"http_referer":"$http_referer",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"upstream_response_time":"$upstream_response_time",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"request_time":"$request_time",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"http_user_agent":"$http_user_agent",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"upstream_addr":"$upstream_addr",'`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},`'"upstream_status":"$upstream_status"}';`)]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),P=s("p",null,"\u6CE8\u91CA\u6389\u8BE5\u884C\uFF1A",-1),I=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," access_log /var/log/nginx/access.log main;")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),G=s("p",null,"\u63A5\u4E0B\u6765\uFF0C\u7F16\u5199\u4E00\u4E2Anginx \u914D\u7F6E\u6587\u4EF6 \u7AEF\u53E3\u4E3A 9527 \u4F5C\u4E3A\u6D4B\u8BD5\u4F7F\u7528",-1),H=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"[root@192.168.118.16 ~]`` vim /etc/nginx/conf.d/server_9527.conf``server {``  ``listen 9527;``  ``server_name localhost;``  ``include location.conf;``  ``location / {``    ``root ``/www/9527/``;``    ``index index.html;``    ``access_log ``/www/log/access``.log main_json;``    ``error_log ``/www/log/error``.log;``  ``}``  ``location ``/shop` `{``    ``root ``/www/9527``;``    ``access_log ``/www/log/shop_access``.log main_json;``    ``error_log ``/www/log/shop_error``.log;``  ``}``}` `[root@192.168.118.16 ~]`` mkdir -p /www/{9527,log}``[root@192.168.118.16 ~]`` cd /www/9527/``[root@192.168.118.16 ``/www/9527``]`` vim index.html``hello, 9527``[root@192.168.118.16 ``/www/9527``]`` mkdir -pv /www/9527/shop``[root@192.168.118.16 ``/www/9527``]`` vim /www/9527/shop/index.html``\u51FA\u552E9527` `[root@192.168.118.16 ``/www/9527``]`` nginx -t``[root@192.168.118.16 ``/www/9527``]`` nginx -s reload")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),M=s("p",null,"Nginx \u914D\u7F6E\u5B8C\u6210\uFF0C\u91CD\u65B0\u52A0\u8F7D\uFF0C\u8BBF\u95EE\u6D4B\u8BD5\uFF1A",-1),Y=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"[root@192.168.118.16 ~]`` curl http://192.168.118.16:9527/index.html``hello, 9527``[root@192.168.118.16 ~]`` curl http://192.168.118.16:9527/shop/index.html``\u51FA\u552E9527")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),K=s("p",null,"\u9875\u9762\u8BBF\u95EE\u6B63\u5E38\uFF0C\u67E5\u770B\u65E5\u5FD7\uFF1A",-1),L=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"[root@192.168.118.16 ~]`` ll -tsh /www/log/``total 8.0K``4.0K -rw-r--r-- 1 root root 346 Sep 14 14:35 shop_access.log``4.0K -rw-r--r--. 1 root root 341 Sep 14 14:35 access.log``  ``0 -rw-r--r--. 1 root root  0 Sep 14 14:35 error.log``  ``0 -rw-r--r-- 1 root root  0 Sep 14 14:34 shop_error.log")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),q=s("p",null,"\u65E5\u5FD7\u6587\u4EF6\u5DF2\u751F\u6210\uFF0C\u67E5\u770B\u65E5\u5FD7\u683C\u5F0F\uFF1A",-1),N=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},'[root@192.168.118.16 ~]`` cat /www/log/access.log``{``"domain"``:``"localhost"``,``"real_ip"``:``""``,``"http_x_forwarded_for"``:``"-"``,``"time_local"``:``"2019-09-14T14:35:11+08:00"``,``"request"``:``"GET /index.html HTTP/1.1"``,``"request_body"``:``"-"``,``"status"``:200,``"body_bytes_sent"``:``"12"``,``"http_referer"``:``"-"``,``"upstream_response_time"``:``"-"``,``"request_time"``:``"0.000"``,``"http_user_agent"``:``"curl/7.29.0"``,``"upstream_addr"``:``"-"``,``"upstream_status"``:``"-"``}')]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),S=s("p",null,"\u5B9A\u4E49\u7684 json \u683C\u5F0F\u5DF2\u7ECF\u88AB\u5F15\u7528\u5230\uFF0Cnginx\u65E5\u5FD7\u683C\u5F0F\u914D\u7F6E\u5B8C\u6210\uFF0C\u63A5\u4E0B\u6765\u5C31\u662F \u901A\u8FC7filebeat \u5C06nginx \u65E5\u5FD7\u4F20\u9012\u7ED9 logstash",-1),U=s("h3",{id:"_2-2-filebeat-\u4F20\u8F93-nginx-\u65E5\u5FD7",tabindex:"-1"},[n("2.2 filebeat \u4F20\u8F93 nginx \u65E5\u5FD7 "),s("a",{class:"header-anchor",href:"#_2-2-filebeat-\u4F20\u8F93-nginx-\u65E5\u5FD7","aria-hidden":"true"},"#")],-1),B=s("p",null,"\u8FD9\u91CC\u5728\u4E0A\u4E00\u7BC7\u7684\u57FA\u7840\u4E0A\u505A\u4FEE\u6539\uFF0C\u76F4\u63A5\u4FEE\u6539 filebeat \u914D\u7F6E\u6587\u4EF6\uFF1A",-1),V=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"[root@192.168.118.16 ~]`` vim /etc/filebeat/modules.d/nginx.yml")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),J=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170056822-999219778.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170056822-999219778.png",alt:"img"})])],-1),Z=s("p",null,"\u91CD\u542F filebeat \u670D\u52A1",-1),R=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"[root@192.168.118.16 ~]`` systemctl restart filebeat")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),z=s("h3",{id:"_2-3-logstash-\u914D\u7F6E\u6587\u4EF6\u7F16\u5199",tabindex:"-1"},[n("2.3 logstash \u914D\u7F6E\u6587\u4EF6\u7F16\u5199 "),s("a",{class:"header-anchor",href:"#_2-3-logstash-\u914D\u7F6E\u6587\u4EF6\u7F16\u5199","aria-hidden":"true"},"#")],-1),F=s("p",null,"\u901A\u8FC7\u4E0A\u9762\u7684\u6B65\u9AA4\uFF0Cfilebeat \u5DF2\u7ECF\u5C06 nginx \u65E5\u5FD7\u4F20\u8F93\u8FC7\u6765\u4E86\uFF0C\u63A5\u4E0B\u6765\u5C31\u770B logstash \u8981\u600E\u4E48\u63A5\u6536\u65E5\u5FD7\u6570\u636E\u4E86\uFF0C\u8FD8\u662F\u901A\u8FC7\u5FAA\u5E8F\u6E10\u8FDB\u7684\u65B9\u5F0F\u6765\u7F16\u5199\u3002",-1),Q=s("p",null,"\u9996\u5148\u5C06\u65E5\u5FD7\u6570\u636E\u6253\u5370\u5230\u5C4F\u5E55\uFF0C\u4FDD\u8BC1\u6570\u636E\u7684\u6B63\u786E\u6027\u3002",-1),W=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170146062-105485249.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170146062-105485249.png",alt:"img"})])],-1),X=s("p",null,"\u4ECE nginx.conf \u542F\u52A8 logstash\u3002\u901A\u8FC7\u6D4F\u89C8\u5668\u8BBF\u95EE nginx 9527\u7AEF\u53E3\u4EA7\u751F\u65E5\u5FD7\u6570\u636E\u3002",-1),ss=s("p",null,"\u8FD9\u91CC\u542F\u52A8 logstash \u53EF\u4EE5\u6DFB\u52A0 \u4FEE\u6539\u81EA\u52A8\u91CD\u8F7D\u7684\u6A21\u5F0F\uFF0C\u8FD9\u6837\u5F53\u4FEE\u6539\u4E86 nginx.conf \u65F6\uFF0C\u4E0D\u5FC5\u9891\u7E41\u7684\u53BB\u5173\u95ED\u91CD\u542F\u3002",-1),ns=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"[root@192.168.118.15 ``/etc/logstash/conf``.d]`` logstash -f nginx.conf --config.reload.automatic")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),ls=s("p",null,"\u901A\u8FC7\u6293\u53D6\u4E00\u6BB5 json \u6570\u636E\uFF0C\u5206\u6790\u4E0B\uFF1A",-1),es=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),ts=s("p",null,"\u8FD9\u91CC\u9762\u6570\u636E\u5F88\u591A\uFF0C\u4F46\u662F\u8FD9\u91CC\u7684\u6709\u4E9B\u6570\u636E\u4E0D\u662F\u5FC5\u8981\u7684\uFF0C\u5E94\u8BE5\u4FDD\u7559\u9700\u8981\u7684\u6570\u636E\uFF0C\u800C\u5254\u9664\u6CA1\u5FC5\u8981\u7684\u6570\u636E\uFF0C\u4F7F json \u770B\u8D77\u6765\u66F4\u52A0\u7B80\u6D01\u3002",-1),os=s("p",null,"\u9996\u5148\u6765\u67E5\u770B\u8FD9\u6BB5 json \uFF0C\u53D1\u73B0\u771F\u6B63\u7684 nginx \u65E5\u5FD7\u6570\u636E\u90FD\u5B58\u5728 message \u91CC\u9762\uFF0C\u5176\u4ED6\u7684\u90FD\u662F\u4E00\u4E9B\u4E3B\u673A\u670D\u52A1\u76F8\u5173\u7684\u4FE1\u606F\uFF0C\u4F46\u662F message \u770B\u8D77\u6765\u4E71\u7CDF\u7CDF\u7684\uFF0C\u7B80\u76F4\u6CA1\u6CD5\u770B\u3002\u65E2\u7136\u91C7\u7528\u7684 json \u683C\u5F0F\uFF0C\u90A3\u5C31\u80FD\u591F\u683C\u5F0F\u5316\u3002",-1),as=s("p",null,"\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\u5982\u4E0B\uFF1A",-1),rs=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170309225-1319713742.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170309225-1319713742.png",alt:"img"})])],-1),cs=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),is=s("p",null,"\u5C06\u8FD9\u4E24\u6B21\u83B7\u53D6\u7684\u6570\u636E\u8FDB\u884C\u4E00\u4E2A\u5BF9\u6BD4\uFF0C\u4E0B\u9762\u8FD9\u4E2A\u6570\u636E message \u88AB\u5220\u9664\u4E86\uFF0C\u4F46\u662F message \u4E2D\u7684\u6BCF\u4E2A\u5B57\u6BB5\u90FD\u72EC\u7ACB\u51FA\u6765\u4E86\u3002\u8FD9\u6837\u7684\u597D\u5904\uFF1A",-1),ps=s("p",null,"\uFF081\uFF09\u65E5\u5FD7\u4FE1\u606F\u66F4\u52A0\u6E05\u6670\uFF0C\u80FD\u591F\u51C6\u786E\u7684\u5B9A\u4F4D\u5230\u67D0\u4E00\u4E2A\u5B57\u6BB5\uFF1B",-1),_s=s("p",null,"\uFF082\uFF09\u4E3A\u540E\u9762\u5B58\u50A8\u5230 elasticsearch \u4E2D\uFF0C\u8FDB\u884C\u67E5\u8BE2\u6216\u8005\u7B5B\u9009\u505A\u597D\u4E86\u51C6\u5907\u3002",-1),gs=s("p",null,"\u4E0A\u9762\u8FD9\u4E2A\u64CD\u4F5C\u5C31\u7B49\u4E8E\u662F\u5C06\u539F\u6765\u7684 message \u5206\u5217\u5B58\u653E\u4E86\u3002",-1),hs=s("p",null,"\u4E0A\u9762\u8FD9\u4E2Ajson \u53D1\u73B0\u6709\u4E24\u4E2A\u65F6\u95F4\uFF1A",-1),ds=s("p",null,"@timestamp - \u683C\u6797\u5C3C\u6CBB\u65F6\u95F4 - logstash \u83B7\u53D6\u65E5\u5FD7\u65F6\u95F4",-1),ms=s("p",null,"Time_local - \u4E1C\u516B\u533A\u65F6\u95F4 - nginx\u65E5\u5FD7\u8BB0\u5F55\u65F6\u95F4",-1),us=s("p",null,"\u8FD9\u4E24\u4E2A\u65F6\u95F4\u7684 \u5206\u949F\u548C\u79D2\u949F\u5E76\u4E0D\u4E00\u81F4\uFF0C\u800C\u540E\u9762\u8FC7\u6EE4\u65E5\u5FD7\u91C7\u7528\u7684\u662F @timestamp \u65F6\u95F4\uFF0C\u4E5F\u5C31\u662F logstash \u65F6\u95F4\uFF0C\u8FD9\u5C31\u4F1A\u9020\u6210 nginx \u65E5\u5FD7\u65F6\u95F4\u4E0D\u51C6\u786E\u7684\u73B0\u8C61\uFF0C\u56E0\u6B64\u9700\u8981\u5C06\u4E24\u4E2A\u65F6\u95F4\u4FEE\u6539\u4E3A\u4E00\u81F4\u3002",-1),bs=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170415825-1466620540.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170415825-1466620540.png",alt:"img"})])],-1),fs=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),Cs=s("p",null,"\u73B0\u5728\uFF0C\u5BF9\u6BD4\u4E24\u4E2A\u65F6\u95F4\u7684\u5206\u949F \u548C\u79D2\u949F\uFF0C\u5B8C\u5168\u4E00\u81F4\u4E86\u3002\u63A5\u4E0B\u6765\uFF0C\u5220\u9664\u4E00\u4E9B\u4E0D\u5FC5\u8981\u7684\u5B57\u6BB5\uFF0C\u5E76\u91CD\u547D\u540D\u4E00\u4E9B\u5B57\u6BB5\u540D\uFF0C\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6\u5982\u4E0B\uFF1A",-1),As=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170447494-320560085.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170447494-320560085.png",alt:"img"})])],-1),ks=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),ys=s("p",null,"\u7ECF\u8FC7\u91CD\u547D\u540D\u548C\u5220\u9664\u6CA1\u6709\u7684\u5B57\u6BB5\uFF0Cjson \u4E5F\u53D8\u7684\u7CBE\u7B80\u4E86\u5F88\u591A\uFF0C\u8FD9\u6837\u5B58\u50A8 elasticsearch \u6D88\u8017\u7684\u5B58\u50A8\u7A7A\u95F4\u4E5F\u54CD\u5E94\u7684\u53D8\u5C0F\u4E86\u3002",-1),ws=s("p",null,"\u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u5C06\u6570\u636E\u5199\u5165\u5230 elasticsearch \u4E2D\u4E86\u3002\u5728\u8FD9\u4E4B\u524D\uFF0C\u505A\u7684\u90FD\u662F access.log\uFF0C\u538B\u6839\u5C31\u6CA1\u8003\u8651\u5230 error.log \u7684\u683C\u5F0F\uFF0C\u56E0\u4E3A nginx \u4E2D error.log \u65E5\u5FD7\u683C\u5F0F\u65E0\u6CD5\u81EA\u5B9A\u4E49\u3002",-1),xs=s("p",null,"\u5C1D\u8BD5\u8BBF\u95EE\u4E00\u4E2A\u9519\u8BEFuri \u6765\u67E5\u770B\u4E0B\u83B7\u53D6\u5230\u7684\u6570\u636E\uFF1A",-1),vs=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),Ds=s("p",null,"error.log \u8FC7\u6765\u7684\u6570\u636E\u5C31\u53D8\u6210\u4E0A\u9762\u8FD9\u4E2A\u6837\u5B50\u4E86\u3002\u8FD9\u53C8\u662F\u4E2A\u95EE\u9898\uFF0C\u505A ELK \u4E00\u662F\u4E3A\u4E86\u5206\u6790\u6570\u636E\uFF0C\u4E8C\u662F\u4E3A\u4E86\u5C3D\u5FEB\u6392\u9519\uFF0C\u5982\u679C ELK \u8FDE\u8FD9\u4E2A\u90FD\u505A\u4E0D\u5230\uFF0C\u90A3\u5C31\u6709\u70B9\u9E21\u808B\u4E86\u3002",-1),Es=s("p",null,"\u4E0A\u9762\u7684\u8FD9\u4E2A\u683C\u5F0F\u770B\u8D77\u6765\u53C8\u662F\u5F88\u4E71\u4E86\uFF0Cnginx \u9519\u8BEF\u65E5\u5FD7\u90FD\u5728 message \u4E2D\uFF0C\u867D\u7136nginx \u9519\u8BEF\u65E5\u5FD7\u65E0\u6CD5\u5B9A\u4E49\u683C\u5F0F\uFF0C\u4F46\u662F logstash \u53EF\u4EE5\u901A\u8FC7\u6B63\u5219\u8868\u8FBE\u5F0F\u6765\u5C06\u5B83\u8F6C\u6362\u4E3A json \u683C\u5F0F\u3002\u4F46\u5728\u8FD9\u4E4B\u524D\uFF0C\u5E94\u8BE5\u8003\u8651\uFF0Caccess.log \u548C error.log \u662F\u4E24\u79CD\u4E0D\u540C\u7684\u683C\u5F0F\uFF0C\u4E0D\u80FD\u7528\u540C\u4E00\u79CD\u65B9\u5F0F\u53BB\u5339\u914D\u3002\u90A3\u600E\u4E48\u5224\u65AD\u6570\u636E\u662F\u6765\u81EA access.log \u8FD8\u662F error.log \u5462\uFF1F",-1),$s=s("p",null,"\u8FD9\u91CC\u8BED\u6CD5\u80AF\u5B9A\u662F\u60F3\u5230\u4E86\uFF1A",-1),js=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"If \u2026 {``Access.log``} elseif \u2026 {``Error.log``}")]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),Ts=s("p",null,"\u5BF9\uFF0C\u8BED\u6CD5\u6CA1\u9519\uFF0C\u4F46\u662F\u7528\u4EC0\u4E48\u6761\u4EF6\u5462\uFF1F\u67E5\u770B\u4E0A\u9762\u7684\u65E5\u5FD7\uFF0C\u4E0D\u96BE\u53D1\u73B0\u6BCF\u6B21\u90FD\u6709\u8FD9\u6837\u7684\u5B57\u6BB5\uFF1A",-1),Os=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},'Access.log \u65E5\u5FD7\u6570\u636E\uFF1A``      ``"fileset"` `=> {``    ``"module"` `=> ``"nginx"``,``     ``"name"` `=> ``"access"` `error.log \u65E5\u5FD7\u6570\u636E\uFF1A``    ``"fileset"` `=> {``    ``"module"` `=> ``"nginx"``,``     ``"name"` `=> ``"error"')]),n(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),Ps=s("p",null,"\u8FD9\u6837\uFF0C\u5C31\u6709\u5224\u65AD\u7684\u4F9D\u636E\u4E86\uFF0C\u6839\u636Elogstash\u914D\u7F6E\u8BED\u6CD5\u5F00\u59CB\u5199\uFF1A",-1),Is=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170627274-1480014623.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170627274-1480014623.png",alt:"img"})])],-1),Gs=s("p",null,"\u5230\u76EE\u524D\u4E3A\u6B62\uFF0Clogstash \u7684 nginx \u65E5\u5FD7\u6536\u96C6\u8FC7\u6EE4\u914D\u7F6E\u6587\u4EF6\u5982\u4E0B\uFF1A",-1),Hs=s("p",null,"\u914D\u7F6E\u6587\u4EF6\u540D\uFF1Anginx.conf",-1),Ms=s("p",null,"nginx.conf",-1),Ys=s("p",null,"\u6D4B\u8BD5 access.log \u65E5\u5FD7\u683C\u5F0F\u6570\u636E\uFF1A",-1),Ks=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),Ls=s("p",null,"\u6D4B\u8BD5 error.log \u65E5\u5FD7\u683C\u5F0F\u6570\u636E\uFF1A",-1),qs=s("p",null,"logstash \u8F93\u51FA\u5185\u5BB9",-1),Ns=s("p",null,"\u8FD9\u4E0B\u6CA1\u95EE\u9898\u4E86\uFF0C \u4E24\u79CD\u683C\u5F0F\u7684\u6570\u636E\u90FD\u83B7\u53D6\u5230\u4E86\u3002\u63A5\u4E0B\u6765\u5C31\u5C06\u6570\u636E\u5199\u5165\u5230 elasticsearch\u4E2D\u3002",-1),Ss=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170756327-915369456.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170756327-915369456.png",alt:"img"})])],-1),Us=s("p",null,"\u5230\u76EE\u524D\u4E3A\u6B62\uFF0Clogstash \u914D\u7F6E\u6587\u4EF6 nginx.conf \u5982\u4E0B\uFF1A",-1),Bs=s("p",null,"nginx.conf",-1),Vs=s("p",null,"\u8FD9\u4E2A\u914D\u7F6E\u4E5F\u7B97\u662F\u672C\u6B21 nginx \u6700\u7EC8\u7248\u914D\u7F6E\u4E86\u3002",-1),Js=s("p",null,"\u4F7F\u7528\u6D4F\u89C8\u5668\u591A\u6B21\u8BBF\u95EEnginx 9527 \u7AEF\u53E3\uFF0C\u7136\u540E\u5207\u6362\u5230 elasticsearch-head \u67E5\u770B\u7D22\u5F15\u662F\u5426\u521B\u5EFA\u6210\u529F\u3002",-1),Zs=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170831161-1371655326.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170831161-1371655326.png",alt:"img"})])],-1),Rs=s("p",null,"ok\uFF0C\u5DF2\u7ECF\u770B\u5230\u4ECA\u5929\u7684\u7D22\u5F15\u521B\u5EFA\u6210\u529F\uFF0C\u67E5\u770B\u6570\u636E\u3002",-1),zs=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170839396-1643090650.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170839396-1643090650.png",alt:"img"})])],-1),Fs=s("p",null,"\u6570\u636E\u4E5F\u662F\u6CA1\u6709\u95EE\u9898\u7684\uFF0C\u5207\u6362\u5230 kibana \u6DFB\u52A0\u7D22\u5F15\u3002",-1),Qs=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170848522-1424711383.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170848522-1424711383.png",alt:"img"})])],-1),Ws=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170858050-1439014079.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170858050-1439014079.png",alt:"img"})])],-1),Xs=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170902088-655673391.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170902088-655673391.png",alt:"img"})])],-1),sn=s("p",null,"ok\uFF0C\u76EE\u524D\u5DF2\u7ECF\u5C06\u6570\u636E\u5B58\u50A8\u5230 elasticsearch \u5E76\u901A\u8FC7 kibana \u5C55\u793A\u51FA\u6765\u4E86\uFF0C\u4F46\u662F\u60F3\u8981\u66F4\u6E05\u6670\u7684\u5206\u6790\u67E5\u770B\u6570\u636E\u8FD8\u9700\u8981\u5728 kibana \u4E0A\u4E0B\u4E00\u756A\u529F\u592B\u3002",-1),nn=s("h3",{id:"_2-4-kibana-\u5C55\u793A-https-www-cnblogs-com-hukey-p-11519612-html-1813218387",tabindex:"-1"},[n("2.4 kibana \u5C55\u793A[ ]("),s("a",{href:"https://www.cnblogs.com/hukey/p/11519612.html",target:"_blank",rel:"noreferrer"},"https://www.cnblogs.com/hukey/p/11519612.html"),n(" 1813218387) "),s("a",{class:"header-anchor",href:"#_2-4-kibana-\u5C55\u793A-https-www-cnblogs-com-hukey-p-11519612-html-1813218387","aria-hidden":"true"},"#")],-1),ln=s("p",null,"\u9996\u5148\u662F Discover \u8FD9\u91CC\uFF0C\u6BCF\u6B21\u8FDB\u6765\uFF0C\u90FD\u9700\u8981\u4E00\u76EE\u4E86\u7136\u7684\u67E5\u770B\u65E5\u5FD7\uFF0C\u505A\u4EE5\u4E0B\u914D\u7F6E\uFF1A",-1),en=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170918203-1826275736.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170918203-1826275736.png",alt:"img"})])],-1),tn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170923063-911065831.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170923063-911065831.png",alt:"img"})])],-1),on=s("p",null,"\u4E0A\u9762\u4E24\u4E2A\u8BBE\u7F6E\u4EE5\u540E\uFF0C\u6BCF\u6B21\u767B\u5F55\u8FDB\u6765\u53EA\u9700\u8981\u70B9\u51FB \u6253\u5F00 \u67E5\u770B\u76F8\u5173\u6A21\u677F\u5C31\u80FD\u770B\u5230\u6E05\u6670\u7684\u65E5\u5FD7\u6570\u636E\u3002",-1),an=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914170934181-472655354.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914170934181-472655354.png",alt:"img"})])],-1),rn=s("p",null,"\u63A5\u4E0B\u6765\uFF0C\u5C31\u662F\u7ED8\u5236\u6700\u4E0A\u9762\u90A3\u526F\u56FE\u5566\u3002",-1),cn=s("p",null,"\u5728\u7ED8\u5236\u4E4B\u524D\u5FC5\u987B\u8981\u6709\u6570\u636E\u652F\u6491\uFF0C\u56E0\u4E3A\u8FD9\u4E2A\u662F\u6D4B\u8BD5\u73AF\u5883\u6CA1\u6709\u771F\u662F\u7684\u7528\u6237\u8BBF\u95EE\u3002\u56E0\u6B64\u9700\u8981\u9020\u4E00\u6279\u5047\u6570\u636E\u8BBF\u95EE\u3002",-1),pn=s("p",null,"\u65B9\u6CD5\u5C31\u662F \u76F4\u63A5\u53BB access.log \u91CC\u590D\u5236\u4E00\u6761\u6570\u636E\uFF0C\u4FEE\u6539 real_ip \u4E3A \u516C\u7F51ip",-1),_n=s("p",null,"\u5047\u6570\u636E\u6DFB\u52A0\u6210\u529F\u540E\uFF0C\u6765\u8FDB\u884C\u56FE\u8868\u7684\u914D\u7F6E\uFF0C\u70B9\u51FB \u53EF\u89C6\u5316",-1),gn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171008460-526233651.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171008460-526233651.png",alt:"img"})])],-1),hn=s("p",null,"\u7B2C\u4E00\u4E2A\uFF1A\u8BBF\u95EE\u7701\u4F1A\u57CE\u5E02 TOP 5 \uFF08\u997C\u56FE\uFF09",-1),dn=s("p",null,"\u9009\u62E9\u997C\u56FE\uFF0C\u7136\u540E\u9009\u62E9 logstash-nginx-* \u7D22\u5F15",-1),mn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171025923-579239111.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171025923-579239111.png",alt:"img"})])],-1),un=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),bn=s("p",null,"\u7B2C\u4E8C\u4E2A\uFF1A\u8BBF\u95EE\u5206\u5E03\u5730\u56FE\uFF08\u5750\u6807\u5730\u56FE\uFF09",-1),fn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171056562-1145989517.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171056562-1145989517.png",alt:"img"})])],-1),Cn=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),An=s("p",null,"\u7B2C\u4E09\u4E2A\uFF1A\u57DF\u540DTOP5 \uFF08\u6570\u636E\u8868\uFF09",-1),kn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171117412-2106656346.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171117412-2106656346.png",alt:"img"})])],-1),yn=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),wn=s("p",null,"\u7B2C\u56DB\u4E2A\uFF1A\u540E\u7AEF\u670D\u52A1TOP5\uFF08\u6570\u636E\u8868\uFF09",-1),xn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171137657-803006825.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171137657-803006825.png",alt:"img"})])],-1),vn=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),Dn=s("p",null,"\u7B2C\u4E94\u4E2A\uFF1Auri top 5\uFF08\u6570\u636E\u8868\uFF09",-1),En=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171158766-897281550.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171158766-897281550.png",alt:"img"})])],-1),$n=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),jn=s("p",null,"\u7B2C\u516D\u4E2A\uFF1ArealipTOP5 \uFF08\u6C34\u5E73\u6761\u5F62\u56FE\uFF09",-1),Tn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171224021-218490679.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171224021-218490679.png",alt:"img"})])],-1),On=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),Pn=s("p",null,"\u7B2C\u4E03\u4E2A\uFF1Ahttp\u72B6\u6001TOP5 \uFF08\u997C\u56FE\uFF09",-1),In=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171315469-1780001853.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171315469-1780001853.png",alt:"img"})])],-1),Gn=s("p",null,"\u5B8C\u6210\u540E\u70B9\u51FB\u4FDD\u5B58\u3002",-1),Hn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171337035-743648824.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171337035-743648824.png",alt:"img"})])],-1),Mn=s("p",null,"\u597D\u4E86\uFF0C \u5728 \u53EF\u89C6\u5316 \u4E00\u680F\u4E2D\uFF0C\u521B\u5EFA\u4E86 7 \u4E2A\u6570\u636E\u8868\u56FE\uFF0C\u70B9\u5F00 \u4EEA\u8868\u677F\uFF0C\u5C06\u8FD9\u4E9B\u56FE\u8868\u5C55\u793A\u51FA\u6765\u5C31\u884C\u4E86\u3002",-1),Yn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171349921-1797704129.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171349921-1797704129.png",alt:"img"})])],-1),Kn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171357047-1867714541.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171357047-1867714541.png",alt:"img"})])],-1),Ln=s("p",null,"\u7136\u540E\u5C06\u56FE\u8868\u6446\u653E\u597D\uFF0C\u5927\u529F\u544A\u6210\u3002",-1),qn=s("p",null,[s("a",{href:"https://img2018.cnblogs.com/blog/828019/201909/828019-20190914171408307-1023715408.png",target:"_blank",rel:"noreferrer"},[s("img",{src:"https://cdn.jsdelivr.net/gh/kococ/TYPECHO_IMG/mu77/828019-20190914171408307-1023715408.png",alt:"img"})])],-1);function Nn(e,Sn,Un,Bn,a,Vn){const r=c;return _(),p(r,{frontmatter:a.frontmatter,data:a.data},{"main-content-md":l(()=>[d,m,u,b,f,C,A,k,y,w,x,v,D,E,$,j,T,O,P,I,G,H,M,Y,K,L,q,N,S,U,B,V,J,Z,R,z,F,Q,W,X,ss,ns,ls,es,ts,os,as,rs,cs,is,ps,_s,gs,hs,ds,ms,us,bs,fs,Cs,As,ks,ys,ws,xs,vs,Ds,Es,$s,js,Ts,Os,Ps,Is,Gs,Hs,Ms,Ys,Ks,Ls,qs,Ns,Ss,Us,Bs,Vs,Js,Zs,Rs,zs,Fs,Qs,Ws,Xs,sn,nn,ln,en,tn,on,an,rn,cn,pn,_n,gn,hn,dn,mn,un,bn,fn,Cn,An,kn,yn,wn,xn,vn,Dn,En,$n,jn,Tn,On,Pn,In,Gn,Hn,Mn,Yn,Kn,Ln,qn]),"main-header":l(()=>[t(e.$slots,"main-header")]),"main-header-after":l(()=>[t(e.$slots,"main-header-after")]),"main-nav":l(()=>[t(e.$slots,"main-nav")]),"main-content":l(()=>[t(e.$slots,"main-content")]),"main-content-after":l(()=>[t(e.$slots,"main-content-after")]),"main-nav-before":l(()=>[t(e.$slots,"main-nav-before")]),"main-nav-after":l(()=>[t(e.$slots,"main-nav-after")]),comment:l(()=>[t(e.$slots,"comment")]),footer:l(()=>[t(e.$slots,"footer")]),aside:l(()=>[t(e.$slots,"aside")]),"aside-custom":l(()=>[t(e.$slots,"aside-custom")]),default:l(()=>[t(e.$slots,"default")]),_:3},8,["frontmatter","data"])}const Wn=i(h,[["render",Nn]]);export{Qn as __pageData,Wn as default};
