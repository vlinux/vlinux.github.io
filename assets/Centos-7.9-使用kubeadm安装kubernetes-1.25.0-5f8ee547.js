import{_ as D}from"./ValaxyMain.vue_vue_type_style_index_0_lang-a3c00c87.js";import{_ as y,c as C,w as o,o as i,b as s,d as l,e as t,r as n,f as A,p as F}from"./app-e60dbe09.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-db866af1.js";import"./YunCard.vue_vue_type_style_index_0_lang-1ae379f8.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-ff02aa9b.js";const Is=JSON.parse('{"title":"Centos 7.9 使用kubeadm安装kubernetes 1.25.0","description":"","frontmatter":{"title":"Centos 7.9 使用kubeadm安装kubernetes 1.25.0","categories":"Kubernetes","tags":["kubernetes install"],"date":"2022-09-30T11:40:40.000Z"},"headers":[{"level":2,"title":"1.机器准备","slug":"_1-机器准备","link":"#_1-机器准备","children":[]},{"level":2,"title":"2.初始化配置","slug":"_2-初始化配置","link":"#_2-初始化配置","children":[]},{"level":2,"title":"3. 安装Docker","slug":"_3-安装docker","link":"#_3-安装docker","children":[]},{"level":2,"title":"4. 配置Containerd","slug":"_4-配置containerd","link":"#_4-配置containerd","children":[]},{"level":2,"title":"5. 安装kubeadm、kubelet、kubectl","slug":"_5-安装kubeadm、kubelet、kubectl","link":"#_5-安装kubeadm、kubelet、kubectl","children":[]},{"level":2,"title":"6. 初始化主节点","slug":"_6-初始化主节点","link":"#_6-初始化主节点","children":[]},{"level":2,"title":"7. 安装Canal网络插件","slug":"_7-安装canal网络插件","link":"#_7-安装canal网络插件","children":[]}],"relativePath":"pages/posts/Centos-7.9-使用kubeadm安装kubernetes-1.25.0.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/Centos-7.9-使用kubeadm安装kubernetes-1.25.0.md","lastUpdated":1671090556000}'),c=JSON.parse('{"title":"Centos 7.9 使用kubeadm安装kubernetes 1.25.0","description":"","frontmatter":{"title":"Centos 7.9 使用kubeadm安装kubernetes 1.25.0","categories":"Kubernetes","tags":["kubernetes install"],"date":"2022-09-30T11:40:40.000Z"},"headers":[{"level":2,"title":"1.机器准备","slug":"_1-机器准备","link":"#_1-机器准备","children":[]},{"level":2,"title":"2.初始化配置","slug":"_2-初始化配置","link":"#_2-初始化配置","children":[]},{"level":2,"title":"3. 安装Docker","slug":"_3-安装docker","link":"#_3-安装docker","children":[]},{"level":2,"title":"4. 配置Containerd","slug":"_4-配置containerd","link":"#_4-配置containerd","children":[]},{"level":2,"title":"5. 安装kubeadm、kubelet、kubectl","slug":"_5-安装kubeadm、kubelet、kubectl","link":"#_5-安装kubeadm、kubelet、kubectl","children":[]},{"level":2,"title":"6. 初始化主节点","slug":"_6-初始化主节点","link":"#_6-初始化主节点","children":[]},{"level":2,"title":"7. 安装Canal网络插件","slug":"_7-安装canal网络插件","link":"#_7-安装canal网络插件","children":[]}],"relativePath":"pages/posts/Centos-7.9-使用kubeadm安装kubernetes-1.25.0.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/Centos-7.9-使用kubeadm安装kubernetes-1.25.0.md","lastUpdated":1671090556000}'),d={name:"pages/posts/Centos-7.9-使用kubeadm安装kubernetes-1.25.0.md",data(){return{data:c,frontmatter:c.frontmatter}},setup(){F("pageData",c)}},u={id:"_1-机器准备",tabindex:"-1"},h=s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"hostname"),s("th",null,"ip地址"),s("th",null,"系统版本"),s("th",null,"cpu"),s("th",null,"内存")])]),s("tbody",null,[s("tr",null,[s("td",null,"k8s-master"),s("td",null,"192.168.88.35"),s("td",null,"centos 7.9"),s("td",null,"4核"),s("td",null,"8G")]),s("tr",null,[s("td",null,"k8s-node"),s("td",null,"192.168.88.37"),s("td",null,"centos 7.9"),s("td",null,"4核"),s("td",null,"8G")])])],-1),m={id:"_2-初始化配置",tabindex:"-1"},_=s("p",null,[s("strong",null,"master和node设置主机名")],-1),g=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"hostnamectl "),s("span",{style:{color:"#82AAFF"}},"set-hostname"),s("span",{style:{color:"#A6ACCD"}}," k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"master")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"hostnamectl "),s("span",{style:{color:"#82AAFF"}},"set-hostname"),s("span",{style:{color:"#A6ACCD"}}," k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"node")]),l(`
`),s("span",{class:"line"})])])],-1),k=s("p",null,[s("strong",null,"设置hosts解析")],-1),b=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"cat "),s("span",{style:{color:"#89DDFF"}},">>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"hosts "),s("span",{style:{color:"#89DDFF"}},"<<"),s("span",{style:{color:"#A6ACCD"}}," EOF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"192.168"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"88.35"),s("span",{style:{color:"#A6ACCD"}}," k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"master")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F78C6C"}},"192.168"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"88.37"),s("span",{style:{color:"#A6ACCD"}}," k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"node")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"EOF")]),l(`
`),s("span",{class:"line"})])])],-1),f=s("p",null,[s("strong",null,"临时关闭防火墙")],-1),v=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl stop firewalld")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl disable firwalld")]),l(`
`),s("span",{class:"line"})])])],-1),w=s("p",null,[s("strong",null,"关闭selinux")],-1),E=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"setenforce "),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#A6ACCD"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sed "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"i "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"s/enforcing/disabled/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"selinux"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"config")]),l(`
`),s("span",{class:"line"})])])],-1),x=s("p",null,[s("strong",null,"关闭swap交换分区")],-1),O=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"swapoff "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"a")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sed "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"i "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"/swap/s/^/#/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"fstab")]),l(`
`),s("span",{class:"line"})])])],-1),$=s("p",null,[s("strong",null,"设置内核参数")],-1),I=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"modprobe br_netfilter")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"cat "),s("span",{style:{color:"#89DDFF"}},">>"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"sysctl.conf  "),s("span",{style:{color:"#89DDFF"}},"<<"),s("span",{style:{color:"#A6ACCD"}}," EOF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"net.bridge.bridge"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"nf"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"call"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"ip6tables "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"net.bridge.bridge"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"nf"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"call"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"iptables "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"net.ipv4.ip_forward"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"EOF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sysctl "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"p")]),l(`
`),s("span",{class:"line"})])])],-1),P=s("p",null,[s("strong",null,"设置系统时区为上海")],-1),R=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"timedatectl "),s("span",{style:{color:"#82AAFF"}},"set-timezone"),s("span",{style:{color:"#A6ACCD"}}," Asia"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"Shanghai")]),l(`
`),s("span",{class:"line"})])])],-1),S={id:"_3-安装docker",tabindex:"-1"},T=s("blockquote",null,[s("p",null,"自 1.24.x版起,Docker不能再作为Kubernetes的容器运行时了,但因安装Docker会默认安装Containerd且个人觉得Docker用的顺手，所以这里还是安装Docker，也可以直接安装Containerd节省资源")],-1),L=s("p",null,[s("strong",null,"添加阿里yum源")],-1),N=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum install "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"y yum"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"utils device"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"mapper"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"persistent"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"data lvm2")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"config"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"manager "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#82AAFF"}},"add-repo"),s("span",{style:{color:"#A6ACCD"}}," https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#82AAFF"}},"mirrors.aliyun.com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"docker"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"ce"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"linux"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"centos"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"docker"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"ce.repo")]),l(`
`),s("span",{class:"line"})])])],-1),V=s("p",null,[s("strong",null,"安装并启动")],-1),j=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"y install docker"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"ce")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#也可以直接安装containerd    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#yum -y install containerd")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl start docker")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl enable docker")]),l(`
`),s("span",{class:"line"})])])],-1),K=s("p",null,[s("strong",null,"添加阿里的镜像源")],-1),M=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"cat "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"docker"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"daemon.json  "),s("span",{style:{color:"#89DDFF"}},"<<"),s("span",{style:{color:"#A6ACCD"}}," EOF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"registry-mirrors"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},": "),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"https://r3ucysd2.mirror.aliyuncs.com"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"exec-opts"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},": "),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"native.cgroupdriver=systemd"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"storage-driver"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},": "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"overlay2"),s("span",{style:{color:"#89DDFF"}},'"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"EOF")]),l(`
`),s("span",{class:"line"})])])],-1),U=s("p",null,[s("strong",null,"重启更新配置")],-1),B=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl daemon"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"reload")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl restart docker")]),l(`
`),s("span",{class:"line"})])])],-1),G={id:"_4-配置containerd",tabindex:"-1"},H=s("p",null,[s("strong",null,"生成默认配置文件并修改")],-1),q=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"containerd config "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"default"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"containerd"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"config.toml")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sed "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"i "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"s/k8s.gcr.io/registry.aliyuncs.com\\/google_containers/"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"containerd"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"config.toml")]),l(`
`),s("span",{class:"line"})])])],-1),J=s("p",null,[s("strong",null,"重启加载配置")],-1),Z=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl daemon"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"reload")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl restart containerd")]),l(`
`),s("span",{class:"line"})])])],-1),z={id:"_5-安装kubeadm、kubelet、kubectl",tabindex:"-1"},Q=s("p",null,[s("strong",null,"添加K8S阿里源")],-1),W=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"cat "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"yum.repos.d"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"kubernetes.repo "),s("span",{style:{color:"#89DDFF"}},"<<"),s("span",{style:{color:"#A6ACCD"}}," EOF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#C792EA"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"name"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"Kubernetes")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"baseurl"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#82AAFF"}},"mirrors.aliyun.com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"yum"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"repos"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"el7"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"x86_64")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"enabled"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"gpgcheck"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"repo_gpgcheck"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"gpgkey"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#82AAFF"}},"mirrors.aliyun.com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"yum"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"doc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"yum"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"key.gpg https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#82AAFF"}},"mirrors.aliyun.com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"yum"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"doc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"rpm"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"package"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"key.gpg")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"EOF")]),l(`
`),s("span",{class:"line"})])])],-1),X=s("p",null,[s("strong",null,"查看可安装版本并安装")],-1),Y=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum list "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"showduplicates kubeadm")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum install "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"y kubelet"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#F78C6C"}},"1.25"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#A6ACCD"}}," kubeadm"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#F78C6C"}},"1.25"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#A6ACCD"}}," kubectl"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#F78C6C"}},"1.25"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"0")]),l(`
`),s("span",{class:"line"})])])],-1),ss=s("p",null,[s("strong",null,"设置kubelet开机自启")],-1),ls=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl enable kubelet")]),l(`
`),s("span",{class:"line"})])])],-1),os={id:"_6-初始化主节点",tabindex:"-1"},es=s("p",null,[s("strong",null,"在主节点设置集群信息")],-1),ns=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"kubeadm init \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"apiserver"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"advertise"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"address"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"192.168"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"88.35"),s("span",{style:{color:"#A6ACCD"}},"  \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"image"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"repository "),s("span",{style:{color:"#82AAFF"}},"registry.aliyuncs.com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"google_containers \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"version v1."),s("span",{style:{color:"#F78C6C"}},"25.0"),s("span",{style:{color:"#A6ACCD"}}," \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"service"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"cidr"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"10.96"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"0.0"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#F78C6C"}},"12"),s("span",{style:{color:"#A6ACCD"}}," \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"pod"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"network"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"cidr"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"10.244"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"0.0"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#F78C6C"}},"16"),s("span",{style:{color:"#A6ACCD"}}," \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"ignore"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"preflight"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"errors"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"all")]),l(`
`),s("span",{class:"line"})])])],-1),as=s("p",null,[s("strong",null,"按照初始化日志提示创建目录")],-1),ts=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"mkdir "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"p "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"HOME"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},".kube")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sudo cp "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"i "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"etc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"kubernetes"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"admin.conf "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"HOME"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},".kube"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"config")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sudo chown "),s("span",{style:{color:"#89DDFF"}},"$("),s("span",{style:{color:"#A6ACCD"}},"id "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"u"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}},":"),s("span",{style:{color:"#89DDFF"}},"$("),s("span",{style:{color:"#A6ACCD"}},"id "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"g"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"$"),s("span",{style:{color:"#A6ACCD"}},"HOME"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},".kube"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"config")]),l(`
`),s("span",{class:"line"})])])],-1),cs=s("p",null,[s("strong",null,"按照初始化日志提示将从节点加入集群")],-1),rs=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"kubeadm join "),s("span",{style:{color:"#F78C6C"}},"192.168"),s("span",{style:{color:"#A6ACCD"}},"."),s("span",{style:{color:"#F78C6C"}},"88.35"),s("span",{style:{color:"#A6ACCD"}},":"),s("span",{style:{color:"#F78C6C"}},"6443"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"token geald1.4kx7yoiofgh0wtk8 \\")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"discovery"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"token"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"ca"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"cert"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"hash sha256:ec36596f455d84ee9119eaa2b1c4d84006c890edbddc92caba8f1e61d7fdad71")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},'#第一行最后会有个"."要删除掉否则报错')]),l(`
`),s("span",{class:"line"})])])],-1),ps=s("p",null,[s("strong",null,"kubectl命令补全")],-1),Ds=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"y install bash"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"competion")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"echo "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"source <(kubectl completion bash)"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},">>"),s("span",{style:{color:"#A6ACCD"}}," ~"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},".bashrc")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"bash")]),l(`
`),s("span",{class:"line"})])])],-1),ys={id:"_7-安装canal网络插件",tabindex:"-1"},Cs=s("blockquote",null,[s("p",null,"不安装网络插件节点无法正常通信 状态为NotReady")],-1),is=s("strong",null,"下载Canal的 yaml 文件",-1),As=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"curl https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#82AAFF"}},"raw.githubusercontent.com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"projectcalico"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"calico"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"v3."),s("span",{style:{color:"#F78C6C"}},"24.1"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"manifests"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"canal.yaml "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"O")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#不喜欢用Canal的也可以用Calico两个插件安装方法一样")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"curl https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#A6ACCD"}},"projectcalico.docs.tigera.io"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"archive"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"v3."),s("span",{style:{color:"#F78C6C"}},"23"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"manifests"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"calico"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"etcd.yaml "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"O")]),l(`
`),s("span",{class:"line"})])])],-1),Fs=s("p",null,[s("strong",null,"修改文件CALICO_IPV4POOL_CIDR字段")],-1),ds=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#原文如下：")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# The default IPv4 pool to create on startup if none exists. Pod IPs will be")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# chosen from this range. Changing this value after installation will have")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# no effect. This should fall within `--cluster-cidr`.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# - name: CALICO_IPV4POOL_CIDR")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},'#   value: "192.168.0.0/16"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#修改IP为master初始化 --pod-network-cidr选项的IP，并去掉注释格式与其他字段对齐，修改后如下：")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"       "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# The default IPv4 pool to create on startup if none exists. Pod IPs will be")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"       "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# chosen from this range. Changing this value after installation will have")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"       "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# no effect. This should fall within `--cluster-cidr`.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"       "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}}," name: CALICO_IPV4POOL_CIDR")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"         value: "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"192.168.0.0/16"),s("span",{style:{color:"#89DDFF"}},'"')]),l(`
`),s("span",{class:"line"})])])],-1),us=s("p",null,[s("strong",null,"执行修改后的yaml，安装Canal")],-1),hs=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"kubectl apply "),s("span",{style:{color:"#89DDFF"}},"-f"),s("span",{style:{color:"#A6ACCD"}}," canal.yaml")]),l(`
`),s("span",{class:"line"})])])],-1),ms=s("p",null,[s("strong",null,"查看节点状态是否Ready")],-1),_s=s("div",{class:"language-powershell"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#C792EA"}},"root"),s("span",{style:{color:"#89DDFF"}},"@"),s("span",{style:{color:"#A6ACCD"}},"k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#C792EA"}},"master"),s("span",{style:{color:"#A6ACCD"}}," ~"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#676E95","font-style":"italic"}},"# kubectl get nodes")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"NAME         STATUS   ROLES           AGE   VERSION")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"master   Ready    control"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"plane   17h   v1."),s("span",{style:{color:"#F78C6C"}},"25.0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"k8s"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"node     Ready    "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#A6ACCD"}},"none"),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}},"          17h   v1."),s("span",{style:{color:"#F78C6C"}},"25.0")]),l(`
`),s("span",{class:"line"})])])],-1);function gs(e,ks,bs,fs,r,vs){const a=A,p=D;return i(),C(p,{frontmatter:r.frontmatter,data:r.data},{"main-content-md":o(()=>[s("h2",u,[l("1.机器准备 "),t(a,{class:"header-anchor",href:"#_1-机器准备","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),h,s("h2",m,[l("2.初始化配置 "),t(a,{class:"header-anchor",href:"#_2-初始化配置","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),_,g,k,b,f,v,w,E,x,O,$,I,P,R,s("h2",S,[l("3. 安装Docker "),t(a,{class:"header-anchor",href:"#_3-安装docker","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),T,L,N,V,j,K,M,U,B,s("h2",G,[l("4. 配置Containerd "),t(a,{class:"header-anchor",href:"#_4-配置containerd","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),H,q,J,Z,s("h2",z,[l("5. 安装kubeadm、kubelet、kubectl "),t(a,{class:"header-anchor",href:"#_5-安装kubeadm、kubelet、kubectl","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),Q,W,X,Y,ss,ls,s("h2",os,[l("6. 初始化主节点 "),t(a,{class:"header-anchor",href:"#_6-初始化主节点","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),es,ns,as,ts,cs,rs,ps,Ds,s("h2",ys,[l("7. 安装Canal网络插件 "),t(a,{class:"header-anchor",href:"#_7-安装canal网络插件","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),Cs,s("p",null,[is,t(a,{href:"https://projectcalico.docs.tigera.io/getting-started/kubernetes/installation/config-options",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("官网参考文档")]),_:1})]),As,Fs,ds,us,hs,ms,_s]),"main-header":o(()=>[n(e.$slots,"main-header")]),"main-header-after":o(()=>[n(e.$slots,"main-header-after")]),"main-nav":o(()=>[n(e.$slots,"main-nav")]),"main-content":o(()=>[n(e.$slots,"main-content")]),"main-content-after":o(()=>[n(e.$slots,"main-content-after")]),"main-nav-before":o(()=>[n(e.$slots,"main-nav-before")]),"main-nav-after":o(()=>[n(e.$slots,"main-nav-after")]),comment:o(()=>[n(e.$slots,"comment")]),footer:o(()=>[n(e.$slots,"footer")]),aside:o(()=>[n(e.$slots,"aside")]),"aside-custom":o(()=>[n(e.$slots,"aside-custom")]),default:o(()=>[n(e.$slots,"default")]),_:3},8,["frontmatter","data"])}const Ps=y(d,[["render",gs]]);export{Is as __pageData,Ps as default};
