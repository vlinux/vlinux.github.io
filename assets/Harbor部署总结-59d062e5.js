import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang-3db59c20.js";import{_ as d,c as h,w as a,o as u,b as s,d as e,e as o,r as n,f as _,p as m}from"./app-1dca60bf.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-bf269ab4.js";import"./YunCard.vue_vue_type_style_index_0_lang-e8908175.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-e033a9d7.js";const es=JSON.parse('{"title":"Harbor部署总结","description":"","frontmatter":{"title":"Harbor部署总结","categories":"DevOps","tags":["Harbor"],"date":"2021-01-13T14:14:44.000Z"},"headers":[{"level":3,"title":"简介概述","slug":"简介概述","link":"#简介概述","children":[]},{"level":3,"title":"部署条件","slug":"部署条件","link":"#部署条件","children":[]},{"level":3,"title":"部署","slug":"部署","link":"#部署","children":[]},{"level":3,"title":"基本使用","slug":"基本使用","link":"#基本使用","children":[]}],"relativePath":"pages/posts/Harbor部署总结.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/Harbor部署总结.md","lastUpdated":1671090556000}'),r=JSON.parse('{"title":"Harbor部署总结","description":"","frontmatter":{"title":"Harbor部署总结","categories":"DevOps","tags":["Harbor"],"date":"2021-01-13T14:14:44.000Z"},"headers":[{"level":3,"title":"简介概述","slug":"简介概述","link":"#简介概述","children":[]},{"level":3,"title":"部署条件","slug":"部署条件","link":"#部署条件","children":[]},{"level":3,"title":"部署","slug":"部署","link":"#部署","children":[]},{"level":3,"title":"基本使用","slug":"基本使用","link":"#基本使用","children":[]}],"relativePath":"pages/posts/Harbor部署总结.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/Harbor部署总结.md","lastUpdated":1671090556000}'),g={name:"pages/posts/Harbor部署总结.md",data(){return{data:r,frontmatter:r.frontmatter}},setup(){m("pageData",r)}},b={id:"harbor部署总结",tabindex:"-1"},C={id:"简介概述",tabindex:"-1"},A=s("p",null,"Harbor是由VMWare公司开源的容器镜像仓库。事实上，Harbor是在Docker Registry上进行了相应的企业级扩展，",-1),f=s("p",null,"从而获得了更加广泛的应用，这些新的企业级特性包括：管理用户界面，基于角色的访问控制 ，AD/LDAP集成以及",-1),y=s("p",null,"审计日志等，足以满足基本企业需求。",-1),D={id:"部署条件",tabindex:"-1"},v=s("p",null,[s("strong",null,"服务器硬件配置：")],-1),k=s("p",null,"• 最低要求：CPU2核/内存4G/硬盘40GB",-1),H=s("p",null,"• 推荐：CPU4核/内存8G/硬盘160GB",-1),$=s("p",null,[s("strong",null,"软件：")],-1),x=s("p",null,"• Docker CE 17.06版本+",-1),P=s("p",null,"• Docker Compose 1.18版本+",-1),U=s("p",null,[s("strong",null,"Harbor安装有2种方式：")],-1),B=s("p",null,"• 在线安装：从Docker Hub下载Harbor相关镜像，因此安装软件包非常小",-1),G=s("p",null,"• 离线安装：安装包包含部署的相关镜像，因此安装包比较大",-1),N={id:"部署",tabindex:"-1"},T=s("p",null,[s("strong",null,"1、先安装Docker和Docker Compose")],-1),V=s("p",null,[s("strong",null,"2、部署Harbor HTTP")],-1),O=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# tar zxvf harbor-offline-installer-v*.tgz")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# cd harbor")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# cp harbor.yml.tmpl harbor.yml")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# vi harbor.yml")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"hostname: reg.ctnrs.com")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"https: # 先注释https相关配置")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"harbor_admin_password: Harbor12345")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# ./prepare")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# ./install.sh")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),w={id:"基本使用",tabindex:"-1"},S=s("p",null,[s("strong",null,"1、配置http镜像仓库可信任")],-1),z=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# vi /etc/docker/daemon.json ")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},'{"insecure-registries":["reg.ctnrs.com"]}')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# systemctl restart docker")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),J=s("p",null,[s("strong",null,"2、打标签")],-1),L=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# docker tag centos:7 reg.ctnrs.com/library/centos:7")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),M=s("p",null,[s("strong",null,"3、上传")],-1),Z=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# docker push reg.ctnrs.com/library/centos:7")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),j=s("p",null,[s("strong",null,"4、下载")],-1),E=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"# docker pull reg.ctnrs.com/library/centos:7")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1);function R(l,W,q,F,i,I){const t=_,c=p;return u(),h(c,{frontmatter:i.frontmatter,data:i.data},{"main-content-md":a(()=>[s("h1",b,[e("Harbor部署总结 "),o(t,{class:"header-anchor",href:"#harbor部署总结","aria-hidden":"true"},{default:a(()=>[e("#")]),_:1})]),s("h3",C,[e("简介概述 "),o(t,{class:"header-anchor",href:"#简介概述","aria-hidden":"true"},{default:a(()=>[e("#")]),_:1})]),A,f,y,s("p",null,[e("官方："),o(t,{href:"https://goharbor.io/",target:"_blank",rel:"noreferrer"},{default:a(()=>[e("https://goharbor.io/")]),_:1})]),s("p",null,[e("Github："),o(t,{href:"https://github.com/goharbor/harbor",target:"_blank",rel:"noreferrer"},{default:a(()=>[e("https://github.com/goharbor/harbor")]),_:1})]),s("h3",D,[e("部署条件 "),o(t,{class:"header-anchor",href:"#部署条件","aria-hidden":"true"},{default:a(()=>[e("#")]),_:1})]),v,k,H,$,x,P,U,B,G,s("h3",N,[e("部署 "),o(t,{class:"header-anchor",href:"#部署","aria-hidden":"true"},{default:a(()=>[e("#")]),_:1})]),T,s("p",null,[o(t,{href:"https://github.com/docker/compose/releases",target:"_blank",rel:"noreferrer"},{default:a(()=>[e("https://github.com/docker/compose/releases")]),_:1})]),V,O,s("h3",w,[e("基本使用 "),o(t,{class:"header-anchor",href:"#基本使用","aria-hidden":"true"},{default:a(()=>[e("#")]),_:1})]),S,z,J,L,M,Z,j,E]),"main-header":a(()=>[n(l.$slots,"main-header")]),"main-header-after":a(()=>[n(l.$slots,"main-header-after")]),"main-nav":a(()=>[n(l.$slots,"main-nav")]),"main-content":a(()=>[n(l.$slots,"main-content")]),"main-content-after":a(()=>[n(l.$slots,"main-content-after")]),"main-nav-before":a(()=>[n(l.$slots,"main-nav-before")]),"main-nav-after":a(()=>[n(l.$slots,"main-nav-after")]),comment:a(()=>[n(l.$slots,"comment")]),footer:a(()=>[n(l.$slots,"footer")]),aside:a(()=>[n(l.$slots,"aside")]),"aside-custom":a(()=>[n(l.$slots,"aside-custom")]),default:a(()=>[n(l.$slots,"default")]),_:3},8,["frontmatter","data"])}const as=d(g,[["render",R]]);export{es as __pageData,as as default};
