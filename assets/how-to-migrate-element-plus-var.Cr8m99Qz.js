import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CWk9_bhA.js";import"./chunks/@vueuse/motion.BITvz5PP.js";import{e as E,u as y,a as c}from"./chunks/vue-router._WIYEsQP.js";import{aa as m,ap as a,P as F,ab as b,ag as n,ae as p,af as s,ai as l,a1 as f}from"./framework.GHZxz7jq.js";import"./index.BOmfoNni.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.C7V8WoQZ.js";import"./chunks/pinia.BfAlK2F6.js";import"./chunks/nprogress.BZwbcB2O.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.Scn_mnTZ.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fblE3Fel.js";import"./post.DOTZsJyO.js";const v=E("/_drafts/how-to-migrate-element-plus-var",async e=>JSON.parse('{"title":"Element Plus 的主题系统改造了哪些","description":"","frontmatter":{"title":"Element Plus 的主题系统改造了哪些","date":"2021-07-13 21:47:46","updated":"2021-07-13 21:47:46","tags":null,"categories":null},"headers":[],"relativePath":"pages/_drafts/how-to-migrate-element-plus-var.md","lastUpdated":null}'),{lazy:(e,k)=>e.name===k.name}),I={__name:"how-to-migrate-element-plus-var",setup(e,{expose:k}){const{data:h}=v(),o=c(),d=y(),r=Object.assign(d.meta.frontmatter||{},h.value?.frontmatter||{});return o.currentRoute.value.data=h.value,f("valaxy:frontmatter",r),globalThis.$frontmatter=r,k({frontmatter:{title:"Element Plus 的主题系统改造了哪些",date:"2021-07-13 21:47:46",updated:"2021-07-13 21:47:46",tags:null,categories:null}}),(t,i)=>{const u=g;return b(),m(u,{frontmatter:F(r)},{"main-content-md":a(()=>[p(" more "),i[0]||(i[0]=s("p",null,"说说 Sass 预处理器",-1)),i[1]||(i[1]=s("p",null,"Sass VS Less VS Stylus",-1)),i[2]||(i[2]=s("p",null,[l("我经常举的例子就是，原先由 Less 编写的 "),s("a",{href:"https://github.com/twbs/bootstrap",target:"_blank",rel:"noreferrer"},"Bootstrap"),l(" 改为了使用 Sass 重构。")],-1)),i[3]||(i[3]=s("p",null,[l("Stylus 编写的 "),s("a",{href:"https://github.com/vuetifyjs/vuetify/",target:"_blank",rel:"noreferrer"},"Vuetify"),l(" 改为了使用 Sass 重构。")],-1)),i[4]||(i[4]=s("p",null,[s("a",{href:"https://github.com/element-plus/element-plus",target:"_blank",rel:"noreferrer"},"Element"),l(" 从一开始便使用 Sass 编写。")],-1)),i[5]||(i[5]=s("p",null,[l("除此之外，"),s("a",{href:"https://github.com/quasarframework/quasar",target:"_blank",rel:"noreferrer"},"quasar"),l(" 等一些知名 UI 库均采用 Sass 构建。")],-1)),i[6]||(i[6]=s("h2",{id:"变量名",tabindex:"-1"},[l("变量名 "),s("a",{class:"header-anchor",href:"#变量名","aria-label":'Permalink to "变量名"'},"​")],-1)),i[7]||(i[7]=s("h3",{id:"规范变量名-scss-与-css-var",tabindex:"-1"},[l("规范变量名（scss 与 css var） "),s("a",{class:"header-anchor",href:"#规范变量名-scss-与-css-var","aria-label":'Permalink to "规范变量名（scss 与 css var）"'},"​")],-1)),i[8]||(i[8]=s("ul",null,[s("li",null,[s("code",null,"-background-color"),l(" -> "),s("code",null,"-bg-color")]),s("li",null,[s("code",null,"-font-color"),l(" -> "),s("code",null,"-text-color")])],-1)),i[9]||(i[9]=s("blockquote",null,[s("p",null,[l("与 "),s("a",{href:"https://tailwindcss.com/",target:"_blank",rel:"noreferrer"},"Tailwindcss"),l(" 一致")])],-1)),i[10]||(i[10]=s("p",null,"可以自定义 button 色彩，自动计算 hover active color",-1)),i[11]||(i[11]=s("h3",{id:"sass-map-组织组件变量",tabindex:"-1"},[s("code",null,"sass:map"),l(" 组织组件变量 "),s("a",{class:"header-anchor",href:"#sass-map-组织组件变量","aria-label":'Permalink to "`sass:map` 组织组件变量"'},"​")],-1)),i[12]||(i[12]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$button"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": () "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!default"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[13]||(i[13]=s("h3",{id:"通过-sass-自动生成-css-var",tabindex:"-1"},[l("通过 sass 自动生成 css var "),s("a",{class:"header-anchor",href:"#通过-sass-自动生成-css-var","aria-label":'Permalink to "通过 sass 自动生成 css var"'},"​")],-1)),i[14]||(i[14]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// set all css var for component by map")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@mixin"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," set-component-css-var"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$--variables"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  @each"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," $attribute"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$value"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," in"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}}," $--variables"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    --el"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"-"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"#{$name}"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"-"),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"#{$attribute}"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"#{$value}"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// use")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@include"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," b"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(alert) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  @include"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," set-component-css-var"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"alert"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$alert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[15]||(i[15]=s("h2",{id:"faq",tabindex:"-1"},[l("FAQ "),s("a",{class:"header-anchor",href:"#faq","aria-label":'Permalink to "FAQ"'},"​")],-1)),i[16]||(i[16]=s("h3",{id:"vite-import-scss-无法互相影响",tabindex:"-1"},[l("vite import scss 无法互相影响 "),s("a",{class:"header-anchor",href:"#vite-import-scss-无法互相影响","aria-label":'Permalink to "vite import scss 无法互相影响"'},"​")],-1)),i[17]||(i[17]=s("p",null,"比方说，在 vite 中导入 scss 文件：",-1)),i[18]||(i[18]=s("div",{class:"language-ts"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'a.scss'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'b.scss'")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[19]||(i[19]=s("p",null,"这完全没问题。 但是 a 和 b 本质是相互独立的（好处是热加载只需编译对应的文件），如果 b 想要使用 a 中已有的变量，这该如何是好？",-1)),i[20]||(i[20]=s("p",null,"而 element-plus 重构了主题系统，本身很多的变量依赖与一个全局的变量文件。",-1)),i[21]||(i[21]=s("p",null,"譬如，修改主色调为绿色，我们自然希望 button 主色调变成绿色，而 tag 主色调也变成绿色。",-1)),i[22]||(i[22]=s("hr",null,null,-1)),i[23]||(i[23]=s("p",null,"scss 编译",-1)),i[24]||(i[24]=s("p",null,[s("code",null,"@use"),l(" 替代 "),s("code",null,"@import")],-1)),i[25]||(i[25]=s("blockquote",null,[s("p",null,"Sass 文档写到， Sass 扩展了 CSS 的 @import 规则，能够导入 Sass 和 CSS 样式表，提供对 mixin、函数和变量的访问，并将多个样式表的 CSS 组合在一起。 与需要浏览器在呈现页面时发出多个 HTTP 请求的普通 CSS 导入不同，Sass 导入完全在编译期间处理。")],-1)),i[26]||(i[26]=s("div",{class:"danger"},[s("blockquote",null,[s("p",null,[l("Sass 团队不鼓励继续使用 "),s("code",null,"@import"),l(" 规则。 Sass 将在未来几年逐步淘汰它，并最终将其从语言中完全删除。 更喜欢 "),s("code",null,"@use"),l(" 规则。 （请注意，目前只有 Dart Sass 支持 "),s("code",null,"@use"),l("。其他实现的用户必须改用 "),s("code",null,"@import"),l(" 规则。）")])])],-1)),i[27]||(i[27]=s("p",null,[s("code",null,"@import"),l(" 的缺点：")],-1)),i[28]||(i[28]=s("ul",null,[s("li",null,[s("code",null,"@import"),l(" 使所有变量、mixins 和函数都可以全局访问。 这使得人们（或工具）很难分辨出这些是在哪里定义的。")]),s("li",null,"因为一切都是全局的，lib 必须为其所有成员添加前缀以避免命名冲突。"),s("li",null,[s("code",null,"@extend"),l(" 规则也是全局的，这使得很难预测将扩展哪些样式规则。")]),s("li",null,"每次 @imported（被导入） 时都会执行每个样式表并 emitted（发出）其 CSS，这会增加编译时间并产生臃肿的输出。"),s("li",null,"无法定义下游样式表中无法访问的私有成员或占位符选择器。")],-1)),i[29]||(i[29]=s("blockquote",null,[s("p",null,[s("a",{href:"https://sass-lang.com/documentation/at-rules/import",target:"_blank",rel:"noreferrer"},"@import | Sass"),s("a",{href:"https://www.liquidlight.co.uk/blog/use-and-import-rules-in-scss/",target:"_blank",rel:"noreferrer"},"@use and @import rules in SCSS")])],-1)),i[30]||(i[30]=s("p",null,[s("code",null,"@forward")],-1)),i[31]||(i[31]=s("blockquote",null,[s("p",null,[s("code",null,"@forward"),l(" 规则加载 Sass 样式表，并在使用 "),s("code",null,"@use"),l(" 规则加载样式表时使其 mixin、函数和变量可用。它使得跨多个文件组织 Sass 库成为可能，同时允许用户加载单个入口文件。")])],-1)),i[32]||(i[32]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// packages/theme-chalk/src/date-picker.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/date-table.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/month-table.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/year-table.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/time-spinner.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/date-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/date-range-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/time-range-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@import"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/time-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[33]||(i[33]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// packages/theme-chalk/src/date-picker.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/date-table.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/month-table.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/year-table.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/time-spinner.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/date-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/date-range-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/time-range-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "./date-picker/time-picker.scss"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[34]||(i[34]=s("p",null,"有点绕，来一个更加明显的例子。",-1)),i[35]||(i[35]=s("p",null,[s("code",null,"mixins.scss"),l(" 文件中需要用到 "),s("code",null,"config.scss"),l(" 文件中的变量。 我们可以这样使用。")],-1)),i[36]||(i[36]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// mixins.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@use"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "config"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," as"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," *"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// ...")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[37]||(i[37]=s("p",null,[l("这时我们 "),s("code",null,"button"),l(" 组件需要用到 "),s("code",null,"mixins.scss"),l("，那么我们就可以在 "),s("code",null,"button.scss"),l(" 中引入 "),s("code",null,"mixins.scss"),l("。")],-1)),i[38]||(i[38]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// button.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@use"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "mixins"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," as"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," *"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// ...")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[39]||(i[39]=s("p",null,[l("此时，sass 的模块化机制会保证 "),s("code",null,"config.scss"),l(" 中的变量只能在 "),s("code",null,"mixins.scss"),l(" 中使用。"),s("code",null,"button.scss"),l(" 则无法使用。")],-1)),i[40]||(i[40]=s("p",null,[l("但是 button 组件中可能也需要使用 "),s("code",null,"config.scss"),l(" 中的变量，而我们已知每个组件都导入了 "),s("code",null,"mixins.scss"),l("，我们再去在每个组件的 scss 文件中导入 "),s("code",null,"config.scss"),l(" 既麻烦，又增加了复杂性。比如以后我们需要再导入 "),s("code",null,"c"),l(),s("code",null,"d"),l(" 文件，每次都再去头部加一遍吗？")],-1)),i[41]||(i[41]=s("p",null,[l("这时候我们就可以利用 "),s("code",null,"@forward"),l(" 将其转发至 "),s("code",null,"mixins.scss"),l(" 中。("),s("code",null,"@forward"),l(" 与 "),s("code",null,"@use"),l(" 是可以同时使用的)")],-1)),i[42]||(i[42]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// mixins.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "config"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@use"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "config"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," as"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," *"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// ...")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[43]||(i[43]=s("p",null,[l("这时，我们的 "),s("code",null,"button.scss"),l(" 已经 "),s("code",null,'@use "mixins" as *;'),l("，那么转发的 "),s("code",null,"config"),l(" 变量也可以在 "),s("code",null,"button.scss"),l(" 中使用了。")],-1)),i[44]||(i[44]=s("h2",{id:"每天一个小细节",tabindex:"-1"},[l("每天一个小细节 "),s("a",{class:"header-anchor",href:"#每天一个小细节","aria-label":'Permalink to "每天一个小细节"'},"​")],-1)),i[45]||(i[45]=s("p",null,"还有个有趣的事情是。",-1)),i[46]||(i[46]=s("p",null,[s("code",null,"/* */"),l(" 书写的 scss 注释会被编译到最终产物，因为这被当作 CSS 的注释。 而 "),s("code",null,"//"),l(" 的注释方式则不会。")],-1)),i[47]||(i[47]=s("p",null,[l("为了保持最终产物最小，我们应当使用 "),s("code",null,"//"),l(" 注释代码，除非你希望你的注释也能显示在最终产物被大家看到。")],-1)),i[48]||(i[48]=s("h2",{id:"why-scss-module",tabindex:"-1"},[l("Why Scss module "),s("a",{class:"header-anchor",href:"#why-scss-module","aria-label":'Permalink to "Why Scss module"'},"​")],-1)),i[49]||(i[49]=s("blockquote",null,[s("p",null,[s("a",{href:"https://css-tricks.com/introducing-sass-modules/",target:"_blank",rel:"noreferrer"},"Introducing Sass Modules")])],-1)),i[50]||(i[50]=s("p",null,"最开始主要是有人提了一个 Issue，想要按需加载的同时自定义主题。 通过自己按需导入 scss 的方法可以正常实现。 但是每引入一个组件，就需要自己导入 scss 很明显是不优雅的。",-1)),i[51]||(i[51]=s("p",null,[l("我们有一个 "),s("a",{href:"https://github.com/element-plus/unplugin-element-plus",target:"_blank",rel:"noreferrer"},"unplugin-element-plus"),l(" 插件，可以作为 Vite/Webpack 等插件使用。")],-1)),i[52]||(i[52]=s("blockquote",null,[s("p",null,[l("可以配置其中的 "),s("code",null,"useSource"),l(" 来使用 "),s("code",null,"scss"),l("。")])],-1)),i[53]||(i[53]=s("p",null,[l("但这也有一个问题，unplugin-element-plus 的机制本质是拼接了一个 "),s("code",null,"import 'xxx.scss'"),l(" 的 ts 文件，这就回到了之前提到的问题，import 进来的 scss 文件之间的编译是互相独立的。 所以它们无法使用额外 scss 自定义的变量。")],-1)),i[54]||(i[54]=s("p",null,[l("而我们可以通过自定义 "),s("code",null,"vite.config.ts"),l(" 中 "),s("code",null,"scss.additionalData"),l(" 来在编译 scss 时默认带上自己设置的全局变量。")],-1)),i[55]||(i[55]=s("div",{class:"language-ts"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"ts"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// vite.config.ts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," default"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  css: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    preprocessorOptions: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      scss: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        additionalData: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`'@use "./styles/element/index.scss" as *;'`),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"  // ...")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  plugins: [")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    vue"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[56]||(i[56]=s("p",null,"你以为这么简单就结束了？",-1)),i[57]||(i[57]=s("p",null,[l("我起初在 "),s("code",null,"additionalData"),l(" 使用了 "),s("code",null,"@import"),l(" 的方式来导入 scss 文件，这是编译就会出现问题，提示你应当将 "),s("code",null,"@use"),l(" 写在")],-1)),i[58]||(i[58]=s("hr",null,null,-1)),i[59]||(i[59]=s("h2",{id:"如何覆盖模块默认变量",tabindex:"-1"},[l("如何覆盖模块默认变量 "),s("a",{class:"header-anchor",href:"#如何覆盖模块默认变量","aria-label":'Permalink to "如何覆盖模块默认变量"'},"​")],-1)),i[60]||(i[60]=s("blockquote",null,[s("p",null,"With @import, libraries are often configured by setting global variables that override !default variables defined by those libraries. Because variables are no longer global with @use, it supports a more explicit way of configuring libraries: the with clause.")],-1)),i[61]||(i[61]=s("p",null,[s("code",null,"@use"),l(" 与 "),s("code",null,"!default"),l(" 与 "),s("code",null,"with")],-1)),i[62]||(i[62]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// common/var.scss")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$colors"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": () "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"!default"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[63]||(i[63]=s("div",{class:"language-scss"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"scss"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"@forward"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "element-plus/theme-chalk/src/common/var.scss"'),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," with"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"$colors"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": (")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  primary"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": (")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    base"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"green"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),i[64]||(i[64]=s("blockquote",null,[s("p",null,[s("a",{href:"https://github.com/sass/sass/blob/main/accepted/module-system.md#configuring-libraries",target:"_blank",rel:"noreferrer"},"Configuring Libraries | sass")])],-1)),i[65]||(i[65]=s("h2",{id:"构建工具-gulp",tabindex:"-1"},[l("构建工具 gulp "),s("a",{class:"header-anchor",href:"#构建工具-gulp","aria-label":'Permalink to "构建工具 gulp"'},"​")],-1)),i[66]||(i[66]=s("p",null,"gulp 目前实际上是没有替代品的。",-1)),i[67]||(i[67]=s("p",null,"严格上来说 gulp 并不是一个打包工具",-1)),i[68]||(i[68]=s("p",null,"ts",-1)),i[69]||(i[69]=s("hr",null,null,-1)),i[70]||(i[70]=s("p",null,"To Be Continued.",-1)),p(" Q.E.D. ")]),"main-header":a(()=>[n(t.$slots,"main-header")]),"main-header-after":a(()=>[n(t.$slots,"main-header-after")]),"main-nav":a(()=>[n(t.$slots,"main-nav")]),"main-content-before":a(()=>[n(t.$slots,"main-content-before")]),"main-content":a(()=>[n(t.$slots,"main-content")]),"main-content-after":a(()=>[n(t.$slots,"main-content-after")]),"main-nav-before":a(()=>[n(t.$slots,"main-nav-before")]),"main-nav-after":a(()=>[n(t.$slots,"main-nav-after")]),comment:a(()=>[n(t.$slots,"comment")]),footer:a(()=>[n(t.$slots,"footer")]),aside:a(()=>[n(t.$slots,"aside")]),"aside-custom":a(()=>[n(t.$slots,"aside-custom")]),default:a(()=>[n(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{I as default,v as usePageData};
