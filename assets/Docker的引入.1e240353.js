import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang.21d7d1eb.js";import{_ as s,c as a,w as o,o as h,r as l,b as e,R as n,p as _}from"./app.0de90ffa.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.ae49d3a4.js";import"./YunCard.vue_vue_type_style_index_0_lang.19bf084c.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.38d1e54d.js";const Zo=JSON.parse('{"title":"Docker\u7684\u5F15\u5165","description":"","frontmatter":{"title":"Docker\u7684\u5F15\u5165","categories":"Linux\u6280\u672F","tags":["Docker"],"date":"2019-07-23T11:09:00.000Z"},"headers":[{"level":2,"title":"1.1 docker\u662F\u4EC0\u4E48","slug":"_1-1-docker\u662F\u4EC0\u4E48","link":"#_1-1-docker\u662F\u4EC0\u4E48","children":[]},{"level":2,"title":"1.2 \u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","slug":"_1-2-\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","link":"#_1-2-\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","children":[]},{"level":2,"title":"1.3 docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","slug":"_1-3-docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","link":"#_1-3-docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","children":[]},{"level":2,"title":"1.4 docker\u7684\u7EC4\u6210\u90E8\u5206","slug":"_1-4-docker\u7684\u7EC4\u6210\u90E8\u5206","link":"#_1-4-docker\u7684\u7EC4\u6210\u90E8\u5206","children":[]},{"level":2,"title":"2.1 \u56FD\u5185\u6E90\u5B89\u88C5docker-ce","slug":"_2-1-\u56FD\u5185\u6E90\u5B89\u88C5docker-ce","link":"#_2-1-\u56FD\u5185\u6E90\u5B89\u88C5docker-ce","children":[]},{"level":2,"title":"2.2 \uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","slug":"_2-2-\uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","link":"#_2-2-\uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","children":[]},{"level":2,"title":"2.3 \u5FEB\u901F\u5B89\u88C5","slug":"_2-3-\u5FEB\u901F\u5B89\u88C5","link":"#_2-3-\u5FEB\u901F\u5B89\u88C5","children":[]},{"level":2,"title":"2.4 \u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","slug":"_2-4-\u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","link":"#_2-4-\u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","children":[]},{"level":2,"title":"3.1 \u955C\u50CF\u76F8\u5173\u547D\u4EE4","slug":"_3-1-\u955C\u50CF\u76F8\u5173\u547D\u4EE4","link":"#_3-1-\u955C\u50CF\u76F8\u5173\u547D\u4EE4","children":[]},{"level":2,"title":"3.1.1 \u641C\u7D22\u955C\u50CF","slug":"_3-1-1-\u641C\u7D22\u955C\u50CF","link":"#_3-1-1-\u641C\u7D22\u955C\u50CF","children":[]},{"level":2,"title":"3.1.2 \u83B7\u53D6\u955C\u50CF","slug":"_3-1-2-\u83B7\u53D6\u955C\u50CF","link":"#_3-1-2-\u83B7\u53D6\u955C\u50CF","children":[]},{"level":2,"title":"3.1.3 \u67E5\u770B\u955C\u50CF","slug":"_3-1-3-\u67E5\u770B\u955C\u50CF","link":"#_3-1-3-\u67E5\u770B\u955C\u50CF","children":[]},{"level":2,"title":"3.1.4 \u5220\u9664\u955C\u50CF","slug":"_3-1-4-\u5220\u9664\u955C\u50CF","link":"#_3-1-4-\u5220\u9664\u955C\u50CF","children":[]},{"level":2,"title":"3.1.5 \u5BFC\u51FA\u955C\u50CF","slug":"_3-1-5-\u5BFC\u51FA\u955C\u50CF","link":"#_3-1-5-\u5BFC\u51FA\u955C\u50CF","children":[]},{"level":2,"title":"3.1.6 \u5BFC\u5165\u955C\u50CF","slug":"_3-1-6-\u5BFC\u5165\u955C\u50CF","link":"#_3-1-6-\u5BFC\u5165\u955C\u50CF","children":[]},{"level":2,"title":"3.2 \u5BB9\u5668\u76F8\u5173\u547D\u4EE4","slug":"_3-2-\u5BB9\u5668\u76F8\u5173\u547D\u4EE4","link":"#_3-2-\u5BB9\u5668\u76F8\u5173\u547D\u4EE4","children":[]},{"level":2,"title":"3.2.1 \u542F\u52A8\u5BB9\u5668","slug":"_3-2-1-\u542F\u52A8\u5BB9\u5668","link":"#_3-2-1-\u542F\u52A8\u5BB9\u5668","children":[]},{"level":2,"title":"3.2.3 \u67E5\u770B\u5BB9\u5668","slug":"_3-2-3-\u67E5\u770B\u5BB9\u5668","link":"#_3-2-3-\u67E5\u770B\u5BB9\u5668","children":[]},{"level":2,"title":"3.2.4 \u8FDB\u5165\u5BB9\u5668","slug":"_3-2-4-\u8FDB\u5165\u5BB9\u5668","link":"#_3-2-4-\u8FDB\u5165\u5BB9\u5668","children":[]},{"level":2,"title":"3.2.5 \u5220\u9664\u5BB9\u5668","slug":"_3-2-5-\u5220\u9664\u5BB9\u5668","link":"#_3-2-5-\u5220\u9664\u5BB9\u5668","children":[]},{"level":2,"title":"4.1 \u968F\u673A\u6620\u5C04\u7AEF\u53E3","slug":"_4-1-\u968F\u673A\u6620\u5C04\u7AEF\u53E3","link":"#_4-1-\u968F\u673A\u6620\u5C04\u7AEF\u53E3","children":[]},{"level":2,"title":"4.2 \u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","slug":"_4-2-\u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","link":"#_4-2-\u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","children":[]},{"level":2,"title":"5.1 \u6301\u4E45\u5316\u6570\u636E\u5377","slug":"_5-1-\u6301\u4E45\u5316\u6570\u636E\u5377","link":"#_5-1-\u6301\u4E45\u5316\u6570\u636E\u5377","children":[]},{"level":2,"title":"5.1.1 \u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","slug":"_5-1-1-\u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","link":"#_5-1-1-\u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","children":[]},{"level":2,"title":"5.1.2 \u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","slug":"_5-1-2-\u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","link":"#_5-1-2-\u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","children":[]},{"level":2,"title":"5.1.3 \u8BBF\u95EE\u6E38\u620F\u9875\u9762","slug":"_5-1-3-\u8BBF\u95EE\u6E38\u620F\u9875\u9762","link":"#_5-1-3-\u8BBF\u95EE\u6E38\u620F\u9875\u9762","children":[]},{"level":2,"title":"5.2 \u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","slug":"_5-2-\u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","link":"#_5-2-\u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","children":[]},{"level":2,"title":"5.2.1 \u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","slug":"_5-2-1-\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","link":"#_5-2-1-\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","children":[]},{"level":2,"title":"5.2.2 \u67E5\u770B\u5377\u7684\u76EE\u5F55","slug":"_5-2-2-\u67E5\u770B\u5377\u7684\u76EE\u5F55","link":"#_5-2-2-\u67E5\u770B\u5377\u7684\u76EE\u5F55","children":[]},{"level":2,"title":"5.2.3 \u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","slug":"_5-2-3-\u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","link":"#_5-2-3-\u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","children":[]},{"level":2,"title":"5.2.4 \u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","slug":"_5-2-4-\u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","link":"#_5-2-4-\u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","children":[]},{"level":2,"title":"5.3 \u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","slug":"_5-3-\u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","link":"#_5-3-\u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","children":[]},{"level":2,"title":"5.3.1 \u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","slug":"_5-3-1-\u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","link":"#_5-3-1-\u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"5.3.2 \u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","slug":"_5-3-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","link":"#_5-3-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","children":[]},{"level":2,"title":"5.3.3 \u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","slug":"_5-3-3-\u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","link":"#_5-3-3-\u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","children":[]},{"level":2,"title":"6.1 \u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","slug":"_6-1-\u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","link":"#_6-1-\u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","children":[]},{"level":2,"title":"6.1.1 \u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","slug":"_6-1-1-\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","link":"#_6-1-1-\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","children":[]},{"level":2,"title":"6.1.2 \u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","slug":"_6-1-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","link":"#_6-1-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"6.1.3 \u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","slug":"_6-1-3-\u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","link":"#_6-1-3-\u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","children":[]},{"level":2,"title":"6.1.4 \u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","slug":"_6-1-4-\u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","link":"#_6-1-4-\u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","children":[]},{"level":2,"title":"6.1.5 \u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","slug":"_6-1-5-\u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","link":"#_6-1-5-\u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","children":[]},{"level":2,"title":"6.2 \u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","slug":"_6-2-\u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","link":"#_6-2-\u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","children":[]},{"level":2,"title":"6.2.1 \u521B\u5EFA\u5BB9\u5668","slug":"_6-2-1-\u521B\u5EFA\u5BB9\u5668","link":"#_6-2-1-\u521B\u5EFA\u5BB9\u5668","children":[]},{"level":2,"title":"6.2.2 \u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","slug":"_6-2-2-\u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","link":"#_6-2-2-\u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","children":[]},{"level":2,"title":"6.2.3 \u914D\u7F6Enginx","slug":"_6-2-3-\u914D\u7F6Enginx","link":"#_6-2-3-\u914D\u7F6Enginx","children":[]},{"level":2,"title":"6.2.4 \u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","slug":"_6-2-4-\u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","link":"#_6-2-4-\u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","children":[]},{"level":2,"title":"6.2.5 \u6D4B\u8BD5","slug":"_6-2-5-\u6D4B\u8BD5","link":"#_6-2-5-\u6D4B\u8BD5","children":[]},{"level":2,"title":"6.2.6 \u63D0\u4EA4\u65B0\u7684\u955C\u50CF","slug":"_6-2-6-\u63D0\u4EA4\u65B0\u7684\u955C\u50CF","link":"#_6-2-6-\u63D0\u4EA4\u65B0\u7684\u955C\u50CF","children":[]},{"level":2,"title":"6.2.7 \u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","slug":"_6-2-7-\u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","link":"#_6-2-7-\u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","children":[]},{"level":2,"title":"6.2.8 \u542F\u52A8\u6D4B\u8BD5","slug":"_6-2-8-\u542F\u52A8\u6D4B\u8BD5","link":"#_6-2-8-\u542F\u52A8\u6D4B\u8BD5","children":[]},{"level":2,"title":"6.2.9 \u6DFB\u52A0GD\u5E93","slug":"_6-2-9-\u6DFB\u52A0gd\u5E93","link":"#_6-2-9-\u6DFB\u52A0gd\u5E93","children":[]},{"level":2,"title":"6.2.10 \u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","slug":"_6-2-10-\u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","link":"#_6-2-10-\u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","children":[]},{"level":2,"title":"7.1 Dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","slug":"_7-1-dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","link":"#_7-1-dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","children":[]},{"level":2,"title":"7.2 \u4F7F\u7528Dockerfile\u521B\u5EFA\u4E91\u76D8","slug":"_7-2-\u4F7F\u7528dockerfile\u521B\u5EFA\u4E91\u76D8","link":"#_7-2-\u4F7F\u7528dockerfile\u521B\u5EFA\u4E91\u76D8","children":[]},{"level":2,"title":"7.2.1 \u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","slug":"_7-2-1-\u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","link":"#_7-2-1-\u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","children":[]},{"level":2,"title":"7.2.2 \u7F16\u5199dockerfile","slug":"_7-2-2-\u7F16\u5199dockerfile","link":"#_7-2-2-\u7F16\u5199dockerfile","children":[]},{"level":2,"title":"7.2.3 \u6784\u5EFA\u65B0\u955C\u50CF","slug":"_7-2-3-\u6784\u5EFA\u65B0\u955C\u50CF","link":"#_7-2-3-\u6784\u5EFA\u65B0\u955C\u50CF","children":[]},{"level":2,"title":"7.2.4 \u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","slug":"_7-2-4-\u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","link":"#_7-2-4-\u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","children":[]},{"level":2,"title":"8.1 \u666E\u901A\u7684docker registry","slug":"_8-1-\u666E\u901A\u7684docker-registry","link":"#_8-1-\u666E\u901A\u7684docker-registry","children":[]},{"level":2,"title":"8.2 \u5E26\u8BA4\u8BC1\u7684docker registry","slug":"_8-2-\u5E26\u8BA4\u8BC1\u7684docker-registry","link":"#_8-2-\u5E26\u8BA4\u8BC1\u7684docker-registry","children":[]},{"level":2,"title":"8.3 \u4F01\u4E1A\u7EA7\u7684docker-harbor","slug":"_8-3-\u4F01\u4E1A\u7EA7\u7684docker-harbor","link":"#_8-3-\u4F01\u4E1A\u7EA7\u7684docker-harbor","children":[]},{"level":2,"title":"8.3.1 \u90E8\u7F72\u601D\u8DEF","slug":"_8-3-1-\u90E8\u7F72\u601D\u8DEF","link":"#_8-3-1-\u90E8\u7F72\u601D\u8DEF","children":[]},{"level":2,"title":"8.3.2 \u5B89\u88C5docker-compose","slug":"_8-3-2-\u5B89\u88C5docker-compose","link":"#_8-3-2-\u5B89\u88C5docker-compose","children":[]},{"level":2,"title":"8.3.3 \u4E0A\u4F20\u89E3\u538Bdocker-harbor","slug":"_8-3-3-\u4E0A\u4F20\u89E3\u538Bdocker-harbor","link":"#_8-3-3-\u4E0A\u4F20\u89E3\u538Bdocker-harbor","children":[]},{"level":2,"title":"8.3.4 \u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","slug":"_8-3-4-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","link":"#_8-3-4-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"8.3.5 \u5B89\u88C5","slug":"_8-3-5-\u5B89\u88C5","link":"#_8-3-5-\u5B89\u88C5","children":[]},{"level":2,"title":"8.3.6 \u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","slug":"_8-3-6-\u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","link":"#_8-3-6-\u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","children":[]},{"level":2,"title":"8.3.7 \u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","slug":"_8-3-7-\u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","link":"#_8-3-7-\u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","children":[]},{"level":2,"title":"8.3.8 \u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","slug":"_8-3-8-\u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","link":"#_8-3-8-\u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","children":[]},{"level":2,"title":"8.3.9 \u5728docker-harbor\u4E0A\u67E5\u770B","slug":"_8-3-9-\u5728docker-harbor\u4E0A\u67E5\u770B","link":"#_8-3-9-\u5728docker-harbor\u4E0A\u67E5\u770B","children":[]},{"level":2,"title":"8.3.10 \u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","slug":"_8-3-10-\u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","link":"#_8-3-10-\u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","children":[]}],"relativePath":"pages/posts/Docker\u7684\u5F15\u5165.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/Docker\u7684\u5F15\u5165.md","lastUpdated":1671090556000}'),i=JSON.parse('{"title":"Docker\u7684\u5F15\u5165","description":"","frontmatter":{"title":"Docker\u7684\u5F15\u5165","categories":"Linux\u6280\u672F","tags":["Docker"],"date":"2019-07-23T11:09:00.000Z"},"headers":[{"level":2,"title":"1.1 docker\u662F\u4EC0\u4E48","slug":"_1-1-docker\u662F\u4EC0\u4E48","link":"#_1-1-docker\u662F\u4EC0\u4E48","children":[]},{"level":2,"title":"1.2 \u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","slug":"_1-2-\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","link":"#_1-2-\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","children":[]},{"level":2,"title":"1.3 docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","slug":"_1-3-docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","link":"#_1-3-docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","children":[]},{"level":2,"title":"1.4 docker\u7684\u7EC4\u6210\u90E8\u5206","slug":"_1-4-docker\u7684\u7EC4\u6210\u90E8\u5206","link":"#_1-4-docker\u7684\u7EC4\u6210\u90E8\u5206","children":[]},{"level":2,"title":"2.1 \u56FD\u5185\u6E90\u5B89\u88C5docker-ce","slug":"_2-1-\u56FD\u5185\u6E90\u5B89\u88C5docker-ce","link":"#_2-1-\u56FD\u5185\u6E90\u5B89\u88C5docker-ce","children":[]},{"level":2,"title":"2.2 \uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","slug":"_2-2-\uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","link":"#_2-2-\uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","children":[]},{"level":2,"title":"2.3 \u5FEB\u901F\u5B89\u88C5","slug":"_2-3-\u5FEB\u901F\u5B89\u88C5","link":"#_2-3-\u5FEB\u901F\u5B89\u88C5","children":[]},{"level":2,"title":"2.4 \u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","slug":"_2-4-\u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","link":"#_2-4-\u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","children":[]},{"level":2,"title":"3.1 \u955C\u50CF\u76F8\u5173\u547D\u4EE4","slug":"_3-1-\u955C\u50CF\u76F8\u5173\u547D\u4EE4","link":"#_3-1-\u955C\u50CF\u76F8\u5173\u547D\u4EE4","children":[]},{"level":2,"title":"3.1.1 \u641C\u7D22\u955C\u50CF","slug":"_3-1-1-\u641C\u7D22\u955C\u50CF","link":"#_3-1-1-\u641C\u7D22\u955C\u50CF","children":[]},{"level":2,"title":"3.1.2 \u83B7\u53D6\u955C\u50CF","slug":"_3-1-2-\u83B7\u53D6\u955C\u50CF","link":"#_3-1-2-\u83B7\u53D6\u955C\u50CF","children":[]},{"level":2,"title":"3.1.3 \u67E5\u770B\u955C\u50CF","slug":"_3-1-3-\u67E5\u770B\u955C\u50CF","link":"#_3-1-3-\u67E5\u770B\u955C\u50CF","children":[]},{"level":2,"title":"3.1.4 \u5220\u9664\u955C\u50CF","slug":"_3-1-4-\u5220\u9664\u955C\u50CF","link":"#_3-1-4-\u5220\u9664\u955C\u50CF","children":[]},{"level":2,"title":"3.1.5 \u5BFC\u51FA\u955C\u50CF","slug":"_3-1-5-\u5BFC\u51FA\u955C\u50CF","link":"#_3-1-5-\u5BFC\u51FA\u955C\u50CF","children":[]},{"level":2,"title":"3.1.6 \u5BFC\u5165\u955C\u50CF","slug":"_3-1-6-\u5BFC\u5165\u955C\u50CF","link":"#_3-1-6-\u5BFC\u5165\u955C\u50CF","children":[]},{"level":2,"title":"3.2 \u5BB9\u5668\u76F8\u5173\u547D\u4EE4","slug":"_3-2-\u5BB9\u5668\u76F8\u5173\u547D\u4EE4","link":"#_3-2-\u5BB9\u5668\u76F8\u5173\u547D\u4EE4","children":[]},{"level":2,"title":"3.2.1 \u542F\u52A8\u5BB9\u5668","slug":"_3-2-1-\u542F\u52A8\u5BB9\u5668","link":"#_3-2-1-\u542F\u52A8\u5BB9\u5668","children":[]},{"level":2,"title":"3.2.3 \u67E5\u770B\u5BB9\u5668","slug":"_3-2-3-\u67E5\u770B\u5BB9\u5668","link":"#_3-2-3-\u67E5\u770B\u5BB9\u5668","children":[]},{"level":2,"title":"3.2.4 \u8FDB\u5165\u5BB9\u5668","slug":"_3-2-4-\u8FDB\u5165\u5BB9\u5668","link":"#_3-2-4-\u8FDB\u5165\u5BB9\u5668","children":[]},{"level":2,"title":"3.2.5 \u5220\u9664\u5BB9\u5668","slug":"_3-2-5-\u5220\u9664\u5BB9\u5668","link":"#_3-2-5-\u5220\u9664\u5BB9\u5668","children":[]},{"level":2,"title":"4.1 \u968F\u673A\u6620\u5C04\u7AEF\u53E3","slug":"_4-1-\u968F\u673A\u6620\u5C04\u7AEF\u53E3","link":"#_4-1-\u968F\u673A\u6620\u5C04\u7AEF\u53E3","children":[]},{"level":2,"title":"4.2 \u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","slug":"_4-2-\u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","link":"#_4-2-\u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","children":[]},{"level":2,"title":"5.1 \u6301\u4E45\u5316\u6570\u636E\u5377","slug":"_5-1-\u6301\u4E45\u5316\u6570\u636E\u5377","link":"#_5-1-\u6301\u4E45\u5316\u6570\u636E\u5377","children":[]},{"level":2,"title":"5.1.1 \u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","slug":"_5-1-1-\u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","link":"#_5-1-1-\u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","children":[]},{"level":2,"title":"5.1.2 \u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","slug":"_5-1-2-\u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","link":"#_5-1-2-\u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","children":[]},{"level":2,"title":"5.1.3 \u8BBF\u95EE\u6E38\u620F\u9875\u9762","slug":"_5-1-3-\u8BBF\u95EE\u6E38\u620F\u9875\u9762","link":"#_5-1-3-\u8BBF\u95EE\u6E38\u620F\u9875\u9762","children":[]},{"level":2,"title":"5.2 \u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","slug":"_5-2-\u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","link":"#_5-2-\u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","children":[]},{"level":2,"title":"5.2.1 \u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","slug":"_5-2-1-\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","link":"#_5-2-1-\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","children":[]},{"level":2,"title":"5.2.2 \u67E5\u770B\u5377\u7684\u76EE\u5F55","slug":"_5-2-2-\u67E5\u770B\u5377\u7684\u76EE\u5F55","link":"#_5-2-2-\u67E5\u770B\u5377\u7684\u76EE\u5F55","children":[]},{"level":2,"title":"5.2.3 \u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","slug":"_5-2-3-\u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","link":"#_5-2-3-\u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","children":[]},{"level":2,"title":"5.2.4 \u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","slug":"_5-2-4-\u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","link":"#_5-2-4-\u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","children":[]},{"level":2,"title":"5.3 \u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","slug":"_5-3-\u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","link":"#_5-3-\u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","children":[]},{"level":2,"title":"5.3.1 \u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","slug":"_5-3-1-\u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","link":"#_5-3-1-\u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"5.3.2 \u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","slug":"_5-3-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","link":"#_5-3-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","children":[]},{"level":2,"title":"5.3.3 \u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","slug":"_5-3-3-\u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","link":"#_5-3-3-\u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","children":[]},{"level":2,"title":"6.1 \u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","slug":"_6-1-\u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","link":"#_6-1-\u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","children":[]},{"level":2,"title":"6.1.1 \u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","slug":"_6-1-1-\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","link":"#_6-1-1-\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","children":[]},{"level":2,"title":"6.1.2 \u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","slug":"_6-1-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","link":"#_6-1-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"6.1.3 \u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","slug":"_6-1-3-\u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","link":"#_6-1-3-\u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","children":[]},{"level":2,"title":"6.1.4 \u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","slug":"_6-1-4-\u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","link":"#_6-1-4-\u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","children":[]},{"level":2,"title":"6.1.5 \u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","slug":"_6-1-5-\u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","link":"#_6-1-5-\u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","children":[]},{"level":2,"title":"6.2 \u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","slug":"_6-2-\u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","link":"#_6-2-\u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","children":[]},{"level":2,"title":"6.2.1 \u521B\u5EFA\u5BB9\u5668","slug":"_6-2-1-\u521B\u5EFA\u5BB9\u5668","link":"#_6-2-1-\u521B\u5EFA\u5BB9\u5668","children":[]},{"level":2,"title":"6.2.2 \u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","slug":"_6-2-2-\u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","link":"#_6-2-2-\u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","children":[]},{"level":2,"title":"6.2.3 \u914D\u7F6Enginx","slug":"_6-2-3-\u914D\u7F6Enginx","link":"#_6-2-3-\u914D\u7F6Enginx","children":[]},{"level":2,"title":"6.2.4 \u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","slug":"_6-2-4-\u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","link":"#_6-2-4-\u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","children":[]},{"level":2,"title":"6.2.5 \u6D4B\u8BD5","slug":"_6-2-5-\u6D4B\u8BD5","link":"#_6-2-5-\u6D4B\u8BD5","children":[]},{"level":2,"title":"6.2.6 \u63D0\u4EA4\u65B0\u7684\u955C\u50CF","slug":"_6-2-6-\u63D0\u4EA4\u65B0\u7684\u955C\u50CF","link":"#_6-2-6-\u63D0\u4EA4\u65B0\u7684\u955C\u50CF","children":[]},{"level":2,"title":"6.2.7 \u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","slug":"_6-2-7-\u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","link":"#_6-2-7-\u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","children":[]},{"level":2,"title":"6.2.8 \u542F\u52A8\u6D4B\u8BD5","slug":"_6-2-8-\u542F\u52A8\u6D4B\u8BD5","link":"#_6-2-8-\u542F\u52A8\u6D4B\u8BD5","children":[]},{"level":2,"title":"6.2.9 \u6DFB\u52A0GD\u5E93","slug":"_6-2-9-\u6DFB\u52A0gd\u5E93","link":"#_6-2-9-\u6DFB\u52A0gd\u5E93","children":[]},{"level":2,"title":"6.2.10 \u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","slug":"_6-2-10-\u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","link":"#_6-2-10-\u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","children":[]},{"level":2,"title":"7.1 Dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","slug":"_7-1-dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","link":"#_7-1-dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","children":[]},{"level":2,"title":"7.2 \u4F7F\u7528Dockerfile\u521B\u5EFA\u4E91\u76D8","slug":"_7-2-\u4F7F\u7528dockerfile\u521B\u5EFA\u4E91\u76D8","link":"#_7-2-\u4F7F\u7528dockerfile\u521B\u5EFA\u4E91\u76D8","children":[]},{"level":2,"title":"7.2.1 \u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","slug":"_7-2-1-\u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","link":"#_7-2-1-\u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","children":[]},{"level":2,"title":"7.2.2 \u7F16\u5199dockerfile","slug":"_7-2-2-\u7F16\u5199dockerfile","link":"#_7-2-2-\u7F16\u5199dockerfile","children":[]},{"level":2,"title":"7.2.3 \u6784\u5EFA\u65B0\u955C\u50CF","slug":"_7-2-3-\u6784\u5EFA\u65B0\u955C\u50CF","link":"#_7-2-3-\u6784\u5EFA\u65B0\u955C\u50CF","children":[]},{"level":2,"title":"7.2.4 \u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","slug":"_7-2-4-\u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","link":"#_7-2-4-\u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","children":[]},{"level":2,"title":"8.1 \u666E\u901A\u7684docker registry","slug":"_8-1-\u666E\u901A\u7684docker-registry","link":"#_8-1-\u666E\u901A\u7684docker-registry","children":[]},{"level":2,"title":"8.2 \u5E26\u8BA4\u8BC1\u7684docker registry","slug":"_8-2-\u5E26\u8BA4\u8BC1\u7684docker-registry","link":"#_8-2-\u5E26\u8BA4\u8BC1\u7684docker-registry","children":[]},{"level":2,"title":"8.3 \u4F01\u4E1A\u7EA7\u7684docker-harbor","slug":"_8-3-\u4F01\u4E1A\u7EA7\u7684docker-harbor","link":"#_8-3-\u4F01\u4E1A\u7EA7\u7684docker-harbor","children":[]},{"level":2,"title":"8.3.1 \u90E8\u7F72\u601D\u8DEF","slug":"_8-3-1-\u90E8\u7F72\u601D\u8DEF","link":"#_8-3-1-\u90E8\u7F72\u601D\u8DEF","children":[]},{"level":2,"title":"8.3.2 \u5B89\u88C5docker-compose","slug":"_8-3-2-\u5B89\u88C5docker-compose","link":"#_8-3-2-\u5B89\u88C5docker-compose","children":[]},{"level":2,"title":"8.3.3 \u4E0A\u4F20\u89E3\u538Bdocker-harbor","slug":"_8-3-3-\u4E0A\u4F20\u89E3\u538Bdocker-harbor","link":"#_8-3-3-\u4E0A\u4F20\u89E3\u538Bdocker-harbor","children":[]},{"level":2,"title":"8.3.4 \u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","slug":"_8-3-4-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","link":"#_8-3-4-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"8.3.5 \u5B89\u88C5","slug":"_8-3-5-\u5B89\u88C5","link":"#_8-3-5-\u5B89\u88C5","children":[]},{"level":2,"title":"8.3.6 \u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","slug":"_8-3-6-\u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","link":"#_8-3-6-\u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","children":[]},{"level":2,"title":"8.3.7 \u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","slug":"_8-3-7-\u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","link":"#_8-3-7-\u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","children":[]},{"level":2,"title":"8.3.8 \u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","slug":"_8-3-8-\u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","link":"#_8-3-8-\u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","children":[]},{"level":2,"title":"8.3.9 \u5728docker-harbor\u4E0A\u67E5\u770B","slug":"_8-3-9-\u5728docker-harbor\u4E0A\u67E5\u770B","link":"#_8-3-9-\u5728docker-harbor\u4E0A\u67E5\u770B","children":[]},{"level":2,"title":"8.3.10 \u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","slug":"_8-3-10-\u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","link":"#_8-3-10-\u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","children":[]}],"relativePath":"pages/posts/Docker\u7684\u5F15\u5165.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/Docker\u7684\u5F15\u5165.md","lastUpdated":1671090556000}'),u={name:"pages/posts/Docker\u7684\u5F15\u5165.md",data(){return{data:i,frontmatter:i.frontmatter}},setup(){_("pageData",i)}},k=e("h1",{id:"\u7B2C1\u7AE0-docker\u5BB9\u5668\u4ECB\u7ECD",tabindex:"-1"},[n("\u7B2C1\u7AE0 Docker\u5BB9\u5668\u4ECB\u7ECD "),e("a",{class:"header-anchor",href:"#\u7B2C1\u7AE0-docker\u5BB9\u5668\u4ECB\u7ECD","aria-hidden":"true"},"#")],-1),p=e("h2",{id:"_1-1-docker\u662F\u4EC0\u4E48",tabindex:"-1"},[n("1.1 docker\u662F\u4EC0\u4E48 "),e("a",{class:"header-anchor",href:"#_1-1-docker\u662F\u4EC0\u4E48","aria-hidden":"true"},"#")],-1),g=e("p",null,"Docker \u662F Docker.Inc \u516C\u53F8\u5F00\u6E90\u7684\u4E00\u4E2A\u57FA\u4E8E LXC\u6280\u672F\u4E4B\u4E0A\u6784\u5EFA\u7684Container\u5BB9\u5668\u5F15\u64CE\uFF0C \u6E90\u4EE3\u7801\u6258\u7BA1\u5728 GitHub \u4E0A, \u57FA\u4E8EGo\u8BED\u8A00\u5E76\u9075\u4ECEApache2.0\u534F\u8BAE\u5F00\u6E90\u3002 Docker\u662F\u901A\u8FC7\u5185\u6838\u865A\u62DF\u5316\u6280\u672F\uFF08namespaces\u53CAcgroups\u7B49\uFF09\u6765\u63D0\u4F9B\u5BB9\u5668\u7684\u8D44\u6E90\u9694\u79BB\u4E0E\u5B89\u5168\u4FDD\u969C\u7B49\u3002\u7531\u4E8EDocker\u901A\u8FC7\u64CD\u4F5C\u7CFB\u7EDF\u5C42\u7684\u865A\u62DF\u5316\u5B9E\u73B0\u9694\u79BB\uFF0C\u6240\u4EE5Docker\u5BB9\u5668\u5728\u8FD0\u884C\u65F6\uFF0C\u4E0D\u9700\u8981\u7C7B\u4F3C\u865A\u62DF\u673A\uFF08VM\uFF09\u989D\u5916\u7684\u64CD\u4F5C\u7CFB\u7EDF\u5F00\u9500\uFF0C\u63D0\u9AD8\u8D44\u6E90\u5229\u7528\u7387\u3002",-1),f=e("h2",{id:"_1-2-\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4",tabindex:"-1"},[n("1.2 \u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4 "),e("a",{class:"header-anchor",href:"#_1-2-\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u5BF9\u6BD4","aria-hidden":"true"},"#")],-1),b=e("p",null,[e("img",{src:"https://cdn.jsdelivr.net/gh/kococ/IMAGE/usr/uploads/2020/07/1147648620.png",alt:"Docker\u5BF9\u6BD4\u56FE"})],-1),m=e("p",null,[e("img",{src:"https://cdn.jsdelivr.net/gh/kococ/IMAGE/usr/uploads/2020/07/2783417689.png",alt:"\u542F\u52A8\u901F\u5EA6\u5BF9\u6BD4"})],-1),x=e("h2",{id:"_1-3-docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5",tabindex:"-1"},[n("1.3 docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5 "),e("a",{class:"header-anchor",href:"#_1-3-docker\u7684\u4E09\u4E2A\u91CD\u8981\u6982\u5FF5","aria-hidden":"true"},"#")],-1),v=e("p",null,"Image(\u955C\u50CF): \u90A3\u4E48\u955C\u50CF\u5230\u5E95\u662F\u4EC0\u4E48\u5462\uFF1FDocker \u955C\u50CF\u53EF\u4EE5\u770B\u4F5C\u662F\u4E00\u4E2A\u7279\u6B8A\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u9664\u4E86\u63D0\u4F9B\u5BB9\u5668\u8FD0\u884C\u65F6\u6240\u9700\u7684\u7A0B\u5E8F\u3001\u5E93\u3001\u8D44\u6E90\u3001\u914D\u7F6E\u7B49\u6587\u4EF6\u5916\uFF0C\u8FD8\u5305\u542B\u4E86\u4E00\u4E9B\u4E3A\u8FD0\u884C\u65F6\u51C6\u5907\u7684\u4E00\u4E9B\u914D\u7F6E\u53C2\u6570\uFF08\u5982\u533F\u540D\u5377\u3001\u73AF\u5883\u53D8\u91CF\u3001\u7528\u6237\u7B49\uFF09\u3002 Container(\u5BB9\u5668) \u5BB9\u5668(Container)\u7684\u5B9A\u4E49\u548C\u955C\u50CF(Image)\u51E0\u4E4E\u4E00\u6A21\u4E00\u6837\uFF0C\u4E5F\u662F\u4E00\u5806\u5C42\u7684\u7EDF\u4E00\u89C6\u89D2\uFF0C\u552F\u4E00\u533A\u522B\u5728\u4E8E\u5BB9\u5668\u7684\u6700\u4E0A\u9762\u90A3\u4E00\u5C42\u662F\u53EF\u8BFB\u53EF\u5199\u7684\u3002 Repository(\u4ED3\u5E93) \u955C\u50CF\u4ED3\u5E93\u662F Docker \u7528\u6765\u96C6\u4E2D\u5B58\u653E\u955C\u50CF\u6587\u4EF6\u7684\u5730\u65B9\uFF0C\u7C7B\u4F3C\u4E8E\u6211\u4EEC\u4E4B\u524D\u5E38\u7528\u7684\u4EE3\u7801\u4ED3\u5E93\u3002 \u901A\u5E38\uFF0C\u4E00\u4E2A\u4ED3\u5E93\u4F1A\u5305\u542B\u540C\u4E00\u4E2A\u8F6F\u4EF6\u4E0D\u540C\u7248\u672C\u7684\u955C\u50CF\uFF0C\u800C\u6807\u7B7E\u5C31\u5E38\u7528\u4E8E\u5BF9\u5E94\u8BE5\u8F6F\u4EF6\u7684\u5404\u4E2A\u7248\u672C \u3002 \u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7<\u4ED3\u5E93\u540D>:<\u6807\u7B7E>\u7684\u683C\u5F0F\u6765\u6307\u5B9A\u5177\u4F53\u662F\u8FD9\u4E2A\u8F6F\u4EF6\u54EA\u4E2A\u7248\u672C\u7684\u955C\u50CF\u3002\u5982\u679C\u4E0D\u7ED9\u51FA\u6807\u7B7E\uFF0C\u5C06\u4EE5 Latest \u4F5C\u4E3A\u9ED8\u8BA4\u6807\u7B7E\u3002",-1),D=e("p",null,[e("img",{src:"https://cdn.jsdelivr.net/gh/kococ/IMAGE/usr/uploads/2020/07/497164864.png",alt:"\u6784\u6210\u56FE"})],-1),y=e("h2",{id:"_1-4-docker\u7684\u7EC4\u6210\u90E8\u5206",tabindex:"-1"},[n("1.4 docker\u7684\u7EC4\u6210\u90E8\u5206 "),e("a",{class:"header-anchor",href:"#_1-4-docker\u7684\u7EC4\u6210\u90E8\u5206","aria-hidden":"true"},"#")],-1),S=e("p",null,"docker\u662F\u4F20\u7EDF\u7684CS\u67B6\u6784\u5206\u4E3Adocker client\u548Cdocker server Docker \u5BA2\u6237\u7AEF\u662F Docker \u7528\u6237\u4E0E Docker \u4EA4\u4E92\u7684\u4E3B\u8981\u65B9\u5F0F\u3002\u5F53\u60A8\u4F7F\u7528 Docker \u547D\u4EE4\u884C\u8FD0\u884C\u547D\u4EE4\u65F6\uFF0CDocker \u5BA2\u6237\u7AEF\u5C06\u8FD9\u4E9B\u547D\u4EE4\u53D1\u9001\u7ED9\u670D\u52A1\u5668\u7AEF\uFF0C\u670D\u52A1\u7AEF\u5C06\u6267\u884C\u8FD9\u4E9B\u547D\u4EE4\u3002 Docker \u547D\u4EE4\u4F7F\u7528 Docker API \u3002Docker \u5BA2\u6237\u7AEF\u53EF\u4EE5\u4E0E\u591A\u4E2A\u670D\u52A1\u7AEF\u8FDB\u884C\u901A\u4FE1\u3002",-1),w=e("p",null,[e("img",{src:"https://cdn.jsdelivr.net/gh/kococ/IMAGE/usr/uploads/2020/07/3695901469.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),O=e("h1",{id:"\u7B2C2\u7AE0-docker\u5B89\u88C5\u90E8\u7F72",tabindex:"-1"},[n("\u7B2C2\u7AE0 Docker\u5B89\u88C5\u90E8\u7F72 "),e("a",{class:"header-anchor",href:"#\u7B2C2\u7AE0-docker\u5B89\u88C5\u90E8\u7F72","aria-hidden":"true"},"#")],-1),E=e("h2",{id:"_2-1-\u56FD\u5185\u6E90\u5B89\u88C5docker-ce",tabindex:"-1"},[n("2.1 \u56FD\u5185\u6E90\u5B89\u88C5docker-ce "),e("a",{class:"header-anchor",href:"#_2-1-\u56FD\u5185\u6E90\u5B89\u88C5docker-ce","aria-hidden":"true"},"#")],-1),C=e("pre",null,[e("code",null,`# step 1: \u5B89\u88C5\u5FC5\u8981\u7684\u4E00\u4E9B\u7CFB\u7EDF\u5DE5\u5177
sudo yum install -y yum-utils device-mapper-persistent-data lvm2
# Step 2: \u6DFB\u52A0\u8F6F\u4EF6\u6E90\u4FE1\u606F
sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
# Step 3: \u66F4\u65B0\u5E76\u5B89\u88C5Docker-CE
sudo yum makecache fast
sudo yum -y install docker-ce
# Step 4: \u5F00\u542FDocker\u670D\u52A1
sudo service docker start

# \u6CE8\u610F\uFF1A
# \u5B98\u65B9\u8F6F\u4EF6\u6E90\u9ED8\u8BA4\u542F\u7528\u4E86\u6700\u65B0\u7684\u8F6F\u4EF6\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u7F16\u8F91\u8F6F\u4EF6\u6E90\u7684\u65B9\u5F0F\u83B7\u53D6\u5404\u4E2A\u7248\u672C\u7684\u8F6F\u4EF6\u5305\u3002\u4F8B\u5982\u5B98\u65B9\u5E76\u6CA1\u6709\u5C06\u6D4B\u8BD5\u7248\u672C\u7684\u8F6F\u4EF6\u6E90\u7F6E\u4E3A\u53EF\u7528\uFF0C\u60A8\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u5F00\u542F\u3002\u540C\u7406\u53EF\u4EE5\u5F00\u542F\u5404\u79CD\u6D4B\u8BD5\u7248\u672C\u7B49\u3002
# vim /etc/yum.repos.d/docker-ee.repo
#   \u5C06[docker-ce-test]\u4E0B\u65B9\u7684enabled=0\u4FEE\u6539\u4E3Aenabled=1
#
# \u5B89\u88C5\u6307\u5B9A\u7248\u672C\u7684Docker-CE:
# Step 1: \u67E5\u627EDocker-CE\u7684\u7248\u672C:
# yum list docker-ce.x86_64 --showduplicates | sort -r
#   Loading mirror speeds from cached hostfile
#   Loaded plugins: branch, fastestmirror, langpacks
#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable
#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            @docker-ce-stable
#   docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable
#   Available Packages
# Step2: \u5B89\u88C5\u6307\u5B9A\u7248\u672C\u7684Docker-CE: (VERSION\u4F8B\u5982\u4E0A\u9762\u768417.03.0.ce.1-1.el7.centos)
# sudo yum -y install docker-ce-[VERSION]
`)],-1),I=e("p",null,"\u5B89\u88C5\u6821\u9A8C",-1),N=e("pre",null,[e("code",null,`root@iZbp12adskpuoxodbkqzjfZ:$ docker version
Client:
 Version:      17.03.0-ce
 API version:  1.26
 Go version:   go1.7.5
 Git commit:   3a232c8
 Built:        Tue Feb 28 07:52:04 2017
 OS/Arch:      linux/amd64

Server:
 Version:      17.03.0-ce
 API version:  1.26 (minimum version 1.12)
 Go version:   go1.7.5
 Git commit:   3a232c8
 Built:        Tue Feb 28 07:52:04 2017
 OS/Arch:      linux/amd64
 Experimental: false
`)],-1),R=e("h2",{id:"_2-2-\uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E",tabindex:"-1"},[n("2.2 \uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E "),e("a",{class:"header-anchor",href:"#_2-2-\uFF08\u56FD\u5185\u8FDC\u955C\u50CF\u52A0\u901F\uFF09\u7B49\u914D\u7F6E","aria-hidden":"true"},"#")],-1),M=e("pre",null,[e("code",null,`[root@docker01 ~]# cat /etc/docker/daemon.json 
{
    "graph": "/data/docker",
    "storage-driver": "overlay2",
    "insecure-registries": ["registry.access.redhat.com","quay.io"],
    "registry-mirrors": ["https://q2gr04ke.mirror.aliyuncs.com"],
    "bip": "192.168.1.1/24",
    "exec-opts": ["native.cgroupdriver=systemd"],
    "live-restore": true
}
[root@docker01 ~]# systemctl restart docker
`)],-1),A=e("h2",{id:"_2-3-\u5FEB\u901F\u5B89\u88C5",tabindex:"-1"},[n("2.3 \u5FEB\u901F\u5B89\u88C5 "),e("a",{class:"header-anchor",href:"#_2-3-\u5FEB\u901F\u5B89\u88C5","aria-hidden":"true"},"#")],-1),U=e("p",null,"\u601D\u8DEF\uFF1A",-1),T=e("pre",null,[e("code",null,`1.\u5F00\u542Fyum\u7F13\u5B58
2.\u5168\u65B0\u73AF\u5883\u5B89\u88C5docker
3.\u5C06\u7F13\u5B58\u7684\u5305\u5168\u90E8\u6253\u5305\u51FA\u6765
4.\u5B89\u88C5\u7684\u65F6\u5019\u4F7F\u7528rpm -ivh *.rpm\u65B9\u5F0F\u5B89\u88C5
`)],-1),P=e("h2",{id:"_2-4-\u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668",tabindex:"-1"},[n("2.4 \u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_2-4-\u8FD0\u884C\u7B2C\u4E00\u4E2A\u5BB9\u5668","aria-hidden":"true"},"#")],-1),G=e("p",null,"\u8FD0\u884C\u4E00\u4E2AHello world",-1),$=e("pre",null,[e("code",null,`docker run alpine /bin/echo "Hello world"
`)],-1),z=e("h1",{id:"\u7B2C3\u7AE0-docker\u955C\u50CF\u548C\u5BB9\u5668\u7BA1\u7406",tabindex:"-1"},[n("\u7B2C3\u7AE0 Docker\u955C\u50CF\u548C\u5BB9\u5668\u7BA1\u7406 "),e("a",{class:"header-anchor",href:"#\u7B2C3\u7AE0-docker\u955C\u50CF\u548C\u5BB9\u5668\u7BA1\u7406","aria-hidden":"true"},"#")],-1),L=e("h2",{id:"_3-1-\u955C\u50CF\u76F8\u5173\u547D\u4EE4",tabindex:"-1"},[n("3.1 \u955C\u50CF\u76F8\u5173\u547D\u4EE4 "),e("a",{class:"header-anchor",href:"#_3-1-\u955C\u50CF\u76F8\u5173\u547D\u4EE4","aria-hidden":"true"},"#")],-1),B=e("h2",{id:"_3-1-1-\u641C\u7D22\u955C\u50CF",tabindex:"-1"},[n("3.1.1 \u641C\u7D22\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_3-1-1-\u641C\u7D22\u955C\u50CF","aria-hidden":"true"},"#")],-1),j=e("p",null,"\u9009\u62E9\u955C\u50CF\u5EFA\u8BAE\uFF1A",-1),q=e("pre",null,[e("code",null,`1.\u4F18\u5148\u9009\u62E9\u5B98\u65B9\u7684
2.\u9009\u62E9\u661F\u661F\u591A\u7684

docker search centos
`)],-1),V=e("h2",{id:"_3-1-2-\u83B7\u53D6\u955C\u50CF",tabindex:"-1"},[n("3.1.2 \u83B7\u53D6\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_3-1-2-\u83B7\u53D6\u955C\u50CF","aria-hidden":"true"},"#")],-1),F=e("pre",null,[e("code",null,`docker pull centos
docker pull busybox
docker pull busybox:1.29
`)],-1),K=e("h2",{id:"_3-1-3-\u67E5\u770B\u955C\u50CF",tabindex:"-1"},[n("3.1.3 \u67E5\u770B\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_3-1-3-\u67E5\u770B\u955C\u50CF","aria-hidden":"true"},"#")],-1),X=e("pre",null,[e("code",null,`docker images
`)],-1),Y=e("h2",{id:"_3-1-4-\u5220\u9664\u955C\u50CF",tabindex:"-1"},[n("3.1.4 \u5220\u9664\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_3-1-4-\u5220\u9664\u955C\u50CF","aria-hidden":"true"},"#")],-1),Z=e("pre",null,[e("code",null,`docker rmi centos
`)],-1),H=e("h2",{id:"_3-1-5-\u5BFC\u51FA\u955C\u50CF",tabindex:"-1"},[n("3.1.5 \u5BFC\u51FA\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_3-1-5-\u5BFC\u51FA\u955C\u50CF","aria-hidden":"true"},"#")],-1),J=e("pre",null,[e("code",null,`docker save -o centos.tar centos:latest
`)],-1),W=e("h2",{id:"_3-1-6-\u5BFC\u5165\u955C\u50CF",tabindex:"-1"},[n("3.1.6 \u5BFC\u5165\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_3-1-6-\u5BFC\u5165\u955C\u50CF","aria-hidden":"true"},"#")],-1),Q=e("pre",null,[e("code",null,`docker load  < centos.tar
`)],-1),ee=e("h2",{id:"_3-2-\u5BB9\u5668\u76F8\u5173\u547D\u4EE4",tabindex:"-1"},[n("3.2 \u5BB9\u5668\u76F8\u5173\u547D\u4EE4 "),e("a",{class:"header-anchor",href:"#_3-2-\u5BB9\u5668\u76F8\u5173\u547D\u4EE4","aria-hidden":"true"},"#")],-1),ne=e("h2",{id:"_3-2-1-\u542F\u52A8\u5BB9\u5668",tabindex:"-1"},[n("3.2.1 \u542F\u52A8\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_3-2-1-\u542F\u52A8\u5BB9\u5668","aria-hidden":"true"},"#")],-1),oe=e("pre",null,[e("code",null,`docker run -d -p 80:80 nginx 
docker run --name mydocker -t -i centos /bin/bash
`)],-1),re=e("p",null,[e("strong",null,"\u62A5\u9519\uFF1A")],-1),le=e("pre",null,[e("code",null,`WARNING: IPv4 forwarding is disabled. Networking will not work.
`)],-1),ie=e("p",null,[e("strong",null,"\u89E3\u51B3\u65B9\u6CD5\uFF1A")],-1),te=e("pre",null,[e("code",null,`vim /usr/lib/sysctl.d/00-system.conf
net.ipv4.ip_forward=1

systemctl restart network
`)],-1),de=e("p",null,"3.2.2 \u505C\u6B62\u5BB9\u5668",-1),ce=e("hr",null,null,-1),se=e("pre",null,[e("code",null,`docker stop 
`)],-1),ae=e("h2",{id:"_3-2-3-\u67E5\u770B\u5BB9\u5668",tabindex:"-1"},[n("3.2.3 \u67E5\u770B\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_3-2-3-\u67E5\u770B\u5BB9\u5668","aria-hidden":"true"},"#")],-1),he=e("pre",null,[e("code",null,`docker ps 
docker ps -a 
docker ps -q
docker ps -aq
`)],-1),_e=e("h2",{id:"_3-2-4-\u8FDB\u5165\u5BB9\u5668",tabindex:"-1"},[n("3.2.4 \u8FDB\u5165\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_3-2-4-\u8FDB\u5165\u5BB9\u5668","aria-hidden":"true"},"#")],-1),ue=e("pre",null,[e("code",null,`docker exec\u4F1A\u5206\u914D\u4E00\u4E2A\u65B0\u7684\u7EC8\u7AEFtty
docker exec -it \u5BB9\u5668ID  /bin/bash 
docker attach\u4F1A\u4F7F\u7528\u540C\u4E00\u4E2A\u7EC8\u7AEF
docker attach \u5BB9\u5668ID
`)],-1),ke=e("h2",{id:"_3-2-5-\u5220\u9664\u5BB9\u5668",tabindex:"-1"},[n("3.2.5 \u5220\u9664\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_3-2-5-\u5220\u9664\u5BB9\u5668","aria-hidden":"true"},"#")],-1),pe=e("p",null,"\u5220\u9664\u5355\u4E2A\u5BB9\u5668",-1),ge=e("pre",null,[e("code",null,`docker rm \u5BB9\u5668ID
`)],-1),fe=e("p",null,"\u6279\u91CF\u5220\u9664\u5BB9\u5668",-1),be=e("pre",null,[e("code",null,`docker stop $(docker ps -q)
docker rm $(docker ps -aq)
`)],-1),me=e("h1",{id:"\u5BB9\u5668\u5185\u90E8\u4FEE\u6539\u8F6F\u4EF6\u6E90\uFF08nginx\u4E3E\u4F8B\uFF09",tabindex:"-1"},[n("\u5BB9\u5668\u5185\u90E8\u4FEE\u6539\u8F6F\u4EF6\u6E90\uFF08Nginx\u4E3E\u4F8B\uFF09 "),e("a",{class:"header-anchor",href:"#\u5BB9\u5668\u5185\u90E8\u4FEE\u6539\u8F6F\u4EF6\u6E90\uFF08nginx\u4E3E\u4F8B\uFF09","aria-hidden":"true"},"#")],-1),xe=e("pre",null,[e("code",null,`tee /etc/apt/sources.list <<EOF 
deb http://mirrors.163.com/debian/ jessie main non-free contrib   
deb http://mirrors.163.com/debian/ jessie-updates main non-free contrib
EOF
apt-get update 
apt-get -y install curl
`)],-1),ve=e("h1",{id:"\u7B2C4\u7AE0-docker\u7F51\u7EDC\u7BA1\u7406",tabindex:"-1"},[n("\u7B2C4\u7AE0 Docker\u7F51\u7EDC\u7BA1\u7406 "),e("a",{class:"header-anchor",href:"#\u7B2C4\u7AE0-docker\u7F51\u7EDC\u7BA1\u7406","aria-hidden":"true"},"#")],-1),De=e("h2",{id:"_4-1-\u968F\u673A\u6620\u5C04\u7AEF\u53E3",tabindex:"-1"},[n("4.1 \u968F\u673A\u6620\u5C04\u7AEF\u53E3 "),e("a",{class:"header-anchor",href:"#_4-1-\u968F\u673A\u6620\u5C04\u7AEF\u53E3","aria-hidden":"true"},"#")],-1),ye=e("pre",null,[e("code",null,`docker run -P 
`)],-1),Se=e("h2",{id:"_4-2-\u6307\u5B9A\u6620\u5C04\u7AEF\u53E3",tabindex:"-1"},[n("4.2 \u6307\u5B9A\u6620\u5C04\u7AEF\u53E3 "),e("a",{class:"header-anchor",href:"#_4-2-\u6307\u5B9A\u6620\u5C04\u7AEF\u53E3","aria-hidden":"true"},"#")],-1),we=e("p",null,"p \u5BBF\u4E3B\u673A\u7AEF\u53E3:\u5BB9\u5668\u7AEF\u53E3",-1),Oe=e("pre",null,[e("code",null,`-p 80:80 -p 443:443
`)],-1),Ee=e("p",null,"-p \u5BBF\u4E3B\u673AIP:\u5BBF\u4E3B\u673A\u7AEF\u53E3:\u5BB9\u5668\u7AEF\u53E3 \u5982\u679C\u60F3\u591A\u4E2A\u5BB9\u5668\u4F7F\u75288080\u7AEF\u53E3\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u591A\u4E2AIP\u5730\u5740\u5B9E\u73B0",-1),Ce=e("pre",null,[e("code",null,`ifconfig eth0:1 10.0.1.13 up
docker run -d -p 10.0.1.11:8080:80 nginx:latest
docker run -d -p 10.0.1.13:8080:80 nginx:latest
`)],-1),Ie=e("p",null,"\u8FDB\u5165\u5BB9\u5668\u91CC\u4FEE\u6539\u7AD9\u70B9\u76EE\u5F55\uFF0C\u7136\u540E\u8BBF\u95EE\u6D4B\u8BD5",-1),Ne=e("pre",null,[e("code",null,`docker exec -it bdb2a4e7e24d /bin/bash
echo "web01" > /usr/share/nginx/html/index.html
docker exec -it 31c1de138dda /bin/bash
echo "web02" > /usr/share/nginx/html/index.html
`)],-1),Re=e("p",null,"\u8BBF\u95EE\u6D4B\u8BD5\uFF1A",-1),Me=e("pre",null,[e("code",null,`[root@docker01 ~]# curl 10.0.1.11:8080
web02
[root@docker01 ~]# curl 10.0.1.13:8080
web01
`)],-1),Ae=e("h1",{id:"\u7B2C5\u7AE0-docker\u6570\u636E\u5377\u7BA1\u7406",tabindex:"-1"},[n("\u7B2C5\u7AE0 Docker\u6570\u636E\u5377\u7BA1\u7406 "),e("a",{class:"header-anchor",href:"#\u7B2C5\u7AE0-docker\u6570\u636E\u5377\u7BA1\u7406","aria-hidden":"true"},"#")],-1),Ue=e("h2",{id:"_5-1-\u6301\u4E45\u5316\u6570\u636E\u5377",tabindex:"-1"},[n("5.1 \u6301\u4E45\u5316\u6570\u636E\u5377 "),e("a",{class:"header-anchor",href:"#_5-1-\u6301\u4E45\u5316\u6570\u636E\u5377","aria-hidden":"true"},"#")],-1),Te=e("p",null,"v \u5BBF\u4E3B\u673A\u76EE\u5F55:\u5BB9\u5668\u5185\u76EE\u5F55 \u4E0B\u9762\u6211\u4EEC\u6765\u521B\u5EFA\u4E00\u4E2Ahtml5\u5C0F\u6E38\u620F",-1),Pe=e("h2",{id:"_5-1-1-\u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55",tabindex:"-1"},[n("5.1.1 \u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55 "),e("a",{class:"header-anchor",href:"#_5-1-1-\u521B\u5EFA\u6E38\u620F\u4EE3\u7801\u76EE\u5F55","aria-hidden":"true"},"#")],-1),Ge=e("pre",null,[e("code",null,`mkdir /data/xiaoniao -p
cd /data/
unzip xiaoniaofeifei.zip  -d xiaoniao /
`)],-1),$e=e("h2",{id:"_5-1-2-\u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377",tabindex:"-1"},[n("5.1.2 \u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377 "),e("a",{class:"header-anchor",href:"#_5-1-2-\u521B\u5EFA\u5BB9\u5668\u5E76\u6620\u5C04\u6570\u636E\u5377","aria-hidden":"true"},"#")],-1),ze=e("pre",null,[e("code",null,`docker run -d  -p 80:80 -v /data/xiaoniao:/usr/share/nginx/html nginx:latest
docker ps
`)],-1),Le=e("h2",{id:"_5-1-3-\u8BBF\u95EE\u6E38\u620F\u9875\u9762",tabindex:"-1"},[n("5.1.3 \u8BBF\u95EE\u6E38\u620F\u9875\u9762 "),e("a",{class:"header-anchor",href:"#_5-1-3-\u8BBF\u95EE\u6E38\u620F\u9875\u9762","aria-hidden":"true"},"#")],-1),Be=e("pre",null,[e("code",null,`10.0.1.11
`)],-1),je=e("h2",{id:"_5-2-\u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668",tabindex:"-1"},[n("5.2 \u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_5-2-\u6301\u4E45\u5316\u6570\u636E\u5377\u5BB9\u5668","aria-hidden":"true"},"#")],-1),qe=e("p",null,[e("code",null,"volumes-from"),n(" (\u8DDF\u67D0\u4E00\u4E2A\u5DF2\u7ECF\u5B58\u5728\u7684\u5BB9\u5668\u6302\u8F7D\u76F8\u540C\u7684\u5377) \u67E5\u770B\u5F53\u524D\u5BB9\u5668\u6709\u54EA\u4E9B\u5377")],-1),Ve=e("pre",null,[e("code",null,`docker volume ls
`)],-1),Fe=e("p",null,"\u4E0B\u9762\u6211\u4EEC\u5229\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u4E00\u4E2A\u5C0F\u6E38\u620F",-1),Ke=e("h2",{id:"_5-2-1-\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377",tabindex:"-1"},[n("5.2.1 \u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377 "),e("a",{class:"header-anchor",href:"#_5-2-1-\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u5377","aria-hidden":"true"},"#")],-1),Xe=e("pre",null,[e("code",null,`docker run -d  -p 8080:80 --volume xiaoniao:/usr/share/nginx/html nginx:latest
docker volume ls
`)],-1),Ye=e("h2",{id:"_5-2-2-\u67E5\u770B\u5377\u7684\u76EE\u5F55",tabindex:"-1"},[n("5.2.2 \u67E5\u770B\u5377\u7684\u76EE\u5F55 "),e("a",{class:"header-anchor",href:"#_5-2-2-\u67E5\u770B\u5377\u7684\u76EE\u5F55","aria-hidden":"true"},"#")],-1),Ze=e("pre",null,[e("code",null,`docker volume inspect xiaoniao
`)],-1),He=e("h2",{id:"_5-2-3-\u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55",tabindex:"-1"},[n("5.2.3 \u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55 "),e("a",{class:"header-anchor",href:"#_5-2-3-\u590D\u5236\u4EE3\u7801\u76EE\u5F55\u5230\u5BB9\u5668\u5377\u76EE\u5F55","aria-hidden":"true"},"#")],-1),Je=e("pre",null,[e("code",null,`\\cp -a /data/xiaoniao/* /var/lib/docker/volumes/xiaoniao/_data/
`)],-1),We=e("h2",{id:"_5-2-4-\u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668",tabindex:"-1"},[n("5.2.4 \u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_5-2-4-\u4F7F\u7528\u5BB9\u5668\u5377\u521B\u5EFA\u65B0\u5BB9\u5668","aria-hidden":"true"},"#")],-1),Qe=e("pre",null,[e("code",null,`docker run -d  -p 8090:80 --volume xiaoniao:/usr/share/nginx/html nginx:latest
`)],-1),en=e("h2",{id:"_5-3-\u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762",tabindex:"-1"},[n("5.3 \u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762 "),e("a",{class:"header-anchor",href:"#_5-3-\u5B9E\u9A8C-\u8BBF\u95EE\u4E0D\u540C\u7AEF\u53E3\u5C55\u793A\u4E0D\u540C\u9875\u9762","aria-hidden":"true"},"#")],-1),nn=e("p",null,[e("code",null,"\u9700\u6C42\uFF1A"),n(" \u8BBF\u95EE8080\u7AEF\u53E3\uFF0C\u5C55\u793Axiaoniao\u9996\u9875 \u8BBF\u95EE8090\u7AEF\u53E3\uFF0C\u5C55\u793A\u6E38\u620F\u96C6\u5408\u9875\u9762")],-1),on=e("h2",{id:"_5-3-1-\u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6",tabindex:"-1"},[n("5.3.1 \u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6 "),e("a",{class:"header-anchor",href:"#_5-3-1-\u51C6\u5907nginx\u914D\u7F6E\u6587\u4EF6","aria-hidden":"true"},"#")],-1),rn=e("pre",null,[e("code",null,`[root@docker01 ~]# cat /data/game.conf 
server {
    listen       8080;
    server_name  localhost;
    location / {
        root   /opt/game/;
        index  index.html index.htm;
    }
}

server {
    listen       8090;
    server_name  localhost;
    location / {
        root   /opt/xiaoniao/;
        index  index.html index.htm;
    }
}
`)],-1),ln=e("h2",{id:"_5-3-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55",tabindex:"-1"},[n("5.3.2 \u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55 "),e("a",{class:"header-anchor",href:"#_5-3-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55","aria-hidden":"true"},"#")],-1),tn=e("pre",null,[e("code",null,`[root@docker01 /data]# ll 
\u603B\u7528\u91CF 18896
drwxr-xr-x 5 root root       73 9\u6708   7 23:03 game
-rw-r--r-- 1 root root      309 9\u6708   7 22:57 game.conf
-rw-r--r-- 1 root root 19248295 8\u6708  28 09:48 html5.zip
drwxr-xr-x 3 root root       92 9\u6708   7 22:15 xiaoniao
-rw-r--r-- 1 root root    91014 9\u6708   7 22:11 xiaoniaofeifei.zip
`)],-1),dn=e("h2",{id:"_5-3-3-\u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D",tabindex:"-1"},[n("5.3.3 \u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D "),e("a",{class:"header-anchor",href:"#_5-3-3-\u521B\u5EFA\u5BB9\u5668\u5E76\u6302\u8F7D","aria-hidden":"true"},"#")],-1),cn=e("p",null,"\u9700\u8981\u6302\u8F7D\u7684\u5185\u5BB9\uFF1A 1.nginx\u914D\u7F6E\u6587\u4EF6 2.\u6E38\u620F\u76EE\u5F55 \u521B\u5EFA\u5BB9\u5668\u547D\u4EE4",-1),sn=e("pre",null,[e("code",null,`docker run -d -p 8080:8080 -p 8090:8090 -v /data/game.conf:/etc/nginx/conf.d/game.conf -v /data/game:/opt/game -v /data/xiaoniao:/opt/xiaoniao nginx:latest   
5.3.4 \u8BBF\u95EE\u6D4B\u8BD5
10.0.1.11:8080
10.0.1.11:8090
`)],-1),an=e("h1",{id:"\u7B2C6\u7AE0-docker\u955C\u50CF\u624B\u52A8\u6784\u5EFA",tabindex:"-1"},[n("\u7B2C6\u7AE0 Docker\u955C\u50CF\u624B\u52A8\u6784\u5EFA "),e("a",{class:"header-anchor",href:"#\u7B2C6\u7AE0-docker\u955C\u50CF\u624B\u52A8\u6784\u5EFA","aria-hidden":"true"},"#")],-1),hn=e("h2",{id:"_6-1-\u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF",tabindex:"-1"},[n("6.1 \u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_6-1-\u624B\u52A8\u5236\u4F5C\u6E38\u620F\u955C\u50CF","aria-hidden":"true"},"#")],-1),_n=e("p",null,"\u4E0B\u9762\u6211\u4EEC\u57FA\u4E8Ecentos\u5BB9\u5668\u5236\u4F5C\u4E00\u4E2A\u65B0\u955C\u50CF\uFF0C\u5E76\u5B89\u88C5nginx\u670D\u52A1",-1),un=e("h2",{id:"_6-1-1-\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx",tabindex:"-1"},[n("6.1.1 \u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx "),e("a",{class:"header-anchor",href:"#_6-1-1-\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u5E76\u5B89\u88C5nginx","aria-hidden":"true"},"#")],-1),kn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker run -it centos /bin/bash
[root@0ede2760ba65 /]# yum install wget install openssh-clients -y 
[root@0ede2760ba65 /]# wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
[root@0ede2760ba65 /]# wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
[root@0ede2760ba65 /]# sed -i -e '/mirrors.cloud.aliyuncs.com/d' -e '/mirrors.aliyuncs.com/d' /etc/yum.repos.d/CentOS-Base.repo
[root@0ede2760ba65 /]# cat /etc/yum.repos.d/nginx.repo  
[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
[root@0ede2760ba65 /]# yum makecache fast
[root@0ede2760ba65 /]# yum install nginx -y
`)],-1),pn=e("h2",{id:"_6-1-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6",tabindex:"-1"},[n("6.1.2 \u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6 "),e("a",{class:"header-anchor",href:"#_6-1-2-\u4E0A\u4F20\u4EE3\u7801\u76EE\u5F55\u5E76\u914D\u7F6Enginx\u914D\u7F6E\u6587\u4EF6","aria-hidden":"true"},"#")],-1),gn=e("pre",null,[e("code",null,`[root@0ede2760ba65 /]# scp -r 10.0.1.11:/data/* /opt/
[root@0ede2760ba65 /]# ll /opt/
total 18896
drwxr-xr-x 5 root root       73 Sep  7 16:02 game
-rw-r--r-- 1 root root      303 Sep  7 16:02 game.conf
-rw-r--r-- 1 root root 19248295 Sep  7 16:02 html5.zip
drwxr-xr-x 3 root root       92 Sep  7 16:02 xiaoniao
-rw-r--r-- 1 root root    91014 Sep  7 16:02 xiaoniaofeifei.zip
[root@0ede2760ba65 /]# cp /opt/game.conf /etc/nginx/conf.d/
`)],-1),fn=e("h2",{id:"_6-1-3-\u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF",tabindex:"-1"},[n("6.1.3 \u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_6-1-3-\u5C06\u5BB9\u5668\u63D0\u4EA4\u4E3A\u65B0\u7684\u955C\u50CF","aria-hidden":"true"},"#")],-1),bn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker ps -aq
0ede2760ba65
[root@docker01 ~]# docker commit 0ede2760ba65 game:v1
sha256:a61d28fbfe27ebe36d4b73825b55e5f94097083273ab56dccce0453ce2bd6d38
`)],-1),mn=e("h2",{id:"_6-1-4-\u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528",tabindex:"-1"},[n("6.1.4 \u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528 "),e("a",{class:"header-anchor",href:"#_6-1-4-\u6D4B\u8BD5\u955C\u50CF\u529F\u80FD\u662F\u5426\u53EF\u7528","aria-hidden":"true"},"#")],-1),xn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker run -d -p 8080:8080 -p 8090:8090 game:v1  nginx -g 'daemon off;'
f58f209d4761c4bdd9bb164c0050a94a3273b1ee0e57eafe29e48b1517c72950
`)],-1),vn=e("h2",{id:"_6-1-5-\u5C06\u65B0\u955C\u50CF\u5BFC\u51FA",tabindex:"-1"},[n("6.1.5 \u5C06\u65B0\u955C\u50CF\u5BFC\u51FA "),e("a",{class:"header-anchor",href:"#_6-1-5-\u5C06\u65B0\u955C\u50CF\u5BFC\u51FA","aria-hidden":"true"},"#")],-1),Dn=e("pre",null,[e("code",null,`docker save -o game_v1.tar game:v1
`)],-1),yn=e("h2",{id:"_6-2-\u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF",tabindex:"-1"},[n("6.2 \u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_6-2-\u624B\u52A8\u5236\u4F5C\u4E91\u76D8\u955C\u50CF","aria-hidden":"true"},"#")],-1),Sn=e("h2",{id:"_6-2-1-\u521B\u5EFA\u5BB9\u5668",tabindex:"-1"},[n("6.2.1 \u521B\u5EFA\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_6-2-1-\u521B\u5EFA\u5BB9\u5668","aria-hidden":"true"},"#")],-1),wn=e("pre",null,[e("code",null,`docker run -d -p 80:80 --name clould game:v1  nginx -g 'daemon off;'
`)],-1),On=e("h2",{id:"_6-2-2-\u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237",tabindex:"-1"},[n("6.2.2 \u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237 "),e("a",{class:"header-anchor",href:"#_6-2-2-\u8FDB\u5165\u5BB9\u5668\u5B89\u88C5php\u5E76\u6C42\u6539\u8FD0\u884C\u7528\u6237","aria-hidden":"true"},"#")],-1),En=e("pre",null,[e("code",null,`[root@d0c987bcefa2 /]# yum install php-fpm -y
[root@d0c987bcefa2 /]# php-fpm -v
PHP 5.4.16 (fpm-fcgi) (built: Oct 30 2018 19:32:20)
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies
[root@d0c987bcefa2 /]# sed -i '/^user/c user = nginx' /etc/php-fpm.d/www.conf
[root@d0c987bcefa2 /]# sed -i '/^group/c group = nginx' /etc/php-fpm.d/www.conf
[root@d0c987bcefa2 /]# sed -i '/daemonize/s#no#yes#g' /etc/php-fpm.conf     
[root@d0c987bcefa2 /]# php-fpm -c /etc/php.ini -y /etc/php-fpm.conf
[root@d0c987bcefa2 /]# php-fpm -c /etc/php.ini -y /etc/php-fpm.conf                                   
[root@d0c987bcefa2 /]# ps -ef|grep php
root         77      0  0 21:43 ?        00:00:00 php-fpm: master process (/etc/php-fpm.conf)
nginx        78     77  0 21:43 ?        00:00:00 php-fpm: pool www
nginx        79     77  0 21:43 ?        00:00:00 php-fpm: pool www
nginx        80     77  0 21:43 ?        00:00:00 php-fpm: pool www
nginx        81     77  0 21:43 ?        00:00:00 php-fpm: pool www
nginx        82     77  0 21:43 ?        00:00:00 php-fpm: pool www
`)],-1),Cn=e("h2",{id:"_6-2-3-\u914D\u7F6Enginx",tabindex:"-1"},[n("6.2.3 \u914D\u7F6Enginx "),e("a",{class:"header-anchor",href:"#_6-2-3-\u914D\u7F6Enginx","aria-hidden":"true"},"#")],-1),In=e("pre",null,[e("code",null,`[root@d0c987bcefa2 /]# cat /etc/nginx/conf.d/cloud.conf   
server {
    listen 80;
    server_name localhost;
    root /code;
    index index.php index.html;

    location ~ \\.php$ {
        root /code;
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
[root@d0c987bcefa2 /]# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
[root@d0c987bcefa2 /]# nginx -s reload
`)],-1),Nn=e("h2",{id:"_6-2-4-\u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55",tabindex:"-1"},[n("6.2.4 \u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55 "),e("a",{class:"header-anchor",href:"#_6-2-4-\u4E0B\u8F7D\u4EE3\u7801\u76EE\u5F55","aria-hidden":"true"},"#")],-1),Rn=e("pre",null,[e("code",null,`[root@d0c987bcefa2 /]# mkdir /code
[root@d0c987bcefa2 /]# cd /code/
[root@d0c987bcefa2 code]# scp -r 10.0.1.11:/data/kod/* /code/
[root@d0c987bcefa2 code]# ls
ChangeLog.md  README.MD  app  config  data  index.php  plugins  static
[root@d0c987bcefa2 code]# chown -R nginx:nginx /code/
`)],-1),Mn=e("h2",{id:"_6-2-5-\u6D4B\u8BD5",tabindex:"-1"},[n("6.2.5 \u6D4B\u8BD5 "),e("a",{class:"header-anchor",href:"#_6-2-5-\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),An=e("pre",null,[e("code",null,`[root@d0c987bcefa2 code]# curl -I 127.0.0.1
HTTP/1.1 302 Moved Temporarily
Server: nginx/1.16.1
Date: Sat, 07 Sep 2019 21:53:17 GMT
Content-Type: text/html; charset=utf-8
Connection: keep-alive
X-Powered-By: PHP/5.4.16
Set-Cookie: KOD_SESSION_ID_9d6d9=ljq63o0tmcscon6eb3gdpqscf4; path=/
Set-Cookie: KOD_SESSION_ID_9d6d9=ljq63o0tmcscon6eb3gdpqscf4; path=/
Set-Cookie: KOD_SESSION_ID_9d6d9=ljq63o0tmcscon6eb3gdpqscf4; path=/
Set-Cookie: KOD_SESSION_SSO=bboh1p0h1uc50tfibrg67dnra7; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Set-Cookie: KOD_SESSION_ID_9d6d9=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/
Set-Cookie: kod_name=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT
Set-Cookie: kodToken=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT
Set-Cookie: X-CSRF-TOKEN=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT
Location: ./index.php?user/login
`)],-1),Un=e("h2",{id:"_6-2-6-\u63D0\u4EA4\u65B0\u7684\u955C\u50CF",tabindex:"-1"},[n("6.2.6 \u63D0\u4EA4\u65B0\u7684\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_6-2-6-\u63D0\u4EA4\u65B0\u7684\u955C\u50CF","aria-hidden":"true"},"#")],-1),Tn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker commit d0c987bcefa2 kod:v1
sha256:169df6e8db11bd044e3e05237f2947783f9cc7a65b643dc9206ecf05fdc4a3ea
`)],-1),Pn=e("h2",{id:"_6-2-7-\u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF",tabindex:"-1"},[n("6.2.7 \u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_6-2-7-\u7F16\u5199\u542F\u52A8\u811A\u672C\u5E76\u63D0\u4EA4\u65B0\u955C\u50CF","aria-hidden":"true"},"#")],-1),Gn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker exec -it c14835183fb5 /bin/bash
[root@c14835183fb5 /]# cat init.sh     
#!/bin/bash
php-fpm -c /etc/php.ini -y /etc/php-fpm.conf
nginx -g 'daemon off;'
[root@c14835183fb5 /]# chmod +x init.sh 
[root@docker01 ~]# docker commit c14835183fb5 kod:v2
sha256:c05ebdf400aa7f7a27aa857df0d9c75c42943db89abca66f79101771db8e9585
`)],-1),$n=e("h2",{id:"_6-2-8-\u542F\u52A8\u6D4B\u8BD5",tabindex:"-1"},[n("6.2.8 \u542F\u52A8\u6D4B\u8BD5 "),e("a",{class:"header-anchor",href:"#_6-2-8-\u542F\u52A8\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),zn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker stop $(docker ps -qa)
[root@docker01 ~]# docker run -d -p 80:80 kod:v2 /bin/bash /init.sh
dccf4aea5471713872e4fefaca45f7fac3bffec8f5f602570863ed14231dea1a
[root@docker01 ~]# docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                            NAMES
dccf4aea5471        kod:v2              "/bin/bash /init.sh"     36 seconds ago      Up 35 seconds       0.0.0.0:80->80/tcp                               magical_napier
`)],-1),Ln=e("h2",{id:"_6-2-9-\u6DFB\u52A0gd\u5E93",tabindex:"-1"},[n("6.2.9 \u6DFB\u52A0GD\u5E93 "),e("a",{class:"header-anchor",href:"#_6-2-9-\u6DFB\u52A0gd\u5E93","aria-hidden":"true"},"#")],-1),Bn=e("p",null,"\u6B64\u65F6\u6253\u5F00\u9875\u9762\u63D0\u793A\u7F3A\u5C11GD\u5E93\uFF0C\u8FDB\u5165\u5BB9\u5668\u5185\u5B89\u88C5php\u652F\u6301\u63D2\u4EF6",-1),jn=e("pre",null,[e("code",null,`[root@dccf4aea5471 /]yum install php-mbstring php-gd -y
`)],-1),qn=e("p",null,"\u7136\u540E\u91CD\u542F\u5BB9\u5668",-1),Vn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker restart dccf4aea5471
`)],-1),Fn=e("h2",{id:"_6-2-10-\u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF",tabindex:"-1"},[n("6.2.10 \u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_6-2-10-\u8BBF\u95EE\u6D4B\u8BD5\u6CA1\u95EE\u9898\u540E\u63D0\u4EA4\u65B0\u955C\u50CF","aria-hidden":"true"},"#")],-1),Kn=e("pre",null,[e("code",null,`[root@docker01 ~]# docker commit dccf4aea5471 kod:v2
sha256:23051ce545a2eb6bb50bb2307bd9cfbaf6139e52f205a4126fb1d8d974c417f4
`)],-1),Xn=e("h1",{id:"\u7B2C7\u7AE0-dockerfile\u81EA\u52A8\u6784\u5EFAdocker\u955C\u50CF",tabindex:"-1"},[n("\u7B2C7\u7AE0 Dockerfile\u81EA\u52A8\u6784\u5EFADocker\u955C\u50CF "),e("a",{class:"header-anchor",href:"#\u7B2C7\u7AE0-dockerfile\u81EA\u52A8\u6784\u5EFAdocker\u955C\u50CF","aria-hidden":"true"},"#")],-1),Yn=e("h2",{id:"_7-1-dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E",tabindex:"-1"},[n("7.1 Dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E "),e("a",{class:"header-anchor",href:"#_7-1-dockerfile\u64CD\u4F5C\u547D\u4EE4\u8BF4\u660E","aria-hidden":"true"},"#")],-1),Zn=e("pre",null,[e("code",null,`Docker\u901A\u8FC7\u5BF9\u4E8E\u5728Dockerfile\u4E2D\u7684\u4E00\u7CFB\u5217\u6307\u4EE4\u7684\u987A\u5E8F\u89E3\u6790\u5B9E\u73B0\u81EA\u52A8\u7684image\u7684\u6784\u5EFA
\u3000\u3000\u901A\u8FC7\u4F7F\u7528build\u547D\u4EE4\uFF0C\u6839\u636EDockerfiel\u7684\u63CF\u8FF0\u6765\u6784\u5EFA\u955C\u50CF
\u3000\u3000\u901A\u8FC7\u6E90\u4EE3\u7801\u8DEF\u5F84\u7684\u65B9\u5F0F
\u3000\u3000\u901A\u8FC7\u6807\u51C6\u8F93\u5165\u6D41\u7684\u65B9\u5F0F
Dockerfile\u6307\u4EE4\uFF1A
\u3000\u3000\u53EA\u652F\u6301Docker\u81EA\u5DF1\u5B9A\u4E49\u7684\u4E00\u5957\u6307\u4EE4\uFF0C\u4E0D\u652F\u6301\u81EA\u5B9A\u4E49
\u3000\u3000\u5927\u5C0F\u5199\u4E0D\u654F\u611F\uFF0C\u4F46\u662F\u5EFA\u8BAE\u5168\u90E8\u4F7F\u7528\u5927\u5199
\u3000\u3000\u6839\u636EDockerfile\u7684\u5185\u5BB9\u987A\u5E8F\u6267\u884C
FROM\uFF1A
\u3000\u3000FROM {base\u955C\u50CF}
\u3000\u3000\u5FC5\u987B\u653E\u5728DOckerfile\u7684\u7B2C\u4E00\u884C\uFF0C\u8868\u793A\u4ECE\u54EA\u4E2Abaseimage\u5F00\u59CB\u6784\u5EFA
MAINTAINER\uFF1A
\u3000\u3000\u53EF\u9009\u7684\uFF0C\u7528\u6765\u6807\u8BC6image\u4F5C\u8005\u7684\u5730\u65B9
RUN\uFF1A
\u3000\u3000\u6BCF\u4E00\u4E2ARUN\u6307\u4EE4\u90FD\u4F1A\u662F\u5728\u4E00\u4E2A\u65B0\u7684container\u91CC\u9762\u8FD0\u884C\uFF0C\u5E76\u63D0\u4EA4\u4E3A\u4E00\u4E2Aimage\u4F5C\u4E3A\u4E0B\u4E00\u4E2ARUN\u7684base
\u3000\u3000\u4E00\u4E2ADockerfile\u4E2D\u53EF\u4EE5\u5305\u542B\u591A\u4E2ARUN\uFF0C\u6309\u5B9A\u4E49\u987A\u5E8F\u6267\u884C
\u3000\u3000RUN\u652F\u6301\u4E24\u79CD\u8FD0\u884C\u65B9\u5F0F\uFF1A
\u3000\u3000\u3000\u3000RUN <cmd> \u8FD9\u4E2A\u4F1A\u5F53\u4F5C/bin/sh -c \u201Ccmd\u201D \u8FD0\u884C
\u3000\u3000\u3000\u3000RUN [\u201Cexecutable\u201D\uFF0C\u201Carg1\u201D\uFF0C\u3002\u3002]\uFF0CDocker\u628A\u4ED6\u5F53\u4F5Cjson\u7684\u987A\u5E8F\u6765\u89E3\u6790\uFF0C\u56E0\u6B64\u5FC5\u987B\u4F7F\u7528\u53CC\u5F15\u53F7\uFF0C\u800C\u4E14executable\u9700\u8981\u662F\u5B8C\u6574\u8DEF\u5F84
\u3000\u3000RUN \u90FD\u662F\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u3001\u6267\u884C\u547D\u4EE4\u3001\u7136\u540E\u63D0\u4EA4\u5B58\u50A8\u5C42\u6587\u4EF6\u53D8\u66F4\u3002\u7B2C\u4E00\u5C42 RUN command1 \u7684\u6267\u884C\u4EC5\u4EC5\u662F\u5F53\u524D\u8FDB\u7A0B\uFF0C\u4E00\u4E2A\u5185\u5B58\u4E0A\u7684\u53D8\u5316\u800C\u5DF2\uFF0C\u5176\u7ED3\u679C\u4E0D\u4F1A\u9020\u6210\u4EFB\u4F55\u6587\u4EF6\u3002\u800C\u5230\u7B2C\u4E8C\u5C42\u7684\u65F6\u5019\uFF0C\u542F\u52A8\u7684\u662F\u4E00\u4E2A\u5168\u65B0\u7684\u5BB9\u5668\uFF0C\u8DDF\u7B2C\u4E00\u5C42\u7684\u5BB9\u5668\u66F4\u5B8C\u5168\u6CA1\u5173\u7CFB\uFF0C\u81EA\u7136\u4E0D\u53EF\u80FD\u7EE7\u627F\u524D\u4E00\u5C42\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u7684\u5185\u5B58\u53D8\u5316\u3002\u800C\u5982\u679C\u9700\u8981\u5C06\u4E24\u6761\u547D\u4EE4\u6216\u8005\u591A\u6761\u547D\u4EE4\u8054\u5408\u8D77\u6765\u6267\u884C\u9700\u8981\u52A0\u4E0A&&\u3002\u5982\uFF1Acd /usr/local/src && wget xxxxxxx
CMD\uFF1A
\u3000\u3000CMD\u7684\u4F5C\u7528\u662F\u4F5C\u4E3A\u6267\u884Ccontainer\u65F6\u5019\u7684\u9ED8\u8BA4\u884C\u4E3A\uFF08\u5BB9\u5668\u9ED8\u8BA4\u7684\u542F\u52A8\u547D\u4EE4\uFF09
\u3000\u3000\u5F53\u8FD0\u884Ccontainer\u7684\u65F6\u5019\u58F0\u660E\u4E86command\uFF0C\u5219\u4E0D\u518D\u7528image\u4E2D\u7684CMD\u9ED8\u8BA4\u6240\u5B9A\u4E49\u7684\u547D\u4EE4
\u3000\u3000\u4E00\u4E2ADockerfile\u4E2D\u53EA\u80FD\u6709\u4E00\u4E2A\u6709\u6548\u7684CMD\uFF0C\u5F53\u5B9A\u4E49\u591A\u4E2ACMD\u7684\u65F6\u5019\uFF0C\u53EA\u6709\u6700\u540E\u4E00\u4E2A\u624D\u4F1A\u8D77\u4F5C\u7528 
CMD\u5B9A\u4E49\u7684\u4E09\u79CD\u65B9\u5F0F\uFF1A
\u3000\u3000CMD <cmd> \u8FD9\u4E2A\u4F1A\u5F53\u4F5C/bin/sh -c "cmd"\u6765\u6267\u884C
\u3000\u3000CMD ["executable","arg1",....]
\u3000\u3000CMD ["arg1","arg2"]\uFF0C\u8FD9\u4E2A\u65F6\u5019CMD\u4F5C\u4E3AENTRYPOINT\u7684\u53C2\u6570 
EXPOSE \u58F0\u660E\u7AEF\u53E3
\u3000\u3000\u683C\u5F0F\u4E3A EXPOSE <\u7AEF\u53E31> [<\u7AEF\u53E32>...]\u3002
\u3000\u3000EXPOSE \u6307\u4EE4\u662F\u58F0\u660E\u8FD0\u884C\u65F6\u5BB9\u5668\u63D0\u4F9B\u670D\u52A1\u7AEF\u53E3\uFF0C\u8FD9\u53EA\u662F\u4E00\u4E2A\u58F0\u660E\uFF0C\u5728\u8FD0\u884C\u65F6\u5E76\u4E0D\u4F1A\u56E0\u4E3A\u8FD9\u4E2A\u58F0\u660E\u5E94\u7528\u5C31\u4F1A\u5F00\u542F\u8FD9\u4E2A\u7AEF\u53E3\u7684\u670D\u52A1\u3002\u5728 Dockerfile \u4E2D\u5199\u5165\u8FD9\u6837\u7684\u58F0\u660E\u6709\u4E24\u4E2A\u597D\u5904\uFF0C\u4E00\u4E2A\u662F\u5E2E\u52A9\u955C\u50CF\u4F7F\u7528\u8005\u7406\u89E3\u8FD9\u4E2A\u955C\u50CF\u670D\u52A1\u7684\u5B88\u62A4\u7AEF\u53E3\uFF0C\u4EE5\u65B9\u4FBF\u914D\u7F6E\u6620\u5C04\uFF1B\u53E6\u4E00\u4E2A\u7528\u5904\u5219\u662F\u5728\u8FD0\u884C\u65F6\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\u6620\u5C04\u65F6\uFF0C\u4E5F\u5C31\u662F docker run -P \u65F6\uFF0C\u4F1A\u81EA\u52A8\u968F\u673A\u6620\u5C04 EXPOSE \u7684\u7AEF\u53E3\u3002
entrypoint\uFF1A
\u3000\u3000entrypoint\u7684\u4F5C\u7528\u662F\uFF0C\u628A\u6574\u4E2Acontainer\u53D8\u6210\u4E86\u4E00\u4E2A\u53EF\u6267\u884C\u7684\u6587\u4EF6\uFF0C\u8FD9\u6837\u4E0D\u80FD\u591F\u901A\u8FC7\u66FF\u6362CMD\u7684\u65B9\u6CD5\u6765\u6539\u53D8\u521B\u5EFAcontainer\u7684\u65B9\u5F0F\u3002\u4F46\u662F\u53EF\u4EE5\u901A\u8FC7\u53C2\u6570\u4F20\u9012\u7684\u65B9\u6CD5\u5F71\u54CD\u5230container\u5185\u90E8
\u3000\u3000\u6BCF\u4E2ADockerfile\u53EA\u80FD\u591F\u5305\u542B\u4E00\u4E2Aentrypoint\uFF0C\u591A\u4E2Aentrypoint\u53EA\u6709\u6700\u540E\u4E00\u4E2A\u6709\u6548
\u3000\u3000\u5F53\u5B9A\u4E49\u4E86entrypoint\u4EE5\u540E\uFF0CCMD\u53EA\u80FD\u591F\u4F5C\u4E3A\u53C2\u6570\u8FDB\u884C\u4F20\u9012
entrypoint\u5B9A\u4E49\u65B9\u5F0F\uFF1A
\u3000\u3000entrypoint ["executable","arg1","arg2"]\uFF0C\u8FD9\u79CD\u5B9A\u4E49\u65B9\u5F0F\u4E0B\uFF0CCMD\u53EF\u4EE5\u901A\u8FC7json\u7684\u65B9\u5F0F\u6765\u5B9A\u4E49entrypoint\u7684\u53C2\u6570\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5728\u8FD0\u884Ccontainer\u7684\u65F6\u5019\u901A\u8FC7\u6307\u5B9Acommand\u7684\u65B9\u5F0F\u4F20\u9012\u53C2\u6570
\u3000\u3000entrypoint <cmd>\uFF0C\u5F53\u4F5C/bin/bash -c "cmd"\u8FD0\u884C\u547D\u4EE4
ADD & COPY\uFF1A
\u3000\u3000\u5F53\u5728\u6E90\u4EE3\u7801\u6784\u5EFA\u7684\u65B9\u5F0F\u4E0B\uFF0C\u53EF\u4EE5\u901A\u8FC7ADD\u548CCOPY\u7684\u65B9\u5F0F\uFF0C\u628Ahost\u4E0A\u7684\u6587\u4EF6\u6216\u8005\u76EE\u5F55\u590D\u5236\u5230image\u4E2D
\u3000\u3000ADD\u548CCOPY\u7684\u6E90\u5FC5\u987B\u5728context\u8DEF\u5F84\u4E0B
\u3000\u3000\u5F53src\u4E3A\u7F51\u7EDCURL\u7684\u60C5\u51B5\u4E0B\uFF0CADD\u6307\u4EE4\u53EF\u4EE5\u628A\u5B83\u4E0B\u8F7D\u5230dest\u7684\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u8FD9\u4E2A\u5728\u4EFB\u4F55build\u7684\u65B9\u5F0F\u4E0B\u90FD\u53EF\u4EE5work
\u3000\u3000ADD\u76F8\u5BF9COPY\u8FD8\u6709\u4E00\u4E2A\u591A\u7684\u529F\u80FD\uFF0C\u80FD\u591F\u8FDB\u884C\u81EA\u52A8\u89E3\u538B\u538B\u7F29\u5305
ENV\uFF1A
\u3000\u3000ENV key value
    \u8C03\u7528\u53D8\u91CF\u683C\u5F0F\uFF1A\${key}
\u3000\u3000\u7528\u6765\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\uFF0C\u540E\u7EED\u7684RUN\u53EF\u4EE5\u4F7F\u7528\u5B83\u6240\u521B\u5EFA\u7684\u73AF\u5883\u53D8\u91CF
\u3000\u3000\u5F53\u521B\u5EFA\u57FA\u4E8E\u8BE5\u955C\u50CF\u7684container\u7684\u65F6\u5019\uFF0C\u4F1A\u81EA\u52A8\u62E5\u6709\u8BBE\u7F6E\u7684\u73AF\u5883\u53D8\u91CF 
WORKDIR\uFF1A
\u3000\u3000\u7528\u6765\u6307\u5B9A\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\uFF08\u6216\u8005\u79F0\u4E3A\u5F53\u524D\u76EE\u5F55\uFF09
\u3000\u3000\u5F53\u4F7F\u7528\u76F8\u5BF9\u76EE\u5F55\u7684\u60C5\u51B5\u4E0B\uFF0C\u91C7\u7528\u4E0A\u4E00\u4E2AWORKDIR\u6307\u5B9A\u7684\u76EE\u5F55\u4F5C\u4E3A\u57FA\u51C6 
USER\uFF1A
\u3000\u3000\u6307\u5B9AUID\u6216\u8005username\uFF0C\u6765\u51B3\u5B9A\u8FD0\u884CRUN\u6307\u4EE4\u7684\u7528\u6237 
ONBUILD\uFF1A
\u3000\u3000ONBUILD\u4F5C\u4E3A\u4E00\u4E2Atrigger\u7684\u6807\u8BB0\uFF0C\u53EF\u4EE5\u7528\u6765trigger\u4EFB\u4F55Dockerfile\u4E2D\u7684\u6307\u4EE4
\u3000\u3000\u53EF\u4EE5\u5B9A\u4E49\u591A\u4E2AONBUILD\u6307\u4EE4
\u3000\u3000\u5F53\u4E0B\u4E00\u4E2A\u955C\u50CFB\u4F7F\u7528\u955C\u50CFA\u4F5C\u4E3Abase\u7684\u65F6\u5019\uFF0C\u5728FROM A\u6307\u4EE4\u524D\uFF0C\u4F1A\u5148\u6309\u7167\u987A\u5E8F\u6267\u884C\u5728\u6784\u5EFAA\u65F6\u5019\u5B9A\u4E49\u7684ONBUILD\u6307\u4EE4
\u3000\u3000ONBUILD <DOCKERFILE \u6307\u4EE4> <content>
VOLUME\uFF1A
\u3000\u3000\u7528\u6765\u521B\u5EFA\u4E00\u4E2A\u5728image\u4E4B\u5916\u7684mount point\uFF0C\u7528\u6765\u5728\u591A\u4E2Acontainer\u4E4B\u95F4\u5B9E\u73B0\u6570\u636E\u5171\u4EAB
\u3000\u3000\u8FD0\u884C\u4F7F\u7528json array\u7684\u65B9\u5F0F\u5B9A\u4E49\u591A\u4E2Avolume
\u3000\u3000VOLUME ["/var/data1","/var/data2"]
\u3000\u3000\u6216\u8005plain text\u7684\u60C5\u51B5\u4E0B\u5B9A\u4E49\u591A\u4E2AVOLUME\u6307\u4EE4
`)],-1),Hn=e("h2",{id:"_7-2-\u4F7F\u7528dockerfile\u521B\u5EFA\u4E91\u76D8",tabindex:"-1"},[n("7.2 \u4F7F\u7528Dockerfile\u521B\u5EFA\u4E91\u76D8 "),e("a",{class:"header-anchor",href:"#_7-2-\u4F7F\u7528dockerfile\u521B\u5EFA\u4E91\u76D8","aria-hidden":"true"},"#")],-1),Jn=e("h2",{id:"_7-2-1-\u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6",tabindex:"-1"},[n("7.2.1 \u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6 "),e("a",{class:"header-anchor",href:"#_7-2-1-\u51C6\u5907\u9700\u8981\u7684\u6587\u4EF6","aria-hidden":"true"},"#")],-1),Wn=e("pre",null,[e("code",null,`[root@docker01 ~/dockerfile/kod]# ls CentOS-Base.repo cloud.conf dockerfile epel.repo init.sh kodexplorer4.40.zip nginx.repo
`)],-1),Qn=e("h2",{id:"_7-2-2-\u7F16\u5199dockerfile",tabindex:"-1"},[n("7.2.2 \u7F16\u5199dockerfile "),e("a",{class:"header-anchor",href:"#_7-2-2-\u7F16\u5199dockerfile","aria-hidden":"true"},"#")],-1),eo=e("pre",null,[e("code",null,`[root@docker01 ~/dockerfile/kod]# cat dockerfile 
FROM centos:latest

ADD CentOS-Base.repo  /etc/yum.repos.d/CentOS-Base.repo
ADD epel.repo  /etc/yum.repos.d/epel.repo
ADD nginx.repo  /etc/yum.repos.d/nginx.repo
RUN yum install nginx php-fpm unzip php-gd php-mbstring -y 

RUN rm -rf /etc/nginx/conf.d/default.conf 
RUN sed -i '/^user/c user = nginx' /etc/php-fpm.d/www.conf
RUN sed -i '/^group/c group = nginx' /etc/php-fpm.d/www.conf
RUN sed -i '/daemonize/s#no#yes#g' /etc/php-fpm.conf   
ADD cloud.conf /etc/nginx/conf.d/cloud.conf

RUN   mkdir /code
WORKDIR /code
ADD kodexplorer4.40.zip /code/kodexplorer4.40.zip 
RUN unzip kodexplorer4.40.zip 
RUN chown -R nginx:nginx .
VOLUME /code

ADD init.sh  /init.sh
EXPOSE 80

CMD ["/bin/bash","/init.sh"]
`)],-1),no=e("h2",{id:"_7-2-3-\u6784\u5EFA\u65B0\u955C\u50CF",tabindex:"-1"},[n("7.2.3 \u6784\u5EFA\u65B0\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_7-2-3-\u6784\u5EFA\u65B0\u955C\u50CF","aria-hidden":"true"},"#")],-1),oo=e("pre",null,[e("code",null,`[root@docker01 ~/dockerfile/kod]# docker build --network=host -t centos_kod:v1 .
[root@docker01 ~/dockerfile/kod]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
centos_kod          v1                  87071ea7c86b        2 minutes ago       465MB
`)],-1),ro=e("h2",{id:"_7-2-4-\u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668",tabindex:"-1"},[n("7.2.4 \u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668 "),e("a",{class:"header-anchor",href:"#_7-2-4-\u57FA\u4E8E\u65B0\u955C\u50CF\u8FD0\u884C\u5BB9\u5668","aria-hidden":"true"},"#")],-1),lo=e("pre",null,[e("code",null,`[root@docker01 ~/dockerfile/kod]# docker run -d -p 80:80 centos_kod:v1
4d1007d7194d434248762e5aca76070206643f0f0f533f2112d0359b25fe7ba0
`)],-1),io=e("h1",{id:"\u7B2C8\u7AE0-docker\u79C1\u6709\u4ED3\u5E93",tabindex:"-1"},[n("\u7B2C8\u7AE0 Docker\u79C1\u6709\u4ED3\u5E93 "),e("a",{class:"header-anchor",href:"#\u7B2C8\u7AE0-docker\u79C1\u6709\u4ED3\u5E93","aria-hidden":"true"},"#")],-1),to=e("h2",{id:"_8-1-\u666E\u901A\u7684docker-registry",tabindex:"-1"},[n("8.1 \u666E\u901A\u7684docker registry "),e("a",{class:"header-anchor",href:"#_8-1-\u666E\u901A\u7684docker-registry","aria-hidden":"true"},"#")],-1),co=e("h2",{id:"_8-2-\u5E26\u8BA4\u8BC1\u7684docker-registry",tabindex:"-1"},[n("8.2 \u5E26\u8BA4\u8BC1\u7684docker registry "),e("a",{class:"header-anchor",href:"#_8-2-\u5E26\u8BA4\u8BC1\u7684docker-registry","aria-hidden":"true"},"#")],-1),so=e("h2",{id:"_8-3-\u4F01\u4E1A\u7EA7\u7684docker-harbor",tabindex:"-1"},[n("8.3 \u4F01\u4E1A\u7EA7\u7684docker-harbor "),e("a",{class:"header-anchor",href:"#_8-3-\u4F01\u4E1A\u7EA7\u7684docker-harbor","aria-hidden":"true"},"#")],-1),ao=e("h2",{id:"_8-3-1-\u90E8\u7F72\u601D\u8DEF",tabindex:"-1"},[n("8.3.1 \u90E8\u7F72\u601D\u8DEF "),e("a",{class:"header-anchor",href:"#_8-3-1-\u90E8\u7F72\u601D\u8DEF","aria-hidden":"true"},"#")],-1),ho=e("pre",null,[e("code",null,`\u7B2C\u4E00\u6B65\uFF1A\u5B89\u88C5docker\u548Cdocker-compose
\u7B2C\u4E8C\u6B65\uFF1A\u4E0B\u8F7Dharbor-offline-installer-v1.9.0-rc1.tgz
\u7B2C\u4E09\u6B65\uFF1A\u4E0A\u4F20\u5230/opt,\u5E76\u89E3\u538B
\u7B2C\u56DB\u6B65\uFF1A\u4FEE\u6539harbor.yml\u914D\u7F6E\u6587\u4EF6 hostname = 10.0.0.11 harbor_admin_password = 123456
\u7B2C\u4E94\u6B65\uFF1A\u6267\u884Cinstall.sh
`)],-1),_o=e("h2",{id:"_8-3-2-\u5B89\u88C5docker-compose",tabindex:"-1"},[n("8.3.2 \u5B89\u88C5docker-compose "),e("a",{class:"header-anchor",href:"#_8-3-2-\u5B89\u88C5docker-compose","aria-hidden":"true"},"#")],-1),uo=e("p",null,"1.\u5B89\u88C5docker-compose",-1),ko=e("pre",null,[e("code",null,`yum install -y python2-pip
`)],-1),po=e("p",null,"2.\u8FD9\u91CC\u4F7F\u7528pip\u5B89\u88C5\uFF0C\u9ED8\u8BA4\u6E90\u4E3A\u56FD\u5916\uFF0C\u53EF\u4EE5\u4F7F\u7528\u56FD\u5185\u52A0\u901F\uFF0C\u76F8\u5173\u7F51\u7AD9",-1),go=e("pre",null,[e("code",null,`https://mirrors.tuna.tsinghua.edu.cn/help/pypi/
`)],-1),fo=e("p",null,"pip\u52A0\u901F\u64CD\u4F5C\u547D\u4EE4",-1),bo=e("pre",null,[e("code",null,`pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pip -U
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
`)],-1),mo=e("p",null,"3.\u7EE7\u7EED\u5B89\u88C5docker-compose",-1),xo=e("pre",null,[e("code",null,`pip install docker-compose
`)],-1),vo=e("p",null,"4.\u68C0\u67E5",-1),Do=e("pre",null,[e("code",null,`docker-compose version
`)],-1),yo=e("h2",{id:"_8-3-3-\u4E0A\u4F20\u89E3\u538Bdocker-harbor",tabindex:"-1"},[n("8.3.3 \u4E0A\u4F20\u89E3\u538Bdocker-harbor "),e("a",{class:"header-anchor",href:"#_8-3-3-\u4E0A\u4F20\u89E3\u538Bdocker-harbor","aria-hidden":"true"},"#")],-1),So=e("pre",null,[e("code",null,`[root@docker01 ~]# cd /opt/
[root@docker01 /opt]# ls
harbor-offline-installer-v1.9.0-rc1.tgz
[root@docker01 /opt]# tar zxf harbor-offline-installer-v1.9.0-rc1.tgz 
[root@docker01 /opt]# ls
harbor  harbor-offline-installer-v1.9.0-rc1.tgz
[root@docker01 /opt]# cd harbor/
`)],-1),wo=e("h2",{id:"_8-3-4-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6",tabindex:"-1"},[n("8.3.4 \u4FEE\u6539\u914D\u7F6E\u6587\u4EF6 "),e("a",{class:"header-anchor",href:"#_8-3-4-\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6","aria-hidden":"true"},"#")],-1),Oo=e("p",null,"\u4FEE\u65392\u4E2A\u5730\u65B9\uFF1A",-1),Eo=e("pre",null,[e("code",null,`[root@docker01 /opt/harbor]# egrep "10.0.1.11|123456" harbor.yml 
hostname: 10.0.1.11
harbor_admin_password: 123456
`)],-1),Co=e("h2",{id:"_8-3-5-\u5B89\u88C5",tabindex:"-1"},[n("8.3.5 \u5B89\u88C5 "),e("a",{class:"header-anchor",href:"#_8-3-5-\u5B89\u88C5","aria-hidden":"true"},"#")],-1),Io=e("pre",null,[e("code",null,`[root@docker01 /opt/harbor]# ./install.sh
`)],-1),No=e("h2",{id:"_8-3-6-\u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93",tabindex:"-1"},[n("8.3.6 \u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93 "),e("a",{class:"header-anchor",href:"#_8-3-6-\u4FEE\u6539docker\u4FE1\u4EFB\u4ED3\u5E93","aria-hidden":"true"},"#")],-1),Ro=e("pre",null,[e("code",null,`[root@docker01 /opt/harbor]# cat /etc/docker/daemon.json    
{
      "registry-mirrors": ["http://hub-mirror.c.163.com"],
      "insecure-registries": ["http://10.0.1.11"] 
}
`)],-1),Mo=e("h2",{id:"_8-3-7-\u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF",tabindex:"-1"},[n("8.3.7 \u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_8-3-7-\u91CD\u542Fdocker\u5E76\u4E0A\u4F20\u955C\u50CF","aria-hidden":"true"},"#")],-1),Ao=e("pre",null,[e("code",null,`systemctl restart docker  
`)],-1),Uo=e("h2",{id:"_8-3-8-\u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor",tabindex:"-1"},[n("8.3.8 \u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor "),e("a",{class:"header-anchor",href:"#_8-3-8-\u7ED9\u955C\u50CF\u6253\u6807\u7B7E\u5E76\u63D0\u4EA4\u5230dockerharbor","aria-hidden":"true"},"#")],-1),To=e("pre",null,[e("code",null,`[root@docker01 /opt/harbor]# docker login 10.0.1.11           
Username: zhangya 
Password: 
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
[root@docker01 ~]# docker run -d -p 8080:80 centos_kod:v1          
78be80f7c2029b68e8943e38fa99131ec6709f798e63c94afb5a7fdfa4a8047c
[root@docker01 ~]# docker ps|grep kod
78be80f7c202        centos_kod:v1                                       "/bin/bash /init.sh"     15 seconds ago      Up 13 seconds            0.0.0.0:8080->80/tcp        tender_dirac
[root@docker01 ~]# docker commit 78be80f7c202 10.0.1.11/linux/centos_kod:v1
sha256:6bf1e1eef1969bcd4c82472aed945d4dda74a923c0d7dae91e38539676f8c240
[root@docker01 ~/dockerfile/kod]# docker images
REPOSITORY                      TAG                        IMAGE ID            CREATED             SIZE
10.0.1.11/linux/centos_kod      v1                         6bf1e1eef196        13 minutes ago      465MB
[root@docker01 /opt/harbor]# docker push 10.0.1.11/linux/centos_kod:v1
`)],-1),Po=e("h2",{id:"_8-3-9-\u5728docker-harbor\u4E0A\u67E5\u770B",tabindex:"-1"},[n("8.3.9 \u5728docker-harbor\u4E0A\u67E5\u770B "),e("a",{class:"header-anchor",href:"#_8-3-9-\u5728docker-harbor\u4E0A\u67E5\u770B","aria-hidden":"true"},"#")],-1),Go=e("h2",{id:"_8-3-10-\u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF",tabindex:"-1"},[n("8.3.10 \u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF "),e("a",{class:"header-anchor",href:"#_8-3-10-\u5176\u4ED6\u4E3B\u673A\u4E0A\u4E0B\u8F7D\u955C\u50CF","aria-hidden":"true"},"#")],-1),$o=e("pre",null,[e("code",null,`[root@docker02 ~]# cat /etc/docker/daemon.json 
{
      "registry-mirrors": ["http://hub-mirror.c.163.com"],
      "insecure-registries": ["http://10.0.1.11"],
      "insecure-registries": ["https://10.0.1.11"] 
}
[root@docker02 ~]# docker pull 10.0.1.11/linux/centos_kod:v1
`)],-1);function zo(r,Lo,Bo,jo,t,qo){const d=c;return h(),a(d,{frontmatter:t.frontmatter,data:t.data},{"main-content-md":o(()=>[k,p,g,f,b,m,x,v,D,y,S,w,O,E,C,I,N,R,M,A,U,T,P,G,$,z,L,B,j,q,V,F,K,X,Y,Z,H,J,W,Q,ee,ne,oe,re,le,ie,te,de,ce,se,ae,he,_e,ue,ke,pe,ge,fe,be,me,xe,ve,De,ye,Se,we,Oe,Ee,Ce,Ie,Ne,Re,Me,Ae,Ue,Te,Pe,Ge,$e,ze,Le,Be,je,qe,Ve,Fe,Ke,Xe,Ye,Ze,He,Je,We,Qe,en,nn,on,rn,ln,tn,dn,cn,sn,an,hn,_n,un,kn,pn,gn,fn,bn,mn,xn,vn,Dn,yn,Sn,wn,On,En,Cn,In,Nn,Rn,Mn,An,Un,Tn,Pn,Gn,$n,zn,Ln,Bn,jn,qn,Vn,Fn,Kn,Xn,Yn,Zn,Hn,Jn,Wn,Qn,eo,no,oo,ro,lo,io,to,co,so,ao,ho,_o,uo,ko,po,go,fo,bo,mo,xo,vo,Do,yo,So,wo,Oo,Eo,Co,Io,No,Ro,Mo,Ao,Uo,To,Po,Go,$o]),"main-header":o(()=>[l(r.$slots,"main-header")]),"main-header-after":o(()=>[l(r.$slots,"main-header-after")]),"main-nav":o(()=>[l(r.$slots,"main-nav")]),"main-content":o(()=>[l(r.$slots,"main-content")]),"main-content-after":o(()=>[l(r.$slots,"main-content-after")]),"main-nav-before":o(()=>[l(r.$slots,"main-nav-before")]),"main-nav-after":o(()=>[l(r.$slots,"main-nav-after")]),comment:o(()=>[l(r.$slots,"comment")]),footer:o(()=>[l(r.$slots,"footer")]),aside:o(()=>[l(r.$slots,"aside")]),"aside-custom":o(()=>[l(r.$slots,"aside-custom")]),default:o(()=>[l(r.$slots,"default")]),_:3},8,["frontmatter","data"])}const Ho=s(u,[["render",zo]]);export{Zo as __pageData,Ho as default};
