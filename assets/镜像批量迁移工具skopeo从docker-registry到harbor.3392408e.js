import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang.21d7d1eb.js";import{_ as i,c as p,w as a,o as d,r as t,b as e,R as s,p as h}from"./app.0de90ffa.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.ae49d3a4.js";import"./YunCard.vue_vue_type_style_index_0_lang.19bf084c.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.38d1e54d.js";const V=JSON.parse('{"title":"\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor","description":"","frontmatter":{"title":"\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor","categories":"Kubernetes","tags":["skopeo"],"date":"2022-09-20T15:23:00.000Z"},"headers":[{"level":2,"title":"\u80CC\u666F","slug":"\u80CC\u666F","link":"#\u80CC\u666F","children":[{"level":3,"title":"\u5B89\u88C5","slug":"\u5B89\u88C5","link":"#\u5B89\u88C5","children":[]},{"level":3,"title":"\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","slug":"\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","link":"#\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","children":[]},{"level":3,"title":"\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","slug":"\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","link":"#\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","children":[]},{"level":3,"title":"\u8FC1\u79FB","slug":"\u8FC1\u79FB","link":"#\u8FC1\u79FB","children":[]}]}],"relativePath":"pages/posts/\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor.md","lastUpdated":1671090556000}'),l=JSON.parse('{"title":"\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor","description":"","frontmatter":{"title":"\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor","categories":"Kubernetes","tags":["skopeo"],"date":"2022-09-20T15:23:00.000Z"},"headers":[{"level":2,"title":"\u80CC\u666F","slug":"\u80CC\u666F","link":"#\u80CC\u666F","children":[{"level":3,"title":"\u5B89\u88C5","slug":"\u5B89\u88C5","link":"#\u5B89\u88C5","children":[]},{"level":3,"title":"\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","slug":"\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","link":"#\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","children":[]},{"level":3,"title":"\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","slug":"\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","link":"#\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","children":[]},{"level":3,"title":"\u8FC1\u79FB","slug":"\u8FC1\u79FB","link":"#\u8FC1\u79FB","children":[]}]}],"relativePath":"pages/posts/\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor.md","lastUpdated":1671090556000}'),m={name:"pages/posts/\u955C\u50CF\u6279\u91CF\u8FC1\u79FB\u5DE5\u5177skopeo\u4ECEdocker-registry\u5230harbor.md",data(){return{data:l,frontmatter:l.frontmatter}},setup(){h("pageData",l)}},u=e("h2",{id:"\u80CC\u666F",tabindex:"-1"},[s("\u80CC\u666F "),e("a",{class:"header-anchor",href:"#\u80CC\u666F","aria-hidden":"true"},"#")],-1),y=e("blockquote",null,[e("p",null,[s("docker-registry\u5730\u5740\uFF1A"),e("a",{href:"http://docker-registry.kococ.cn",target:"_blank",rel:"noreferrer"},"docker-registry.kococ.cn")]),e("p",null,[s("\u65B0\u955C\u50CF\u4ED3\u5E93harbor\u5730\u5740\uFF1A"),e("a",{href:"http://harbor.kococ.cn",target:"_blank",rel:"noreferrer"},"harbor.kococ.cn")]),e("p",null,"\u672C\u4F8B\u5C06docker-registry\u955C\u50CF\u8FC1\u79FB\u81F3 harbor")],-1),g=e("h3",{id:"\u5B89\u88C5",tabindex:"-1"},[s("\u5B89\u88C5 "),e("a",{class:"header-anchor",href:"#\u5B89\u88C5","aria-hidden":"true"},"#")],-1),k=e("blockquote",null,[e("p",null,"\u53EF\u4EE5\u4ECEgithub\u9879\u76EE\u76F4\u63A5\u4E0B\u8F7D\u4F7F\u7528\u4E8C\u8FDB\u5236\u547D\u4EE4"),e("p",null,"\u4E5F\u53EF\u4EE5\u5728centos\u670D\u52A1\u5668\u4E0A\u76F4\u63A5yum\u5B89\u88C5,\u9700\u8981epel\u6E90")],-1),D=e("div",{class:"language-bash"},[e("span",{class:"copy"}),e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"yum -y install skopeo")]),s(`
`),e("span",{class:"line"})])])],-1),b=e("h3",{id:"\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF",tabindex:"-1"},[s("\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF "),e("a",{class:"header-anchor",href:"#\u83B7\u53D6test\u8BE5namespace\u4E0B\u6240\u6709\u670D\u52A1\u955C\u50CF","aria-hidden":"true"},"#")],-1),_=e("blockquote",null,[e("p",null,"\u8FD9\u91CC\u6211\u7684\u539F\u955C\u50CF\u4E3Adocker-registry")],-1),f=e("div",{class:"language-bash"},[e("span",{class:"copy"}),e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"kubectl get deployment,statefulset,daemonset -o custom-columns="),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"NAME:metadata.name,IMAGES:spec.template.spec.containers[*].image"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}}," -n "),e("span",{style:{color:"#82AAFF"}},"test"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},">"),e("span",{style:{color:"#A6ACCD"}}," all-image")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#676E95"}},"## \u83B7\u53D6\u5230\u6240\u6709image\u4E4B\u540E\u5C06\u57DF\u540D\u53BB\u6389\u53EA\u4FDD\u7559\u9664\u57DF\u540D\u5916")]),s(`
`),e("span",{class:"line"})])])],-1),A=e("h3",{id:"\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93",tabindex:"-1"},[s("\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93 "),e("a",{class:"header-anchor",href:"#\u767B\u5F55\u4E24\u4E2A\u955C\u50CF\u4ED3\u5E93","aria-hidden":"true"},"#")],-1),C=e("div",{class:"language-"},[e("span",{class:"copy"}),e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"docker login harbor.kcooc.cn")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"docker login docker-registry.kococ.cn")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}})])])])],-1),v=e("h3",{id:"\u8FC1\u79FB",tabindex:"-1"},[s("\u8FC1\u79FB "),e("a",{class:"header-anchor",href:"#\u8FC1\u79FB","aria-hidden":"true"},"#")],-1),F=e("div",{class:"language-bash"},[e("span",{class:"copy"}),e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"cat mv-image.sh")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#676E95"}},"#!/bin/bash")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"for"),e("span",{style:{color:"#A6ACCD"}}," i "),e("span",{style:{color:"#89DDFF"}},"in"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"`"),e("span",{style:{color:"#C3E88D"}},"cat all-image"),e("span",{style:{color:"#89DDFF"}},"`"),e("span",{style:{color:"#89DDFF"}},";"),e("span",{style:{color:"#89DDFF"}},"do")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"skopeo copy docker://docker-registry.kococ.cn/"),e("span",{style:{color:"#89DDFF"}},"${"),e("span",{style:{color:"#A6ACCD"}},"i"),e("span",{style:{color:"#89DDFF"}},"}"),e("span",{style:{color:"#A6ACCD"}}," docker://harbor.kococ.cn/"),e("span",{style:{color:"#89DDFF"}},"${"),e("span",{style:{color:"#A6ACCD"}},"i"),e("span",{style:{color:"#89DDFF"}},"}"),e("span",{style:{color:"#A6ACCD"}}," --authfile /root/.docker/config.json")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"done")]),s(`
`),e("span",{class:"line"})])])],-1);function $(o,x,E,N,n,S){const r=c;return d(),p(r,{frontmatter:n.frontmatter,data:n.data},{"main-content-md":a(()=>[u,y,g,k,D,b,_,f,A,C,v,F]),"main-header":a(()=>[t(o.$slots,"main-header")]),"main-header-after":a(()=>[t(o.$slots,"main-header-after")]),"main-nav":a(()=>[t(o.$slots,"main-nav")]),"main-content":a(()=>[t(o.$slots,"main-content")]),"main-content-after":a(()=>[t(o.$slots,"main-content-after")]),"main-nav-before":a(()=>[t(o.$slots,"main-nav-before")]),"main-nav-after":a(()=>[t(o.$slots,"main-nav-after")]),comment:a(()=>[t(o.$slots,"comment")]),footer:a(()=>[t(o.$slots,"footer")]),aside:a(()=>[t(o.$slots,"aside")]),"aside-custom":a(()=>[t(o.$slots,"aside-custom")]),default:a(()=>[t(o.$slots,"default")]),_:3},8,["frontmatter","data"])}const w=i(m,[["render",$]]);export{V as __pageData,w as default};
