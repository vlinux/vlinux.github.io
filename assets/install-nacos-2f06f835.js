import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang-c06d8755.js";import{_ as y,c as d,w as a,o as h,a as u,b as s,d as l,e as o,r as t,f as D,p as F}from"./app-aa1e5b4f.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-a847d205.js";import"./YunCard.vue_vue_type_style_index_0_lang-61d41b45.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-944b3777.js";const cs=JSON.parse('{"title":"Nacos开启鉴权","description":"","frontmatter":{"title":"Nacos开启鉴权","date":"2024-10-08T10:51:37.000Z","updated":"2024-10-08T10:51:37.000Z","tags":"Nacos","categories":"Linux技术","end":false},"headers":[{"level":2,"title":"单节点安装","slug":"单节点安装","link":"#单节点安装","children":[]},{"level":2,"title":"集群模式安装","slug":"集群模式安装","link":"#集群模式安装","children":[]},{"level":2,"title":"开启鉴权","slug":"开启鉴权","link":"#开启鉴权","children":[{"level":3,"title":"1、nacos开启鉴权","slug":"_1、nacos开启鉴权","link":"#_1、nacos开启鉴权","children":[]},{"level":3,"title":"2、nacos鉴权测试","slug":"_2、nacos鉴权测试","link":"#_2、nacos鉴权测试","children":[]}]}],"relativePath":"pages/posts/install-nacos.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/install-nacos.md","lastUpdated":1728356830000}'),c=JSON.parse('{"title":"Nacos开启鉴权","description":"","frontmatter":{"title":"Nacos开启鉴权","date":"2024-10-08T10:51:37.000Z","updated":"2024-10-08T10:51:37.000Z","tags":"Nacos","categories":"Linux技术","end":false},"headers":[{"level":2,"title":"单节点安装","slug":"单节点安装","link":"#单节点安装","children":[]},{"level":2,"title":"集群模式安装","slug":"集群模式安装","link":"#集群模式安装","children":[]},{"level":2,"title":"开启鉴权","slug":"开启鉴权","link":"#开启鉴权","children":[{"level":3,"title":"1、nacos开启鉴权","slug":"_1、nacos开启鉴权","link":"#_1、nacos开启鉴权","children":[]},{"level":3,"title":"2、nacos鉴权测试","slug":"_2、nacos鉴权测试","link":"#_2、nacos鉴权测试","children":[]}]}],"relativePath":"pages/posts/install-nacos.md","path":"/Users/vlinux/vlinux/blog/valaxy/vlinux.github.io/pages/posts/install-nacos.md","lastUpdated":1728356830000}'),C={name:"pages/posts/install-nacos.md",data(){return{data:c,frontmatter:c.frontmatter}},setup(){F("pageData",c)}},g={id:"安装nacos",tabindex:"-1"},m={id:"单节点安装",tabindex:"-1"},A=s("p",null,"参考：",-1),_=s("li",null,"安装JDK1.8或以上",-1),f=s("li",null,"安装数据库，版本要求：5.6.5+ ，或使用内置数据库（使用内置数据库不用修改配置文件有关数据库字段application.properties）",-1),b=s("li",null,"配置application.properties",-1),v=s("div",{class:"language-"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"db.num=1")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"db.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"db.user.0=*******")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"db.password.0=********")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),k={start:"5"},w={id:"集群模式安装",tabindex:"-1"},x=s("p",null,"此处暂时省略，可以查看官方文档",-1),E={id:"开启鉴权",tabindex:"-1"},N={id:"_1、nacos开启鉴权",tabindex:"-1"},B=s("ul",null,[s("li",null,"2.2.2版本之前的Nacos默认控制台，无论服务端是否开启鉴权，都会存在一个登录页，这就导致很多用户被误导认为Nacos默认是存在鉴权的。"),s("li",null,"在社区安全工程师的建议下，Nacos自2.2.2版本开始，在未开启鉴权时，默认控制台将不需要登录即可访问，同时在控制台中给予提示，提醒用户当前集群未开启鉴权，在用户开启鉴权后，控制台才需要进行登录访问。"),s("li",null,"开启鉴权功能之后，访问Nacos服务端API和控制台都需要输入用户名和密码（默认的用户名和密码都是nacos，可以登录控制台进行修改密码），可以提高Nacos的安全性，如果客户端（其它服务或者控制台用户）无法提供正确的用户名和密码，将无法访问Nacos Server，这样可以防止服务端被非授权访问，所以对于生产环境中的Nacos Server推荐设置为true。"),s("li",null,"如果Nacos禁用鉴权功能，此时访问Nacos服务端API和控制台不需要任何登录即可匿名访问。")],-1),S={id:"_1-1、修改nacos配置文件（application-properties）",tabindex:"-1"},T=s("p",null,[l("如果 "),s("code",null,"nacos.core.auth.enabled"),l(" 设置为true，必须添加以下"),s("code",null,"nacos.core.auth.server.identity.key"),l("、"),s("code",null,"nacos.core.auth.server.identity.value"),l("、"),s("code",null,"nacos.core.auth.plugin.nacos.token.secret.key"),l("配置，否则无法启动节点。 "),s("strong",null,"推荐开启如下配置")],-1),z=s("div",{class:"language-ini"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# 开启鉴权功能")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"nacos.core.auth.enabled"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"true")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# 关闭使用user-agent判断服务端请求并放行鉴权的功能")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"nacos.core.auth.enable.userAgentAuthWhite"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"false")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# 配置自定义身份识别的key和value，这两个属性是auth的白名单，用于标识来自其它服务器的请求，具体实现见 com.alibaba.nacos.core.auth.AuthFilter。")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"nacos.core.auth.server.identity.key"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"authKey")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"nacos.core.auth.server.identity.value"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"shigzh")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# 自定义用于生成JWT令牌的密钥，注意：原始密钥长度不得低于32字符，且一定要进行Base64编码，否则无法启动节点。")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"nacos.core.auth.plugin.nacos.token.secret.key"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"bmFjb3NfMjAyNDAxMTBfc2hpZ3poX25hY29zX3Rva2Vu")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# 权限缓存开关，开启后权限缓存的更新默认有15秒的延迟，默认 : false")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"nacos.core.auth.caching.enabled"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}},"true")]),l(`
`),s("span",{class:"line"})])])],-1),$={id:"_1-2、自定义生成jwt令牌的密钥",tabindex:"-1"},q=s("p",null,"注意：原始密钥长度不得低于32字符，且一定要进行Base64编码，否则无法启动节点。",-1),U=s("div",{class:"language-typescript"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"/**")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * <p>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * nacos中JWT令牌密钥生成器<br>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * 生成 nacos.core.auth.plugin.nacos.token.secret.key 的值")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * </p>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@"),s("span",{style:{color:"#C792EA","font-style":"italic"}},"author"),s("span",{style:{color:"#676E95","font-style":"italic"}}," "),s("span",{style:{color:"#FFCB6B","font-style":"italic"}},"shigzh")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," * "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"@"),s("span",{style:{color:"#C792EA","font-style":"italic"}},"since"),s("span",{style:{color:"#676E95","font-style":"italic"}}," 2024/1/10 13:41")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}}," */")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"public "),s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"NacosSecretUtil"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"public"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"static"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"void"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F07178"}},"main"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"String"),s("span",{style:{color:"#89DDFF"}},"[]"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"args"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 自定义生成JWT令牌的密钥")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"        "),s("span",{style:{color:"#A6ACCD"}},"String"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"nacosSecret"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"nacos_20240110_shigzh_nacos_token"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 输出密钥长度，要求不得低于32字符，否则无法启动节点。")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"        "),s("span",{style:{color:"#A6ACCD"}},"System"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"out"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"println"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"密钥长度》》》"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"nacosSecret"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"length"),s("span",{style:{color:"#F07178"}},"())"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"        "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 密钥进行Base64编码")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"        "),s("span",{style:{color:"#A6ACCD"}},"byte"),s("span",{style:{color:"#F07178"}},"[] "),s("span",{style:{color:"#A6ACCD"}},"data"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"nacosSecret"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"getBytes"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#A6ACCD"}},"StandardCharsets"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"UTF_8"),s("span",{style:{color:"#F07178"}},")"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"        "),s("span",{style:{color:"#A6ACCD"}},"System"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"out"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"println"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"密钥Base64编码》》》"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"Base64Utils"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"encodeToString"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#A6ACCD"}},"data"),s("span",{style:{color:"#F07178"}},"))"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"    "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),J={id:"_2、nacos鉴权测试",tabindex:"-1"},V={id:"_2-1、不开启鉴权测试",tabindex:"-1"},j=s("p",null,[l("如果nacos不开启鉴权，即 "),s("code",null,"nacos.core.auth.enabled = false"),l("，在这种情况下通过一些请求就可以绕过nacos的权限认证，然后访问nacos的一些数据。 1、在未登录认证的情况下，通过postman以get方式访问"),s("code",null,"/nacos/v1/cs/configs"),l("请求来获取nacos的配置信息，可以正常获取到数据。")],-1),K=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFCB6B"}},"http://sgz.wz:8848/nacos/v1/cs/configs?dataId="),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"group"),s("span",{style:{color:"#89DDFF"}},"=&"),s("span",{style:{color:"#A6ACCD"}},"appName"),s("span",{style:{color:"#89DDFF"}},"=&"),s("span",{style:{color:"#A6ACCD"}},"config_tags"),s("span",{style:{color:"#89DDFF"}},"=&"),s("span",{style:{color:"#A6ACCD"}},"pageNo"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"pageSize"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"10"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"tenant"),s("span",{style:{color:"#89DDFF"}},"=&"),s("span",{style:{color:"#A6ACCD"}},"search"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#C3E88D"}},"accurate"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"accessToken"),s("span",{style:{color:"#89DDFF"}},"=&"),s("span",{style:{color:"#A6ACCD"}},"username"),s("span",{style:{color:"#89DDFF"}},"=")]),l(`
`),s("span",{class:"line"})])])],-1),W=s("p",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111151531287-527499284.png",alt:"img"})],-1),Z=s("p",null,[l("2、在未登录认证的情况下，通过postman以get方式访问"),s("code",null,"/nacos/v1/auth/users"),l("请求来获取nacos的用户信息，可以正常获取到数据。")],-1),L=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFCB6B"}},"http://sgz.wz:8848/nacos/v1/auth/users?pageNo=1"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"pageSize"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"9"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"search"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#C3E88D"}},"blur")]),l(`
`),s("span",{class:"line"})])])],-1),P=s("p",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111151728348-2065281444.png",alt:"img"})],-1),I=s("p",null,[l("3、在未登录认证的情况下，通过postman以post方式访问"),s("code",null,"/nacos/v1/auth/users"),l("请求，传入指定参数，可以直接新增用户。")],-1),M=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFCB6B"}},"http://sgz.wz:8848/nacos/v1/auth/users?username=test2"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"password"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#C3E88D"}},"test2")]),l(`
`),s("span",{class:"line"})])])],-1),O=s("p",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111151906922-1323107565.png",alt:"img"}),l(" 数据库中也存在新增的用户信息 "),s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111152308299-1210876117.png",alt:"img"})],-1),R={id:"_2-2、开启鉴权测试",tabindex:"-1"},X=s("p",null,[l("如果nacos开启鉴权，即 "),s("code",null,"nacos.core.auth.enabled = true"),l("，在这种情况下就可以避免上面的nacos权限认证问题，如果不登录认证就不能访问nacos的一些数据，此时访问就会报403 Forbidden错误。 "),s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111152900291-825669718.png",alt:"img"}),l(" 此时在请求header里添加一对属性参数 "),s("code",null,"authKey=shigzh"),l("，即我们配置的自定义身份识别的 "),s("code",null,"nacos.core.auth.server.identity.key=authKey"),l(" 和 "),s("code",null,"nacos.core.auth.server.identity.value=shigzh"),l("（这两个属性是auth的白名单，用于标识来自其他服务器的请求），这样也可以正常操作nacos的一些接口，相当于鉴权了，即可跳过权限认证。 "),s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111161156423-206201221.png",alt:"img"})],-1),Y=s("p",null,[l("header属性配置"),s("code",null,"authKey=shigzh"),l("能够跳过权限认证的原理是 com.alibaba.nacos.core.auth.AuthFilter 过滤器，具体逻辑如下图 "),s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/1680363-20240111163713753-808447754.png",alt:"img"})],-1);function G(n,H,Q,ss,r,ls){const e=D,i=p;return h(),d(i,{frontmatter:r.frontmatter,data:r.data},{"main-content-md":a(()=>[u(" more "),s("h1",g,[l("安装Nacos "),o(e,{class:"header-anchor",href:"#安装nacos","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),s("h2",m,[l("单节点安装 "),o(e,{class:"header-anchor",href:"#单节点安装","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),A,s("p",null,[o(e,{href:"https://nacos.io/docs/latest/manual/admin/deployment/deployment-standalone/",target:"_blank",rel:"noreferrer"},{default:a(()=>[l("https://nacos.io/docs/latest/manual/admin/deployment/deployment-standalone/")]),_:1})]),s("p",null,[o(e,{href:"https://www.cnblogs.com/liuqq1015/p/17822802.html",target:"_blank",rel:"noreferrer"},{default:a(()=>[l("https://www.cnblogs.com/liuqq1015/p/17822802.html")]),_:1})]),s("ol",null,[_,f,s("li",null,[l("初始化mysql数据库，数据库初始化文件："),o(e,{href:"https://github.com/alibaba/nacos/blob/master/distribution/conf/mysql-schema.sql",target:"_blank",rel:"noreferrer"},{default:a(()=>[l("mysql-schema.sql")]),_:1})]),b]),v,s("ol",k,[s("li",null,[l("启动单节点模式sh "),o(e,{href:"http://startup.sh",target:"_blank",rel:"noreferrer"},{default:a(()=>[l("startup.sh")]),_:1}),l(" -m standalone，查看日志tail -f /opt/nacos/logs/start.out")])]),s("h2",w,[l("集群模式安装 "),o(e,{class:"header-anchor",href:"#集群模式安装","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),x,s("h2",E,[l("开启鉴权 "),o(e,{class:"header-anchor",href:"#开启鉴权","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),s("h3",N,[l("1、nacos开启鉴权 "),o(e,{class:"header-anchor",href:"#_1、nacos开启鉴权","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),B,s("h4",S,[l("1.1、修改nacos配置文件（application.properties） "),o(e,{class:"header-anchor",href:"#_1-1、修改nacos配置文件（application-properties）","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),T,z,s("h4",$,[l("1.2、自定义生成JWT令牌的密钥 "),o(e,{class:"header-anchor",href:"#_1-2、自定义生成jwt令牌的密钥","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),q,U,s("h3",J,[l("2、nacos鉴权测试 "),o(e,{class:"header-anchor",href:"#_2、nacos鉴权测试","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),s("h4",V,[l("2.1、不开启鉴权测试 "),o(e,{class:"header-anchor",href:"#_2-1、不开启鉴权测试","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),j,K,W,Z,L,P,I,M,O,s("h4",R,[l("2.2、开启鉴权测试 "),o(e,{class:"header-anchor",href:"#_2-2、开启鉴权测试","aria-hidden":"true"},{default:a(()=>[l("#")]),_:1})]),X,Y]),"main-header":a(()=>[t(n.$slots,"main-header")]),"main-header-after":a(()=>[t(n.$slots,"main-header-after")]),"main-nav":a(()=>[t(n.$slots,"main-nav")]),"main-content":a(()=>[t(n.$slots,"main-content")]),"main-content-after":a(()=>[t(n.$slots,"main-content-after")]),"main-nav-before":a(()=>[t(n.$slots,"main-nav-before")]),"main-nav-after":a(()=>[t(n.$slots,"main-nav-after")]),comment:a(()=>[t(n.$slots,"comment")]),footer:a(()=>[t(n.$slots,"footer")]),aside:a(()=>[t(n.$slots,"aside")]),"aside-custom":a(()=>[t(n.$slots,"aside-custom")]),default:a(()=>[t(n.$slots,"default")]),_:3},8,["frontmatter","data"])}const rs=y(C,[["render",G]]);export{cs as __pageData,rs as default};
