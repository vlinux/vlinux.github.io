import{_ as o}from"./ValaxyMain.vue_vue_type_style_index_0_lang.daa5b0f5.js";import{_ as d,c,w as t,o as h,h as _,r as i,g as e,R as n,p as b}from"./app.1ea880eb.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.fd6ecde1.js";import"./YunCard.vue_vue_type_style_index_0_lang.3d30997c.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.0f6e0cea.js";const $a=JSON.parse('{"title":"\u521D\u8BC6Zabbix4.0~","description":"","frontmatter":{"title":"\u521D\u8BC6Zabbix4.0~","categories":"\u9ED8\u8BA4\u5206\u7C7B","tags":["Zabbix"],"date":"2019-05-09T23:09:00.000Z"},"headers":[{"level":2,"title":"1.\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","slug":"_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","link":"#_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","children":[]},{"level":2,"title":"2.\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","slug":"_2-\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","link":"#_2-\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","children":[]},{"level":2,"title":"3.\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","slug":"_3-\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","link":"#_3-\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","children":[]},{"level":2,"title":"4.\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","slug":"_4-\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","link":"#_4-\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","children":[]},{"level":2,"title":"1.\u914D\u7F6Ezabbix\u4ED3\u5E93","slug":"_1-\u914D\u7F6Ezabbix\u4ED3\u5E93","link":"#_1-\u914D\u7F6Ezabbix\u4ED3\u5E93","children":[]},{"level":2,"title":"[file href=\\"http://cloud.xoxoyun.cn/index.php?share/file&user=1&sid=TIDYUqRn\\"]\u53EF\u75284.0\u955C\u50CF\u6E90[/file]2.\u5B89\u88C5 Zabbix \u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA MySQL\u3001 Zabbix-agent","slug":"file-href-http-cloud-xoxoyun-cn-index-php-share-file-user-1-sid-tidyuqrn-\u53EF\u75284-0\u955C\u50CF\u6E90-file-2-\u5B89\u88C5-zabbix-\u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA-mysql\u3001-zabbix-agent","link":"#file-href-http-cloud-xoxoyun-cn-index-php-share-file-user-1-sid-tidyuqrn-\u53EF\u75284-0\u955C\u50CF\u6E90-file-2-\u5B89\u88C5-zabbix-\u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA-mysql\u3001-zabbix-agent","children":[]},{"level":2,"title":"3.\u521B\u5EFA Zabbix \u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","slug":"_3-\u521B\u5EFA-zabbix-\u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","link":"#_3-\u521B\u5EFA-zabbix-\u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","children":[]},{"level":2,"title":"4.\u5BFC\u5165 Zabbix \u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","slug":"_4-\u5BFC\u5165-zabbix-\u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","link":"#_4-\u5BFC\u5165-zabbix-\u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","children":[]},{"level":2,"title":"5.\u7F16\u8F91/etc/zabbix/zabbix_server.conf \u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","slug":"_5-\u7F16\u8F91-etc-zabbix-zabbix-server-conf-\u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","link":"#_5-\u7F16\u8F91-etc-zabbix-zabbix-server-conf-\u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","children":[]},{"level":2,"title":"6.\u542F\u52A8 Zabbix \u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","slug":"_6-\u542F\u52A8-zabbix-\u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","link":"#_6-\u542F\u52A8-zabbix-\u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","children":[]},{"level":2,"title":"7.\u914D\u7F6E Apache \u7684\u914D\u7F6E\u6587\u4EF6/etc/httpd/conf.d/zabbix.conf\uFF0C\u4FEE\u6539\u65F6\u533A","slug":"_7-\u914D\u7F6E-apache-\u7684\u914D\u7F6E\u6587\u4EF6-etc-httpd-conf-d-zabbix-conf\uFF0C\u4FEE\u6539\u65F6\u533A","link":"#_7-\u914D\u7F6E-apache-\u7684\u914D\u7F6E\u6587\u4EF6-etc-httpd-conf-d-zabbix-conf\uFF0C\u4FEE\u6539\u65F6\u533A","children":[]},{"level":2,"title":"8.\u91CD\u542F Apache Web \u670D\u52A1\u5668","slug":"_8-\u91CD\u542F-apache-web-\u670D\u52A1\u5668","link":"#_8-\u91CD\u542F-apache-web-\u670D\u52A1\u5668","children":[]},{"level":2,"title":"[root@m01 ~]# systemctl start httpd","slug":"root-m01-systemctl-start-httpd","link":"#root-m01-systemctl-start-httpd","children":[]},{"level":2,"title":"1.\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp://192.168.10.66/zabbix/setup.php","slug":"_1-\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp-192-168-10-66-zabbix-setup-php","link":"#_1-\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp-192-168-10-66-zabbix-setup-php","children":[]},{"level":2,"title":"2.\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","slug":"_2-\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","link":"#_2-\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","children":[]},{"level":2,"title":"3.\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","slug":"_3-\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","link":"#_3-\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","children":[]},{"level":2,"title":"4.\u914D\u7F6E ZabbixServer \u670D\u52A1\u5668\u7684\u4FE1\u606F","slug":"_4-\u914D\u7F6E-zabbixserver-\u670D\u52A1\u5668\u7684\u4FE1\u606F","link":"#_4-\u914D\u7F6E-zabbixserver-\u670D\u52A1\u5668\u7684\u4FE1\u606F","children":[]},{"level":2,"title":"5.\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","slug":"_5-\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","link":"#_5-\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","children":[]},{"level":2,"title":"6.\u5B89\u88C5\u6210\u529F","slug":"_6-\u5B89\u88C5\u6210\u529F","link":"#_6-\u5B89\u88C5\u6210\u529F","children":[]},{"level":2,"title":"7.\u767B\u9646zabbix","slug":"_7-\u767B\u9646zabbix","link":"#_7-\u767B\u9646zabbix","children":[]},{"level":2,"title":"8.\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","slug":"_8-\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","link":"#_8-\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","children":[]},{"level":2,"title":"9.\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","slug":"_9-\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","link":"#_9-\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","children":[]},{"level":2,"title":"1.\u5B89\u88C5zabbix-agent","slug":"_1-\u5B89\u88C5zabbix-agent","link":"#_1-\u5B89\u88C5zabbix-agent","children":[]},{"level":2,"title":"2.\u914D\u7F6Ezabbix-agent","slug":"_2-\u914D\u7F6Ezabbix-agent","link":"#_2-\u914D\u7F6Ezabbix-agent","children":[]},{"level":2,"title":"4.zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","slug":"_4-zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","link":"#_4-zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","children":[]},{"level":2,"title":"1.\u76D1\u63A7\u9700\u6C42","slug":"_1-\u76D1\u63A7\u9700\u6C42","link":"#_1-\u76D1\u63A7\u9700\u6C42","children":[]},{"level":2,"title":"2.\u547D\u4EE4\u884C\u5B9E\u73B0","slug":"_2-\u547D\u4EE4\u884C\u5B9E\u73B0","link":"#_2-\u547D\u4EE4\u884C\u5B9E\u73B0","children":[]},{"level":2,"title":"3.\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6(\u4F20\u53C2\u5F62\u5F0F)","slug":"_3-\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6-\u4F20\u53C2\u5F62\u5F0F","link":"#_3-\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6-\u4F20\u53C2\u5F62\u5F0F","children":[]},{"level":2,"title":"4.server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","slug":"_4-server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","link":"#_4-server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","children":[]},{"level":2,"title":"5.web\u7AEF\u6DFB\u52A0","slug":"_5-web\u7AEF\u6DFB\u52A0","link":"#_5-web\u7AEF\u6DFB\u52A0","children":[]},{"level":2,"title":"6.\u514B\u9686\u76D1\u63A7\u9879","slug":"_6-\u514B\u9686\u76D1\u63A7\u9879","link":"#_6-\u514B\u9686\u76D1\u63A7\u9879","children":[]},{"level":2,"title":"7.\u521B\u5EFA\u56FE\u5F62","slug":"_7-\u521B\u5EFA\u56FE\u5F62","link":"#_7-\u521B\u5EFA\u56FE\u5F62","children":[]},{"level":2,"title":"8.\u67E5\u770B\u56FE\u5F62","slug":"_8-\u67E5\u770B\u56FE\u5F62","link":"#_8-\u67E5\u770B\u56FE\u5F62","children":[]},{"level":2,"title":"9.\u8BBE\u7F6E\u89E6\u53D1\u5668","slug":"_9-\u8BBE\u7F6E\u89E6\u53D1\u5668","link":"#_9-\u8BBE\u7F6E\u89E6\u53D1\u5668","children":[]},{"level":2,"title":"1.\u5B9A\u4E49\u53D1\u4EF6\u4EBA","slug":"_1-\u5B9A\u4E49\u53D1\u4EF6\u4EBA","link":"#_1-\u5B9A\u4E49\u53D1\u4EF6\u4EBA","children":[]},{"level":2,"title":"2.\u5B9A\u4E49\u6536\u4EF6\u4EBA","slug":"_2-\u5B9A\u4E49\u6536\u4EF6\u4EBA","link":"#_2-\u5B9A\u4E49\u6536\u4EF6\u4EBA","children":[]},{"level":2,"title":"3.\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","slug":"_3-\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","link":"#_3-\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","children":[]},{"level":2,"title":"1.\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","slug":"_1-\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","link":"#_1-\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","children":[]},{"level":2,"title":"2.\u5C06weixin.py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","slug":"_2-\u5C06weixin-py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","link":"#_2-\u5C06weixin-py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","children":[]},{"level":2,"title":"3.\u914D\u7F6E\u53D1\u4FE1\u4EBA","slug":"_3-\u914D\u7F6E\u53D1\u4FE1\u4EBA","link":"#_3-\u914D\u7F6E\u53D1\u4FE1\u4EBA","children":[]},{"level":2,"title":"4.\u914D\u7F6E\u6536\u4FE1\u4EBA","slug":"_4-\u914D\u7F6E\u6536\u4FE1\u4EBA","link":"#_4-\u914D\u7F6E\u6536\u4FE1\u4EBA","children":[]},{"level":2,"title":"5.\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","slug":"_5-\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","link":"#_5-\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","children":[]},{"level":2,"title":"1.\u76D1\u63A7TCP11\u79CD\u72B6\u6001","slug":"_1-\u76D1\u63A7tcp11\u79CD\u72B6\u6001","link":"#_1-\u76D1\u63A7tcp11\u79CD\u72B6\u6001","children":[]},{"level":2,"title":"2.\u91CD\u542Fzabbix-agent","slug":"_2-\u91CD\u542Fzabbix-agent","link":"#_2-\u91CD\u542Fzabbix-agent","children":[]},{"level":2,"title":"3.\u6D4B\u8BD5\u76D1\u63A7\u9879","slug":"_3-\u6D4B\u8BD5\u76D1\u63A7\u9879","link":"#_3-\u6D4B\u8BD5\u76D1\u63A7\u9879","children":[]},{"level":2,"title":"\u7B2Cx\u7AE0 \u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","slug":"\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","link":"#\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","children":[]},{"level":2,"title":"1.\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","slug":"_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","link":"#_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","children":[]},{"level":2,"title":"2.\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","slug":"_2-\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","link":"#_2-\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","children":[]},{"level":2,"title":"3.\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","slug":"_3-\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","link":"#_3-\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"4.\u4F7F\u7528zabbix_get\u53D6\u503C","slug":"_4-\u4F7F\u7528zabbix-get\u53D6\u503C","link":"#_4-\u4F7F\u7528zabbix-get\u53D6\u503C","children":[]},{"level":2,"title":"5.\u5BFC\u5165\u6A21\u7248","slug":"_5-\u5BFC\u5165\u6A21\u7248","link":"#_5-\u5BFC\u5165\u6A21\u7248","children":[]},{"level":2,"title":"6.\u94FE\u63A5\u6A21\u7248","slug":"_6-\u94FE\u63A5\u6A21\u7248","link":"#_6-\u94FE\u63A5\u6A21\u7248","children":[]},{"level":2,"title":"1.\u5F00\u542F\u76D1\u63A7\u9875\u9762","slug":"_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762","link":"#_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762","children":[]},{"level":2,"title":"2.\u8BBF\u95EE\u6D4B\u8BD5","slug":"_2-\u8BBF\u95EE\u6D4B\u8BD5","link":"#_2-\u8BBF\u95EE\u6D4B\u8BD5","children":[]},{"level":2,"title":"3.\u51C6\u5907\u8BBF\u95EE\u811A\u672C","slug":"_3-\u51C6\u5907\u8BBF\u95EE\u811A\u672C","link":"#_3-\u51C6\u5907\u8BBF\u95EE\u811A\u672C","children":[]},{"level":2,"title":"\u6545\u969C1","slug":"\u6545\u969C1","link":"#\u6545\u969C1","children":[]},{"level":2,"title":"\u6545\u969C2","slug":"\u6545\u969C2","link":"#\u6545\u969C2","children":[]},{"level":2,"title":"\u6545\u969C3","slug":"\u6545\u969C3","link":"#\u6545\u969C3","children":[]}],"relativePath":"pages/posts/\u521D\u8BC6Zabbix4.0~.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/\u521D\u8BC6Zabbix4.0~.md","lastUpdated":0}'),l=JSON.parse('{"title":"\u521D\u8BC6Zabbix4.0~","description":"","frontmatter":{"title":"\u521D\u8BC6Zabbix4.0~","categories":"\u9ED8\u8BA4\u5206\u7C7B","tags":["Zabbix"],"date":"2019-05-09T23:09:00.000Z"},"headers":[{"level":2,"title":"1.\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","slug":"_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","link":"#_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","children":[]},{"level":2,"title":"2.\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","slug":"_2-\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","link":"#_2-\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","children":[]},{"level":2,"title":"3.\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","slug":"_3-\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","link":"#_3-\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","children":[]},{"level":2,"title":"4.\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","slug":"_4-\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","link":"#_4-\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","children":[]},{"level":2,"title":"1.\u914D\u7F6Ezabbix\u4ED3\u5E93","slug":"_1-\u914D\u7F6Ezabbix\u4ED3\u5E93","link":"#_1-\u914D\u7F6Ezabbix\u4ED3\u5E93","children":[]},{"level":2,"title":"[file href=\\"http://cloud.xoxoyun.cn/index.php?share/file&user=1&sid=TIDYUqRn\\"]\u53EF\u75284.0\u955C\u50CF\u6E90[/file]2.\u5B89\u88C5 Zabbix \u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA MySQL\u3001 Zabbix-agent","slug":"file-href-http-cloud-xoxoyun-cn-index-php-share-file-user-1-sid-tidyuqrn-\u53EF\u75284-0\u955C\u50CF\u6E90-file-2-\u5B89\u88C5-zabbix-\u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA-mysql\u3001-zabbix-agent","link":"#file-href-http-cloud-xoxoyun-cn-index-php-share-file-user-1-sid-tidyuqrn-\u53EF\u75284-0\u955C\u50CF\u6E90-file-2-\u5B89\u88C5-zabbix-\u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA-mysql\u3001-zabbix-agent","children":[]},{"level":2,"title":"3.\u521B\u5EFA Zabbix \u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","slug":"_3-\u521B\u5EFA-zabbix-\u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","link":"#_3-\u521B\u5EFA-zabbix-\u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","children":[]},{"level":2,"title":"4.\u5BFC\u5165 Zabbix \u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","slug":"_4-\u5BFC\u5165-zabbix-\u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","link":"#_4-\u5BFC\u5165-zabbix-\u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","children":[]},{"level":2,"title":"5.\u7F16\u8F91/etc/zabbix/zabbix_server.conf \u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","slug":"_5-\u7F16\u8F91-etc-zabbix-zabbix-server-conf-\u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","link":"#_5-\u7F16\u8F91-etc-zabbix-zabbix-server-conf-\u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","children":[]},{"level":2,"title":"6.\u542F\u52A8 Zabbix \u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","slug":"_6-\u542F\u52A8-zabbix-\u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","link":"#_6-\u542F\u52A8-zabbix-\u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","children":[]},{"level":2,"title":"7.\u914D\u7F6E Apache \u7684\u914D\u7F6E\u6587\u4EF6/etc/httpd/conf.d/zabbix.conf\uFF0C\u4FEE\u6539\u65F6\u533A","slug":"_7-\u914D\u7F6E-apache-\u7684\u914D\u7F6E\u6587\u4EF6-etc-httpd-conf-d-zabbix-conf\uFF0C\u4FEE\u6539\u65F6\u533A","link":"#_7-\u914D\u7F6E-apache-\u7684\u914D\u7F6E\u6587\u4EF6-etc-httpd-conf-d-zabbix-conf\uFF0C\u4FEE\u6539\u65F6\u533A","children":[]},{"level":2,"title":"8.\u91CD\u542F Apache Web \u670D\u52A1\u5668","slug":"_8-\u91CD\u542F-apache-web-\u670D\u52A1\u5668","link":"#_8-\u91CD\u542F-apache-web-\u670D\u52A1\u5668","children":[]},{"level":2,"title":"[root@m01 ~]# systemctl start httpd","slug":"root-m01-systemctl-start-httpd","link":"#root-m01-systemctl-start-httpd","children":[]},{"level":2,"title":"1.\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp://192.168.10.66/zabbix/setup.php","slug":"_1-\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp-192-168-10-66-zabbix-setup-php","link":"#_1-\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp-192-168-10-66-zabbix-setup-php","children":[]},{"level":2,"title":"2.\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","slug":"_2-\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","link":"#_2-\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","children":[]},{"level":2,"title":"3.\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","slug":"_3-\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","link":"#_3-\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","children":[]},{"level":2,"title":"4.\u914D\u7F6E ZabbixServer \u670D\u52A1\u5668\u7684\u4FE1\u606F","slug":"_4-\u914D\u7F6E-zabbixserver-\u670D\u52A1\u5668\u7684\u4FE1\u606F","link":"#_4-\u914D\u7F6E-zabbixserver-\u670D\u52A1\u5668\u7684\u4FE1\u606F","children":[]},{"level":2,"title":"5.\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","slug":"_5-\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","link":"#_5-\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","children":[]},{"level":2,"title":"6.\u5B89\u88C5\u6210\u529F","slug":"_6-\u5B89\u88C5\u6210\u529F","link":"#_6-\u5B89\u88C5\u6210\u529F","children":[]},{"level":2,"title":"7.\u767B\u9646zabbix","slug":"_7-\u767B\u9646zabbix","link":"#_7-\u767B\u9646zabbix","children":[]},{"level":2,"title":"8.\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","slug":"_8-\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","link":"#_8-\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","children":[]},{"level":2,"title":"9.\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","slug":"_9-\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","link":"#_9-\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","children":[]},{"level":2,"title":"1.\u5B89\u88C5zabbix-agent","slug":"_1-\u5B89\u88C5zabbix-agent","link":"#_1-\u5B89\u88C5zabbix-agent","children":[]},{"level":2,"title":"2.\u914D\u7F6Ezabbix-agent","slug":"_2-\u914D\u7F6Ezabbix-agent","link":"#_2-\u914D\u7F6Ezabbix-agent","children":[]},{"level":2,"title":"4.zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","slug":"_4-zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","link":"#_4-zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","children":[]},{"level":2,"title":"1.\u76D1\u63A7\u9700\u6C42","slug":"_1-\u76D1\u63A7\u9700\u6C42","link":"#_1-\u76D1\u63A7\u9700\u6C42","children":[]},{"level":2,"title":"2.\u547D\u4EE4\u884C\u5B9E\u73B0","slug":"_2-\u547D\u4EE4\u884C\u5B9E\u73B0","link":"#_2-\u547D\u4EE4\u884C\u5B9E\u73B0","children":[]},{"level":2,"title":"3.\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6(\u4F20\u53C2\u5F62\u5F0F)","slug":"_3-\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6-\u4F20\u53C2\u5F62\u5F0F","link":"#_3-\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6-\u4F20\u53C2\u5F62\u5F0F","children":[]},{"level":2,"title":"4.server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","slug":"_4-server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","link":"#_4-server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","children":[]},{"level":2,"title":"5.web\u7AEF\u6DFB\u52A0","slug":"_5-web\u7AEF\u6DFB\u52A0","link":"#_5-web\u7AEF\u6DFB\u52A0","children":[]},{"level":2,"title":"6.\u514B\u9686\u76D1\u63A7\u9879","slug":"_6-\u514B\u9686\u76D1\u63A7\u9879","link":"#_6-\u514B\u9686\u76D1\u63A7\u9879","children":[]},{"level":2,"title":"7.\u521B\u5EFA\u56FE\u5F62","slug":"_7-\u521B\u5EFA\u56FE\u5F62","link":"#_7-\u521B\u5EFA\u56FE\u5F62","children":[]},{"level":2,"title":"8.\u67E5\u770B\u56FE\u5F62","slug":"_8-\u67E5\u770B\u56FE\u5F62","link":"#_8-\u67E5\u770B\u56FE\u5F62","children":[]},{"level":2,"title":"9.\u8BBE\u7F6E\u89E6\u53D1\u5668","slug":"_9-\u8BBE\u7F6E\u89E6\u53D1\u5668","link":"#_9-\u8BBE\u7F6E\u89E6\u53D1\u5668","children":[]},{"level":2,"title":"1.\u5B9A\u4E49\u53D1\u4EF6\u4EBA","slug":"_1-\u5B9A\u4E49\u53D1\u4EF6\u4EBA","link":"#_1-\u5B9A\u4E49\u53D1\u4EF6\u4EBA","children":[]},{"level":2,"title":"2.\u5B9A\u4E49\u6536\u4EF6\u4EBA","slug":"_2-\u5B9A\u4E49\u6536\u4EF6\u4EBA","link":"#_2-\u5B9A\u4E49\u6536\u4EF6\u4EBA","children":[]},{"level":2,"title":"3.\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","slug":"_3-\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","link":"#_3-\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","children":[]},{"level":2,"title":"1.\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","slug":"_1-\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","link":"#_1-\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","children":[]},{"level":2,"title":"2.\u5C06weixin.py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","slug":"_2-\u5C06weixin-py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","link":"#_2-\u5C06weixin-py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","children":[]},{"level":2,"title":"3.\u914D\u7F6E\u53D1\u4FE1\u4EBA","slug":"_3-\u914D\u7F6E\u53D1\u4FE1\u4EBA","link":"#_3-\u914D\u7F6E\u53D1\u4FE1\u4EBA","children":[]},{"level":2,"title":"4.\u914D\u7F6E\u6536\u4FE1\u4EBA","slug":"_4-\u914D\u7F6E\u6536\u4FE1\u4EBA","link":"#_4-\u914D\u7F6E\u6536\u4FE1\u4EBA","children":[]},{"level":2,"title":"5.\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","slug":"_5-\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","link":"#_5-\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","children":[]},{"level":2,"title":"1.\u76D1\u63A7TCP11\u79CD\u72B6\u6001","slug":"_1-\u76D1\u63A7tcp11\u79CD\u72B6\u6001","link":"#_1-\u76D1\u63A7tcp11\u79CD\u72B6\u6001","children":[]},{"level":2,"title":"2.\u91CD\u542Fzabbix-agent","slug":"_2-\u91CD\u542Fzabbix-agent","link":"#_2-\u91CD\u542Fzabbix-agent","children":[]},{"level":2,"title":"3.\u6D4B\u8BD5\u76D1\u63A7\u9879","slug":"_3-\u6D4B\u8BD5\u76D1\u63A7\u9879","link":"#_3-\u6D4B\u8BD5\u76D1\u63A7\u9879","children":[]},{"level":2,"title":"\u7B2Cx\u7AE0 \u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","slug":"\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","link":"#\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","children":[]},{"level":2,"title":"1.\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","slug":"_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","link":"#_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","children":[]},{"level":2,"title":"2.\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","slug":"_2-\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","link":"#_2-\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","children":[]},{"level":2,"title":"3.\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","slug":"_3-\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","link":"#_3-\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"4.\u4F7F\u7528zabbix_get\u53D6\u503C","slug":"_4-\u4F7F\u7528zabbix-get\u53D6\u503C","link":"#_4-\u4F7F\u7528zabbix-get\u53D6\u503C","children":[]},{"level":2,"title":"5.\u5BFC\u5165\u6A21\u7248","slug":"_5-\u5BFC\u5165\u6A21\u7248","link":"#_5-\u5BFC\u5165\u6A21\u7248","children":[]},{"level":2,"title":"6.\u94FE\u63A5\u6A21\u7248","slug":"_6-\u94FE\u63A5\u6A21\u7248","link":"#_6-\u94FE\u63A5\u6A21\u7248","children":[]},{"level":2,"title":"1.\u5F00\u542F\u76D1\u63A7\u9875\u9762","slug":"_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762","link":"#_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762","children":[]},{"level":2,"title":"2.\u8BBF\u95EE\u6D4B\u8BD5","slug":"_2-\u8BBF\u95EE\u6D4B\u8BD5","link":"#_2-\u8BBF\u95EE\u6D4B\u8BD5","children":[]},{"level":2,"title":"3.\u51C6\u5907\u8BBF\u95EE\u811A\u672C","slug":"_3-\u51C6\u5907\u8BBF\u95EE\u811A\u672C","link":"#_3-\u51C6\u5907\u8BBF\u95EE\u811A\u672C","children":[]},{"level":2,"title":"\u6545\u969C1","slug":"\u6545\u969C1","link":"#\u6545\u969C1","children":[]},{"level":2,"title":"\u6545\u969C2","slug":"\u6545\u969C2","link":"#\u6545\u969C2","children":[]},{"level":2,"title":"\u6545\u969C3","slug":"\u6545\u969C3","link":"#\u6545\u969C3","children":[]}],"relativePath":"pages/posts/\u521D\u8BC6Zabbix4.0~.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/\u521D\u8BC6Zabbix4.0~.md","lastUpdated":0}'),p={name:"pages/posts/\u521D\u8BC6Zabbix4.0~.md",data(){return{data:l,frontmatter:l.frontmatter}},setup(){b("pageData",l)}},u=e("h1",{id:"zabbix\u76D1\u63A7\u670D\u52A1",tabindex:"-1"},[n("zabbix\u76D1\u63A7\u670D\u52A1 "),e("a",{class:"header-anchor",href:"#zabbix\u76D1\u63A7\u670D\u52A1","aria-hidden":"true"},"#")],-1),g=e("hr",null,null,-1),m=e("h1",{id:"\u7B2C\u4E00\u7AE0-\u76D1\u63A7\u77E5\u8BC6\u57FA\u672C\u6982\u8FF0",tabindex:"-1"},[n("\u7B2C\u4E00\u7AE0 \u76D1\u63A7\u77E5\u8BC6\u57FA\u672C\u6982\u8FF0 "),e("a",{class:"header-anchor",href:"#\u7B2C\u4E00\u7AE0-\u76D1\u63A7\u77E5\u8BC6\u57FA\u672C\u6982\u8FF0","aria-hidden":"true"},"#")],-1),x=e("h2",{id:"_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7",tabindex:"-1"},[n("1.\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7 "),e("a",{class:"header-anchor",href:"#_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u76D1\u63A7","aria-hidden":"true"},"#")],-1),f=e("ul",null,[e("li",null,"1.\u5BF9\u7CFB\u7EDF\u4E0D\u95F4\u65AD\u5B9E\u65F6\u76D1\u63A7"),e("li",null,"2.\u5B9E\u65F6\u53CD\u9988\u7CFB\u7EDF\u5F53\u524D\u72B6\u6001"),e("li",null,"3.\u4FDD\u8BC1\u670D\u52A1\u53EF\u9760\u6027\u5B89\u5168\u6027"),e("li",null,"4.\u4FDD\u8BC1\u4E1A\u52A1\u6301\u7EED\u7A33\u5B9A\u8FD0\u884C")],-1),z=e("h2",{id:"_2-\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387",tabindex:"-1"},[n("2.\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387 "),e("a",{class:"header-anchor",href:"#_2-\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u6BD4\u5982\u6211\u4EEC\u9700\u8981\u76D1\u63A7\u78C1\u76D8\u7684\u4F7F\u7528\u7387","aria-hidden":"true"},"#")],-1),v=e("ul",null,[e("li",null,"1.\u5982\u4F55\u67E5\u770B\u78C1\u76D8\u4F7F\u7528\u7387 df -h"),e("li",null,"2.\u76D1\u63A7\u78C1\u76D8\u7684\u90A3\u4E9B\u6307\u6807 block\u3001 inode"),e("li",null,"3.\u5982\u4F55\u83B7\u53D6\u5177\u4F53\u7684\u4FE1\u606F df -h|awk '///{print(NF-1)}'"),e("li",null,"4.\u83B7\u53D6\u7684\u6570\u503C\u5230\u8FBE\u591A\u5C11\u62A5\u8B66 80%")],-1),w=e("h2",{id:"_3-\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177",tabindex:"-1"},[n("3.\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177 "),e("a",{class:"header-anchor",href:"#_3-\u6D41\u884C\u7684\u76D1\u63A7\u5DE5\u5177","aria-hidden":"true"},"#")],-1),k=e("ul",null,[e("li",null,"1.Zabbix"),e("li",null,"2.Lepus(\u5929\u5154)\u6570\u636E\u5E93\u76D1\u63A7\u7CFB\u7EDF"),e("li",null,"3.Open-Falcon \u5C0F\u7C73"),e("li",null,"4.Prometheus(\u666E\u7F57\u7C73\u4FEE\u65AF\uFF0C Docker\u3001 K8s)")],-1),E=e("h2",{id:"_4-\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7",tabindex:"-1"},[n("4.\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7 "),e("a",{class:"header-anchor",href:"#_4-\u5982\u679C\u53BB\u5230\u4E00\u5BB6\u65B0\u516C\u53F8\uFF0C\u5982\u4F55\u5165\u624B\u76D1\u63A7","aria-hidden":"true"},"#")],-1),y=e("ul",null,[e("li",null,"1.\u786C\u4EF6\u76D1\u63A7 \u8DEF\u7531\u5668\u3001\u4EA4\u6362\u673A\u3001\u9632\u706B\u5899"),e("li",null,"2.\u7CFB\u7EDF\u76D1\u63A7 CPU\u3001\u5185\u5B58\u3001\u78C1\u76D8\u3001\u7F51\u7EDC\u3001\u8FDB\u7A0B\u3001 TCP"),e("li",null,"3.\u670D\u52A1\u76D1\u63A7 nginx\u3001 php\u3001 tomcat\u3001 redis\u3001 memcache\u3001 mysql"),e("li",null,[e("a",{href:"http://4.WEB",target:"_blank",rel:"noreferrer"},"4.WEB"),n(" \u76D1\u63A7 \u8BF7\u6C42\u65F6\u95F4\u3001\u54CD\u5E94\u65F6\u95F4\u3001\u52A0\u8F7D\u65F6\u95F4\u3001")]),e("li",null,"5.\u65E5\u5FD7\u76D1\u63A7 ELk\uFF08\u6536\u96C6\u3001\u5B58\u50A8\u3001\u5206\u6790\u3001\u5C55\u793A\uFF09 \u65E5\u5FD7\u6613"),e("li",null,"6.\u5B89\u5168\u76D1\u63A7 Firewalld\u3001 WAF(Nginx+lua)\u3001\u5B89\u5168\u5B9D\u3001\u725B\u76FE\u4E91\u3001\u5B89\u5168\u72D7"),e("li",null,"7.\u7F51\u7EDC\u76D1\u63A7 smokeping \u591A\u673A\u623F"),e("li",null,"8.\u4E1A\u52A1\u76D1\u63A7 \u6D3B\u52A8\u5F15\u5165\u591A\u5C11\u6D41\u91CF\u3001\u4EA7\u751F\u591A\u5C11\u6CE8\u518C\u91CF\u3001\u5E26\u6765\u591A\u5927\u4EF7\u503C")],-1),T=e("h1",{id:"\u7B2C\u4E8C\u7AE0-\u5355\u673A\u65F6\u4EE3\u5982\u4F55\u76D1\u63A7",tabindex:"-1"},[n("\u7B2C\u4E8C\u7AE0 \u5355\u673A\u65F6\u4EE3\u5982\u4F55\u76D1\u63A7 "),e("a",{class:"header-anchor",href:"#\u7B2C\u4E8C\u7AE0-\u5355\u673A\u65F6\u4EE3\u5982\u4F55\u76D1\u63A7","aria-hidden":"true"},"#")],-1),A=e("p",null,"CPU \u76D1\u63A7\u547D\u4EE4: w\u3001 top\u3001 htop\u3001 glances",-1),I=e("pre",null,[e("code",null,`%Cpu(s): 0.3 us, 0.3 sy, 0.0 ni, 99.3 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st
us \u7528\u6237\u6001: \u8DDF\u7528\u6237\u7684\u64CD\u4F5C\u6709\u5173 35%
sy \u7CFB\u7EDF\u6001: \u8DDF\u5185\u6838\u7684\u5904\u7406\u6709\u5173 60%
id CPU \u7A7A\u95F2:
`)],-1),S=e("p",null,"\u5185\u5B58\u76D1\u63A7\u547D\u4EE4: free",-1),$=e("pre",null,[e("code",null,`[root@m01 ~]# free -h
              total        used        free      shared  buff/cache   available
Mem:           977M        105M        724M        6.6M        148M        729M
Swap:          1.0G          0B        1.0G
`)],-1),N=e("p",null,"\u78C1\u76D8\u76D1\u63A7\u547D\u4EE4: df\u3001 iotop",-1),R=e("pre",null,[e("code",null,`Device: tps kB_read/s kB_wrtn/s kB_read kB_wrtn
sda 0.80 25.32 33.36 221034 291193
\u8BBE\u5907\u540D \u6BCF\u79D2\u4F20\u8F93\u6B21\u6570 \u6BCF\u79D2\u8BFB\u5927\u5C0F \u6BCF\u79D2\u5199\u5927\u5C0F \u8BFB\u7684\u603B\u5927\u5C0F \u5199\u7684\u603B\u5927\u5C0F
`)],-1),M=e("p",null,"\u7F51\u7EDC\u76D1\u63A7\u547D\u4EE4: ifconfig\u3001 route\u3001 glances\u3001 iftop\u3001 nethogs\u3001 netstat",-1),C=e("pre",null,[e("code",null,`\u5355\u4F4D\u6362\u7B97
Mbps 100Mbps/8
MB 12MB
iftop \u4E2D\u95F4\u7684<= =>\u8FD9\u4E24\u4E2A\u5DE6\u53F3\u7BAD\u5934\uFF0C\u8868\u793A\u7684\u662F\u6D41\u91CF\u7684\u65B9\u5411\u3002
TX\uFF1A\u53D1\u9001\u6D41\u91CF\u3001 RX\uFF1A\u63A5\u6536\u6D41\u91CF\u3001 TOTAL\uFF1A\u603B\u6D41\u91CF
#\u67E5\u770B TCP11 \u4E2D\u72B6\u6001
netstat -an|grep ESTABLISHED
netstat -rn # \u67E5\u770B\u8DEF\u7531\u4FE1\u606F
netstat -lntup
`)],-1),L=e("p",null,"\u968F\u7740\u65F6\u95F4\u7684\u63A8\u79FB\uFF0C\u7528\u6237\u4E0D\u65AD\u7684\u589E\u591A\uFF0C\u670D\u52A1\u968F\u65F6\u53EF\u80FD\u625B\u4E0D\u4F4F\u4F1A\u88AB oom(out of memory)\uFF0C\u5F53\u7CFB\u7EDF\u5185\u5B58\u4E0D\u8DB3\u7684\u65F6\u5019\uFF0C\u4F1A \u89E6\u53D1 oom 1.\u5F53\u7CFB\u7EDF\u5185\u5B58\u4E0D\u8DB3\u7684\u65F6\u5019\u5C31\u4F1A\u5927\u91CF\u4F7F\u7528 swap 2.\u5F53\u7CFB\u7EDF\u5927\u91CF\u4F7F\u7528 swap \u7684\u65F6\u5019\uFF0C\u7CFB\u7EDF\u4F1A\u7279\u522B\u5361 \u6CE8\u610F: \u6709\u65F6\u53EF\u80FD\u5185\u5B58\u8FD8\u6709\u5269\u4F59 300Mb-500Mb\uFF0C\u4F46\u4F1A\u53D1\u73B0 swap \u4F9D\u7136\u88AB\u4F7F\u7528",-1),q=e("pre",null,[e("code",null,`[root@ZabbixServer ~]# dd if=/dev/zero of=/dev/null bs=800M
[root@ZabbixServer ~]# tail -f /var/log/messages
Out of memory: Kill process 2227 (dd) score 778 or sacrifice child
Killed process 2227 (dd) total-vm:906724kB, anon-rss:798820kB, file-rss:0kB
`)],-1),j=e("p",null,"3.\u90A3\u5355\u673A\u65F6\u4EE3\uFF0C\u5982\u4F55\u4F7F\u7528 shell \u811A\u672C\u6765\u5B9E\u73B0\u670D\u52A1\u5668\u7684\u76D1\u63A7 \u9700\u6C42: \u6BCF\u9694 1 \u5206\u949F\u76D1\u63A7\u4E00\u6B21\u5185\u5B58,\u5F53\u4F60\u7684\u53EF\u7528\u5185\u5B58\u4F4E\u4E8E 100m,\u53D1\u90AE\u4EF6\u62A5\u8B66,\u8981\u6C42\u663E\u793A\u5269\u4F59\u5185\u5B58",-1),Z=e("ul",null,[e("li",null,[e("p",null,"1.\u600E\u4E48\u83B7\u53D6\u5185\u5B58\u53EF\u7528\u7684\u503C free -m|awk '/^Mem/{print $NF}'")]),e("li",null,[e("p",null,"2.\u83B7\u53D6\u5230\u5185\u5B58\u53EF\u7528\u7684\u503C\u5982\u4F55\u548C\u8BBE\u5B9A\u7684\u9608\u503C\u8FDB\u884C\u6BD4\u8F83")]),e("li",null,[e("p",null,"3.\u6BD4\u8F83\u5982\u679C\u5927\u4E8E 100m \u5219\u4E0D\u5904\u7406\uFF0C\u5982\u679C\u5C0F\u4E8E 100 \u5219\u62A5\u8B66")]),e("li",null,[e("p",null,"4.\u5982\u4F55\u6BCF\u9694 1 \u5206\u949F\u6267\u884C\u4E00\u6B21"),e("p",null,[n("[root@ZabbixServer ~]# cat "),e("a",{href:"http://free.sh",target:"_blank",rel:"noreferrer"},"free.sh"),n(" #!/usr/bin/bash HostName=(hostname)_(hostname -i) Date="),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mo",{stretchy:"false"},"("),e("mi",null,"d"),e("mi",null,"a"),e("mi",null,"t"),e("mi",null,"e"),e("mo",null,"+"),e("mi",null,"w"),e("mi",null,"h"),e("mi",null,"i"),e("mi",null,"l"),e("mi",null,"e"),e("mi",null,"t"),e("mi",null,"r"),e("mi",null,"u"),e("mi",null,"e"),e("mo",{separator:"true"},";"),e("mi",null,"d"),e("mi",null,"o"),e("mi",null,"F"),e("mi",null,"r"),e("mi",null,"e"),e("mi",null,"e"),e("mo",null,"=")]),e("annotation",{encoding:"application/x-tex"},"(date +%F) while true;do Free=")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mopen"},"("),e("span",{class:"mord mathnormal"},"d"),e("span",{class:"mord mathnormal"},"a"),e("span",{class:"mord mathnormal"},"t"),e("span",{class:"mord mathnormal"},"e"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mbin"},"+"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.02691em"}},"w"),e("span",{class:"mord mathnormal"},"hi"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),e("span",{class:"mord mathnormal"},"e"),e("span",{class:"mord mathnormal"},"t"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),e("span",{class:"mord mathnormal"},"u"),e("span",{class:"mord mathnormal"},"e"),e("span",{class:"mpunct"},";"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord mathnormal"},"d"),e("span",{class:"mord mathnormal"},"o"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"F"),e("span",{class:"mord mathnormal"},"ree"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"=")])])]),n("(free -m|awk '/^Mem/{print $NF}') if [ "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"F"),e("mi",null,"r"),e("mi",null,"e"),e("mi",null,"e"),e("mo",null,"\u2212"),e("mi",null,"l"),e("mi",null,"e"),e("mn",null,"100"),e("mo",{stretchy:"false"},"]"),e("mo",{separator:"true"},";"),e("mi",null,"t"),e("mi",null,"h"),e("mi",null,"e"),e("mi",null,"n"),e("mi",null,"e"),e("mi",null,"c"),e("mi",null,"h"),e("mi",null,"o"),e("mi",{mathvariant:"normal"},'"')]),e("annotation",{encoding:"application/x-tex"},'Free -le 100 ];then echo "')])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"F"),e("span",{class:"mord mathnormal"},"ree"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mbin"},"\u2212"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),e("span",{class:"mord mathnormal"},"e"),e("span",{class:"mord"},"100"),e("span",{class:"mclose"},"]"),e("span",{class:"mpunct"},";"),e("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),e("span",{class:"mord mathnormal"},"t"),e("span",{class:"mord mathnormal"},"h"),e("span",{class:"mord mathnormal"},"e"),e("span",{class:"mord mathnormal"},"n"),e("span",{class:"mord mathnormal"},"ec"),e("span",{class:"mord mathnormal"},"h"),e("span",{class:"mord mathnormal"},"o"),e("span",{class:"mord"},'"')])])]),n('Date: $HostName Mem Is < ${Free}MB" fi sleep 5 done')])])],-1),D=e("h1",{id:"\u7B2C\u4E09\u7AE0-zabbix-\u76D1\u63A7\u5FEB\u901F\u5B89\u88C5",tabindex:"-1"},[n("\u7B2C\u4E09\u7AE0 zabbix \u76D1\u63A7\u5FEB\u901F\u5B89\u88C5 "),e("a",{class:"header-anchor",href:"#\u7B2C\u4E09\u7AE0-zabbix-\u76D1\u63A7\u5FEB\u901F\u5B89\u88C5","aria-hidden":"true"},"#")],-1),U=e("h2",{id:"_1-\u914D\u7F6Ezabbix\u4ED3\u5E93",tabindex:"-1"},[n("1.\u914D\u7F6Ezabbix\u4ED3\u5E93 "),e("a",{class:"header-anchor",href:"#_1-\u914D\u7F6Ezabbix\u4ED3\u5E93","aria-hidden":"true"},"#")],-1),B=e("p",null,"###\u5728\u8FD9\u91CC\u63D0\u4F9Bzabbix4.2yum\u4ED3\u5E93\u53EF\u4F9B\u65E5\u5E38\u4F7F\u7528",-1),F=e("p",null,[e("a",{href:"http://www.kococ.cn/cloud/index.php?share/folder&user=1&sid=eJIcXWhz",target:"_blank",rel:"noreferrer"},"Zabbix4.2\u4ED3\u5E93\u94FE\u63A5"),n(" \uFF08"),e("a",{href:"http://www.xoxoyun.cn/cloud/index.php?share/folder&user=1&sid=eJIcXWhz%EF%BC%89",target:"_blank",rel:"noreferrer"},"http://www.xoxoyun.cn/cloud/index.php?share/folder&user=1&sid=eJIcXWhz\uFF09")],-1),G=e("pre",null,[e("code",null,`[root@m01 ~]# rpm -ivh http://mirrors.aliyun.com/zabbix/zabbix/4.0/rhel/7/x86_64/zabbix-release-4.0-1.el7.noarch.rpm
`)],-1),P=e("h2",{id:"file-href-http-cloud-xoxoyun-cn-index-php-share-file-user-1-sid-tidyuqrn-\u53EF\u75284-0\u955C\u50CF\u6E90-file-2-\u5B89\u88C5-zabbix-\u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA-mysql\u3001-zabbix-agent",tabindex:"-1"},[n('[file href="'),e("a",{href:"http://cloud.xoxoyun.cn/index.php?share/file&user=1&sid=TIDYUqRn",target:"_blank",rel:"noreferrer"},"http://cloud.xoxoyun.cn/index.php?share/file&user=1&sid=TIDYUqRn"),n('"]\u53EF\u75284.0\u955C\u50CF\u6E90[/file] 2.\u5B89\u88C5 Zabbix \u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA MySQL\u3001 Zabbix-agent '),e("a",{class:"header-anchor",href:"#file-href-http-cloud-xoxoyun-cn-index-php-share-file-user-1-sid-tidyuqrn-\u53EF\u75284-0\u955C\u50CF\u6E90-file-2-\u5B89\u88C5-zabbix-\u7A0B\u5E8F\u5305\uFF0C\u4EE5\u53CA-mysql\u3001-zabbix-agent","aria-hidden":"true"},"#")],-1),O=e("pre",null,[e("code",null,`[root@m01 ~]# yum install -y zabbix-server-mysql zabbix-web-mysql zabbix-agent mariadb-server
`)],-1),W=e("p",null,"\u4E0B\u8F7D\u963F\u91CC\u4E91epel\u6E90base\u6E90",-1),H=e("pre",null,[e("code",null,`wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
yum install -y http://springdale.math.ias.edu/data/puias/unsupported/7/x86_64/iksemel-1.4-6.sdl7.x86_64.rpm

[root@m01 ~]# systemctl start mariadb.service && systemctl enable mariadb.service
`)],-1),X=e("h2",{id:"_3-\u521B\u5EFA-zabbix-\u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237",tabindex:"-1"},[n("3.\u521B\u5EFA Zabbix \u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237 "),e("a",{class:"header-anchor",href:"#_3-\u521B\u5EFA-zabbix-\u6570\u636E\u5E93\u4EE5\u53CA\u7528\u6237","aria-hidden":"true"},"#")],-1),V=e("pre",null,[e("code",null,`[root@m01 ~]# mysqladmin password 123456
[root@m01 ~]# mysql -uroot -p123456
MariaDB [(none)]> create database zabbix character set utf8 collate utf8_bin;
MariaDB [(none)]> grant all privileges on zabbix.* to zabbix@localhost identified by 'zabbix';
MariaDB [(none)]> flush privileges;
`)],-1),Y=e("h2",{id:"_4-\u5BFC\u5165-zabbix-\u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D",tabindex:"-1"},[n("4.\u5BFC\u5165 Zabbix \u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D "),e("a",{class:"header-anchor",href:"#_4-\u5BFC\u5165-zabbix-\u6570\u636E\u81F3\u6570\u636E\u5E93\u4E2D","aria-hidden":"true"},"#")],-1),Q=e("pre",null,[e("code",null,`[root@m01 ~]# zcat /usr/share/doc/zabbix-server-mysql-4.0.11/create.sql.gz | mysql -uzabbix -pzabbix zabbix
`)],-1),K=e("h2",{id:"_5-\u7F16\u8F91-etc-zabbix-zabbix-server-conf-\u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E",tabindex:"-1"},[n("5.\u7F16\u8F91/etc/zabbix/zabbix_server.conf \u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E "),e("a",{class:"header-anchor",href:"#_5-\u7F16\u8F91-etc-zabbix-zabbix-server-conf-\u6587\u4EF6\uFF0C\u4FEE\u6539\u6570\u636E\u5E93\u914D\u7F6E","aria-hidden":"true"},"#")],-1),J=e("pre",null,[e("code",null,`[root@m01 ~]# grep "^[a-Z]" /etc/zabbix/zabbix_server.conf 
...............
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=zabbix
...............
`)],-1),ee=e("h2",{id:"_6-\u542F\u52A8-zabbix-\u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F",tabindex:"-1"},[n("6.\u542F\u52A8 Zabbix \u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F "),e("a",{class:"header-anchor",href:"#_6-\u542F\u52A8-zabbix-\u670D\u52A1\u8FDB\u7A0B\uFF0C\u5E76\u52A0\u5165\u5F00\u673A\u81EA\u542F","aria-hidden":"true"},"#")],-1),ne=e("pre",null,[e("code",null,`[root@m01 ~]# systemctl start zabbix-server.service 
[root@m01 ~]# systemctl enable zabbix-server.service
`)],-1),te=e("h2",{id:"_7-\u914D\u7F6E-apache-\u7684\u914D\u7F6E\u6587\u4EF6-etc-httpd-conf-d-zabbix-conf\uFF0C\u4FEE\u6539\u65F6\u533A",tabindex:"-1"},[n("7.\u914D\u7F6E Apache \u7684\u914D\u7F6E\u6587\u4EF6/etc/httpd/conf.d/zabbix.conf\uFF0C\u4FEE\u6539\u65F6\u533A "),e("a",{class:"header-anchor",href:"#_7-\u914D\u7F6E-apache-\u7684\u914D\u7F6E\u6587\u4EF6-etc-httpd-conf-d-zabbix-conf\uFF0C\u4FEE\u6539\u65F6\u533A","aria-hidden":"true"},"#")],-1),ae=e("pre",null,[e("code",null,`[root@m01 ~]# grep "Shanghai" /etc/httpd/conf.d/zabbix.conf 
        php_value date.timezone Asia/Shanghai
`)],-1),ie=e("h2",{id:"_8-\u91CD\u542F-apache-web-\u670D\u52A1\u5668",tabindex:"-1"},[n("8.\u91CD\u542F Apache Web \u670D\u52A1\u5668 "),e("a",{class:"header-anchor",href:"#_8-\u91CD\u542F-apache-web-\u670D\u52A1\u5668","aria-hidden":"true"},"#")],-1),le=e("h2",{id:"root-m01-systemctl-start-httpd",tabindex:"-1"},[n("[root@m01 ~]# systemctl start httpd "),e("a",{class:"header-anchor",href:"#root-m01-systemctl-start-httpd","aria-hidden":"true"},"#")],-1),se=e("h1",{id:"\u7B2C\u56DB\u7AE0-web\u5B89\u88C5\u6B65\u9AA4",tabindex:"-1"},[n("\u7B2C\u56DB\u7AE0 WEB\u5B89\u88C5\u6B65\u9AA4 "),e("a",{class:"header-anchor",href:"#\u7B2C\u56DB\u7AE0-web\u5B89\u88C5\u6B65\u9AA4","aria-hidden":"true"},"#")],-1),re=e("h2",{id:"_1-\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp-192-168-10-66-zabbix-setup-php",tabindex:"-1"},[n("1.\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1A"),e("a",{href:"http://192.168.10.66/zabbix/setup.php",target:"_blank",rel:"noreferrer"},"http://192.168.10.66/zabbix/setup.php"),n(),e("a",{class:"header-anchor",href:"#_1-\u6D4F\u89C8\u5668\u6253\u5F00\u5730\u5740\uFF1Ahttp-192-168-10-66-zabbix-setup-php","aria-hidden":"true"},"#")],-1),oe=e("p",null,[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/194576284.png",alt:"1.png"})],-1),de=e("h2",{id:"_2-\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38",tabindex:"-1"},[n("2.\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38 "),e("a",{class:"header-anchor",href:"#_2-\u68C0\u67E5\u4F9D\u8D56\u9879\u662F\u5426\u5B58\u5728\u5F02\u5E38","aria-hidden":"true"},"#")],-1),ce=e("p",null,[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/2386190024.png",alt:"2.png"})],-1),he=e("h2",{id:"_3-\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93",tabindex:"-1"},[n("3.\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93 "),e("a",{class:"header-anchor",href:"#_3-\u914D\u7F6Ezabbix\u8FDE\u63A5\u6570\u636E\u5E93","aria-hidden":"true"},"#")],-1),_e=e("p",null,[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/395866565.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),be=e("h2",{id:"_4-\u914D\u7F6E-zabbixserver-\u670D\u52A1\u5668\u7684\u4FE1\u606F",tabindex:"-1"},[n("4.\u914D\u7F6E ZabbixServer \u670D\u52A1\u5668\u7684\u4FE1\u606F "),e("a",{class:"header-anchor",href:"#_4-\u914D\u7F6E-zabbixserver-\u670D\u52A1\u5668\u7684\u4FE1\u606F","aria-hidden":"true"},"#")],-1),pe=e("h2",{id:"_5-\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5",tabindex:"-1"},[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/3424985468.png",alt:"4.png"}),n(" 5.\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5 "),e("a",{class:"header-anchor",href:"#_5-\u6700\u7EC8\u786E\u8BA4\u68C0\u67E5","aria-hidden":"true"},"#")],-1),ue=e("h2",{id:"_6-\u5B89\u88C5\u6210\u529F",tabindex:"-1"},[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/3424985468.png",alt:"5.png"}),n(" 6.\u5B89\u88C5\u6210\u529F "),e("a",{class:"header-anchor",href:"#_6-\u5B89\u88C5\u6210\u529F","aria-hidden":"true"},"#")],-1),ge=e("p",null,[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/1365103457.png",alt:"6.png"})],-1),me=e("p",null,"\u63D0\u793A\u5DF2\u6210\u529F\u5730\u5B89\u88C5\u4E86 Zabbix \u524D\u7AEF\u3002\u914D\u7F6E\u6587\u4EF6/etc/zabbix/web/zabbix.conf.php \u88AB\u521B\u5EFA\u3002",-1),xe=e("h2",{id:"_7-\u767B\u9646zabbix",tabindex:"-1"},[n("7.\u767B\u9646zabbix "),e("a",{class:"header-anchor",href:"#_7-\u767B\u9646zabbix","aria-hidden":"true"},"#")],-1),fe=e("p",null,[e("img",{src:"http://www.kcooc.cn/usr/uploads/2020/01/1375784407.png",alt:"7.png"})],-1),ze=e("p",null,"\u9ED8\u8BA4\u767B\u9646 ZabbixWeb \u7684\u7528\u6237\u540D Admin\uFF0C\u5BC6\u7801 zabbix",-1),ve=e("h2",{id:"_8-\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587",tabindex:"-1"},[n("8.\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587 "),e("a",{class:"header-anchor",href:"#_8-\u8C03\u6574\u5B57\u7B26\u96C6\u4E3A\u4E2D\u6587","aria-hidden":"true"},"#")],-1),we=e("p",null,[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/632295469.png",alt:"8.png"})],-1),ke=e("p",null,[e("img",{src:"http://www.kcooc.cn/usr/uploads/2020/01/3064526244.png",alt:"9.png"})],-1),Ee=e("h2",{id:"_9-\u4FEE\u590D\u4E2D\u6587\u4E71\u7801",tabindex:"-1"},[n("9.\u4FEE\u590D\u4E2D\u6587\u4E71\u7801 "),e("a",{class:"header-anchor",href:"#_9-\u4FEE\u590D\u4E2D\u6587\u4E71\u7801","aria-hidden":"true"},"#")],-1),ye=e("p",null,[e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/172339092.png",alt:"10.png"})],-1),Te=e("p",null,"\u6253\u5F00\u56FE\u5F62\u4E4B\u540E\u4F1A\u53D1\u73B0\u8BED\u8A00\u4E3A\u4E71\u7801\uFF0C\u539F\u56E0\u662F\u7F3A\u5C11\u5B57\u4F53",-1),Ae=e("p",null,[e("strong",null,"\u89E3\u51B3\u65B9\u6CD5:\u5B89\u88C5\u5B57\u4F53\u5E76\u66FF\u6362\u73B0\u6709\u5B57\u4F53")],-1),Ie=e("pre",null,[e("code",null,`[root@m01 ~]# yum install wqy-microhei-fonts -y
[root@m01 ~]# cp /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /usr/share/zabbix/assets/fonts/graphfont.ttf
`)],-1),Se=e("p",null,[n("\u518D\u6B21\u5237\u65B0\u53D1\u73B0\u5DF2\u7ECF\u53D8\u6210\u4E2D\u6587\u4E86 "),e("img",{src:"http://www.kococ.cn/usr/uploads/2020/01/643160504.png",alt:"11.png"})],-1),$e=e("h1",{id:"\u7B2C\u4E94\u7AE0-zabbix-\u76D1\u63A7\u57FA\u7840\u67B6\u6784",tabindex:"-1"},[n("\u7B2C\u4E94\u7AE0 Zabbix \u76D1\u63A7\u57FA\u7840\u67B6\u6784 "),e("a",{class:"header-anchor",href:"#\u7B2C\u4E94\u7AE0-zabbix-\u76D1\u63A7\u57FA\u7840\u67B6\u6784","aria-hidden":"true"},"#")],-1),Ne=e("p",null,[n("zabbix-agent(\u6570\u636E\u91C7\u96C6)\u2014>zabbix-server(\u6570\u636E\u5206\u6790|\u62A5\u8B66)\u2014> \u6570\u636E\u5E93(\u6570\u636E\u5B58\u50A8)<\u2014zabbix web(\u6570\u636E\u5C55\u793A) "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-189ad59c27ddffec.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Re=e("h1",{id:"\u7B2C\u516D\u7AE0-zabbix-\u5FEB\u901F\u76D1\u63A7\u4E3B\u673A",tabindex:"-1"},[n("\u7B2C\u516D\u7AE0 zabbix \u5FEB\u901F\u76D1\u63A7\u4E3B\u673A "),e("a",{class:"header-anchor",href:"#\u7B2C\u516D\u7AE0-zabbix-\u5FEB\u901F\u76D1\u63A7\u4E3B\u673A","aria-hidden":"true"},"#")],-1),Me=e("h2",{id:"_1-\u5B89\u88C5zabbix-agent",tabindex:"-1"},[n("1.\u5B89\u88C5zabbix-agent "),e("a",{class:"header-anchor",href:"#_1-\u5B89\u88C5zabbix-agent","aria-hidden":"true"},"#")],-1),Ce=e("pre",null,[e("code",null,`[root@web01 ~]# rpm -ivh https://mirror.tuna.tsinghua.edu.cn/zabbix/zabbix/4.0/rhel/7/x86_64/zabbix-agent-4.0.11-1.el7.x86_64.rpm
`)],-1),Le=e("h2",{id:"_2-\u914D\u7F6Ezabbix-agent",tabindex:"-1"},[n("2.\u914D\u7F6Ezabbix-agent "),e("a",{class:"header-anchor",href:"#_2-\u914D\u7F6Ezabbix-agent","aria-hidden":"true"},"#")],-1),qe=e("pre",null,[e("code",null,`[root@web01 ~]# grep "^[a-Z]" /etc/zabbix/zabbix_agentd.conf    
PidFile=/var/run/zabbix/zabbix_agentd.pid
LogFile=/var/log/zabbix/zabbix_agentd.log
LogFileSize=0
Server=10.0.1.61
ServerActive=127.0.0.1
Hostname=Zabbix server
Include=/etc/zabbix/zabbix_agentd.d/*.conf
`)],-1),je=e("p",null,"3.\u542F\u52A8zabbix-agent\u5E76\u68C0\u67E5",-1),Ze=e("pre",null,[e("code",null,`[root@web01 ~]# systemctl start zabbix-agent.service 
[root@web01 ~]# systemctl enable zabbix-agent.service
[root@web01 ~]# netstat -lntup|grep 10050
tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      10351/zabbix_agentd 
tcp6       0      0 :::10050                :::*                    LISTEN      10351/zabbix_agentd 
`)],-1),De=e("h2",{id:"_4-zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A",tabindex:"-1"},[n("4.zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A "),e("a",{class:"header-anchor",href:"#_4-zabbix-web\u754C\u9762\uFF0C\u6DFB\u52A0\u4E3B\u673A","aria-hidden":"true"},"#")],-1),Ue=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-10db69c42454d500.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Be=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-ceee736beb333ce5.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Fe=e("h1",{id:"\u7B2C\u4E03\u7AE0-\u81EA\u5B9A\u4E49\u76D1\u63A7\u4E3B\u673A",tabindex:"-1"},[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-5d12b07231386679.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"}),n(" \u7B2C\u4E03\u7AE0 \u81EA\u5B9A\u4E49\u76D1\u63A7\u4E3B\u673A "),e("a",{class:"header-anchor",href:"#\u7B2C\u4E03\u7AE0-\u81EA\u5B9A\u4E49\u76D1\u63A7\u4E3B\u673A","aria-hidden":"true"},"#")],-1),Ge=e("h2",{id:"_1-\u76D1\u63A7\u9700\u6C42",tabindex:"-1"},[n("1.\u76D1\u63A7\u9700\u6C42 "),e("a",{class:"header-anchor",href:"#_1-\u76D1\u63A7\u9700\u6C42","aria-hidden":"true"},"#")],-1),Pe=e("p",null,"\u76D1\u63A7TCP11\u79CD\u72B6\u6001\u96C6",-1),Oe=e("h2",{id:"_2-\u547D\u4EE4\u884C\u5B9E\u73B0",tabindex:"-1"},[n("2.\u547D\u4EE4\u884C\u5B9E\u73B0 "),e("a",{class:"header-anchor",href:"#_2-\u547D\u4EE4\u884C\u5B9E\u73B0","aria-hidden":"true"},"#")],-1),We=e("pre",null,[e("code",null,`[root@web01 ~]# netstat -ant|grep -c TIME_WAIT
55
[root@web01 ~]# netstat -ant|grep -c LISTEN
12
`)],-1),He=e("h2",{id:"_3-\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6-\u4F20\u53C2\u5F62\u5F0F",tabindex:"-1"},[n("3.\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6(\u4F20\u53C2\u5F62\u5F0F) "),e("a",{class:"header-anchor",href:"#_3-\u7F16\u5199zabbix\u76D1\u63A7\u6587\u4EF6-\u4F20\u53C2\u5F62\u5F0F","aria-hidden":"true"},"#")],-1),Xe=e("pre",null,[e("code",null,`[root@web01 ~]# cat /etc/zabbix/zabbix_agentd.d/tcp_status.conf 
UserParameter=tcp_state[*],netstat -ant|grep -c $1
root@web01 ~]# systemctl restart zabbix-agent.service
`)],-1),Ve=e("h2",{id:"_4-server\u7AEF\u8FDB\u884C\u6D4B\u8BD5",tabindex:"-1"},[n("4.server\u7AEF\u8FDB\u884C\u6D4B\u8BD5 "),e("a",{class:"header-anchor",href:"#_4-server\u7AEF\u8FDB\u884C\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),Ye=e("pre",null,[e("code",null,`[root@m01 ~]# rpm -ivh https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/4.0/rhel/7/x86_64/zabbix-release-4.0-1.el7.noarch.rpm
[root@m01 ~]# yum install zabbix-get.x86_64 -y 
[root@m01 ~]# zabbix_get -s 10.0.1.7 -k tcp_state[TIME_WAIT]
51
[root@m01 ~]# zabbix_get -s 10.0.1.7 -k tcp_state[LISTEN]   
12
`)],-1),Qe=e("h2",{id:"_5-web\u7AEF\u6DFB\u52A0",tabindex:"-1"},[n("5.web\u7AEF\u6DFB\u52A0 "),e("a",{class:"header-anchor",href:"#_5-web\u7AEF\u6DFB\u52A0","aria-hidden":"true"},"#")],-1),Ke=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-0b20f0a22391f3d1.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Je=e("h2",{id:"_6-\u514B\u9686\u76D1\u63A7\u9879",tabindex:"-1"},[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-19c41a9832857c2b.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"}),n(" 6.\u514B\u9686\u76D1\u63A7\u9879 "),e("a",{class:"header-anchor",href:"#_6-\u514B\u9686\u76D1\u63A7\u9879","aria-hidden":"true"},"#")],-1),en=e("p",null,[n("\u7531\u4E8ETCP\u6709\u591A\u79CD\u72B6\u6001\uFF0C\u9700\u8981\u6DFB\u52A0\u591A\u4E2A\u76D1\u63A7\u9879\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u514B\u9686\u5FEB\u901F\u8FBE\u5230\u521B\u5EFA\u7684\u6548\u679C "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-743524f196e73c5e.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),nn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-35342ea8d4cb7a44.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),tn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-2e2be3806f3c1c42.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),an=e("p",null,"\u5176\u4ED6\u7684\u72B6\u6001\u4F9D\u6B21\u6DFB\u52A0\u5373\u53EF",-1),ln=e("h2",{id:"_7-\u521B\u5EFA\u56FE\u5F62",tabindex:"-1"},[n("7.\u521B\u5EFA\u56FE\u5F62 "),e("a",{class:"header-anchor",href:"#_7-\u521B\u5EFA\u56FE\u5F62","aria-hidden":"true"},"#")],-1),sn=e("h2",{id:"_8-\u67E5\u770B\u56FE\u5F62",tabindex:"-1"},[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-6203bb8201c63361.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"}),n(" 8.\u67E5\u770B\u56FE\u5F62 "),e("a",{class:"header-anchor",href:"#_8-\u67E5\u770B\u56FE\u5F62","aria-hidden":"true"},"#")],-1),rn=e("h2",{id:"_9-\u8BBE\u7F6E\u89E6\u53D1\u5668",tabindex:"-1"},[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-a6cf4a1d2bdb3449.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"}),n(" 9.\u8BBE\u7F6E\u89E6\u53D1\u5668 "),e("a",{class:"header-anchor",href:"#_9-\u8BBE\u7F6E\u89E6\u53D1\u5668","aria-hidden":"true"},"#")],-1),on=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-98cb06eb3b07e1d5.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),dn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-37e7cc88098879d9.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),cn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-d684d487eb68da11.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),hn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-2e3bc7010546c2a1.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),_n=e("h1",{id:"\u7B2C\u516B\u7AE0-\u90AE\u4EF6\u62A5\u8B66",tabindex:"-1"},[n("\u7B2C\u516B\u7AE0 \u90AE\u4EF6\u62A5\u8B66 "),e("a",{class:"header-anchor",href:"#\u7B2C\u516B\u7AE0-\u90AE\u4EF6\u62A5\u8B66","aria-hidden":"true"},"#")],-1),bn=e("h2",{id:"_1-\u5B9A\u4E49\u53D1\u4EF6\u4EBA",tabindex:"-1"},[n("1.\u5B9A\u4E49\u53D1\u4EF6\u4EBA "),e("a",{class:"header-anchor",href:"#_1-\u5B9A\u4E49\u53D1\u4EF6\u4EBA","aria-hidden":"true"},"#")],-1),pn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-816d27e93e19aa6f.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),un=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-7e3279840e20452e.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),gn=e("h2",{id:"_2-\u5B9A\u4E49\u6536\u4EF6\u4EBA",tabindex:"-1"},[n("2.\u5B9A\u4E49\u6536\u4EF6\u4EBA "),e("a",{class:"header-anchor",href:"#_2-\u5B9A\u4E49\u6536\u4EF6\u4EBA","aria-hidden":"true"},"#")],-1),mn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-57e702ed809d0b1b.png",alt:"https://upload-images.jianshu.io/upload_images/14248468-57e702ed809d0b1b.png"})],-1),xn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-ced9fc46c956b1e3.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),fn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-90efc1aa92eb84da.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),zn=e("h2",{id:"_3-\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7",tabindex:"-1"},[n("3.\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7 "),e("a",{class:"header-anchor",href:"#_3-\u81EA\u5B9A\u4E49\u62A5\u8B66\u5185\u5BB9\u8FC7","aria-hidden":"true"},"#")],-1),vn=e("p",null,[n("\u5B9A\u5236\u62A5\u8B66\u5185\u5BB9\uFF1A "),e("a",{href:"http://www.zabbix.com/documentation/4.0/zh/manual/appendix/macros/supported_by_location",target:"_blank",rel:"noreferrer"},"https://www.zabbix.com/documentation/4.0/zh/manual/appendix/macros/supported_by_location"),n(" \u53C2\u8003\u535A\u5BA2")],-1),wn=e("p",null,[e("a",{href:"http://www.cnblogs.com/bixiaoyu/p/7302541.html",target:"_blank",rel:"noreferrer"},"https://www.cnblogs.com/bixiaoyu/p/7302541.html"),n(" \u53D1\u9001\u8B66\u544A")],-1),kn=e("pre",null,[e("code",null,`\u62A5\u8B66\u90AE\u4EF6\u6807\u9898\u53EF\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u4FE1\u606F\uFF0C\u4EA6\u53EF\u4F7F\u7528\u5982\u4E0B\u4E2D\u6587\u62A5\u8B66\u5185\u5BB9
\u540D\u79F0\uFF1AAction-Email
\u9ED8\u8BA4\u6807\u9898\uFF1A\u6545\u969C{TRIGGER.STATUS},\u670D\u52A1\u5668:{HOSTNAME1}\u53D1\u751F: {TRIGGER.NAME}\u6545\u969C!
\u544A\u8B66\u4E3B\u673A:{HOSTNAME1}
\u544A\u8B66\u65F6\u95F4:{EVENT.DATE} {EVENT.TIME}
\u544A\u8B66\u7B49\u7EA7:{TRIGGER.SEVERITY}
\u544A\u8B66\u4FE1\u606F: {TRIGGER.NAME}
\u544A\u8B66\u9879\u76EE:{TRIGGER.KEY1}
\u95EE\u9898\u8BE6\u60C5:{ITEM.NAME}:{ITEM.VALUE}
\u5F53\u524D\u72B6\u6001:{TRIGGER.STATUS}:{ITEM.VALUE1}
\u4E8B\u4EF6ID:{EVENT.ID}\u3000
\u6062\u590D\u8B66\u544A
`)],-1),En=e("p",null,[n("\u6062\u590D\u6807\u9898\uFF1A\u6062\u590D{TRIGGER.STATUS}, \u670D\u52A1\u5668:{HOSTNAME1}: {"),e("a",{href:"http://TRIGGER.NAME",target:"_blank",rel:"noreferrer"},"TRIGGER.NAME"),n("}\u5DF2\u6062\u590D!")],-1),yn=e("pre",null,[e("code",null,`\u6062\u590D\u4FE1\u606F\uFF1A
\u544A\u8B66\u4E3B\u673A:{HOSTNAME1}
\u544A\u8B66\u65F6\u95F4:{EVENT.DATE} {EVENT.TIME}
\u544A\u8B66\u7B49\u7EA7:{TRIGGER.SEVERITY}
\u544A\u8B66\u4FE1\u606F: {TRIGGER.NAME}
\u544A\u8B66\u9879\u76EE:{TRIGGER.KEY1}
\u95EE\u9898\u8BE6\u60C5:{ITEM.NAME}:{ITEM.VALUE}
\u5F53\u524D\u72B6\u6001:{TRIGGER.STATUS}:{ITEM.VALUE1}
\u4E8B\u4EF6ID:{EVENT.ID}
`)],-1),Tn=e("h1",{id:"\u7B2C\u4E5D\u7AE0-\u5FAE\u4FE1\u62A5\u8B66",tabindex:"-1"},[n("\u7B2C\u4E5D\u7AE0 \u5FAE\u4FE1\u62A5\u8B66 "),e("a",{class:"header-anchor",href:"#\u7B2C\u4E5D\u7AE0-\u5FAE\u4FE1\u62A5\u8B66","aria-hidden":"true"},"#")],-1),An=e("h2",{id:"_1-\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84",tabindex:"-1"},[n("1.\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84 "),e("a",{class:"header-anchor",href:"#_1-\u67E5\u770B\u914D\u7F6E\u6587\u4EF6\u91CC\u7684\u811A\u672C\u76EE\u5F55\u8DEF\u5F84","aria-hidden":"true"},"#")],-1),In=e("pre",null,[e("code",null,`[root@m01 ~]# grep "^AlertScriptsPath" /etc/zabbix/zabbix_server.conf
AlertScriptsPath=/usr/lib/zabbix/alertscripts
`)],-1),Sn=e("h2",{id:"_2-\u5C06weixin-py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55",tabindex:"-1"},[n("2.\u5C06weixin.py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55 "),e("a",{class:"header-anchor",href:"#_2-\u5C06weixin-py\u653E\u5728zabbix\u7279\u5B9A\u76EE\u5F55","aria-hidden":"true"},"#")],-1),$n=e("pre",null,[e("code",null,`[root@m01 /usr/lib/zabbix/alertscripts]# ll
\u603B\u7528\u91CF 4
-rwxr-xr-x 1 root root 1344 8\u6708   7 21:58 weixin.py
`)],-1),Nn=e("h2",{id:"_3-\u914D\u7F6E\u53D1\u4FE1\u4EBA",tabindex:"-1"},[n("3.\u914D\u7F6E\u53D1\u4FE1\u4EBA "),e("a",{class:"header-anchor",href:"#_3-\u914D\u7F6E\u53D1\u4FE1\u4EBA","aria-hidden":"true"},"#")],-1),Rn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-75d0cf249f19bafe.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Mn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-7f1aaedd340ef02f.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Cn=e("h2",{id:"_4-\u914D\u7F6E\u6536\u4FE1\u4EBA",tabindex:"-1"},[n("4.\u914D\u7F6E\u6536\u4FE1\u4EBA "),e("a",{class:"header-anchor",href:"#_4-\u914D\u7F6E\u6536\u4FE1\u4EBA","aria-hidden":"true"},"#")],-1),Ln=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-9709cce24dcb910a.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),qn=e("h2",{id:"_5-\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237",tabindex:"-1"},[n("5.\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237 "),e("a",{class:"header-anchor",href:"#_5-\u767B\u9646\u4F01\u4E1A\u5FAE\u4FE1\u516C\u4F17\u53F7\u6DFB\u52A0\u8D26\u6237","aria-hidden":"true"},"#")],-1),jn=e("p",null,[e("a",{href:"https://work.weixin.qq.com/wework_admin/loginpage_wx",target:"_blank",rel:"noreferrer"},"https://work.weixin.qq.com/wework_admin/loginpage_wx"),n(" 1.\u767B\u9646\u540E\u5728\u4F01\u4E1A\u53F7\u4E0A\u65B0\u5EFA\u5E94\u7528")],-1),Zn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-1ae7607fe5113d11.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Dn=e("p",null,"2.\u4E0A\u4F20logo\uFF0C\u586B\u5199\u5E94\u7528\u540D\u79F0 \uFF0C\u5E94\u7528\u4ECB\u7ECD\u7B49",-1),Un=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-ee6bc21e8c1e9d39.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Bn=e("p",null,[n("3.\u67E5\u770B\u542F\u52A8\u5E94\u7528 \u540C\u65F6\u4F1A\u751F\u6210\u5E94\u7528\u7684AgentId\u4EE5\u53CASecret\uFF0C\u8FD9\u4E2A\u5728\u540E\u9762\u6B65\u9AA4\u4F1A\u6709\u7528 "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-2cccdc342330c5d0.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Fn=e("p",null,[n("4.\u63A5\u53E3\u8C03\u7528\u6D4B\u8BD5 "),e("a",{href:"http://work.weixin.qq.com/api/devtools/devtool.php",target:"_blank",rel:"noreferrer"},"http://work.weixin.qq.com/api/devtools/devtool.php"),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-f24ffa3b5922d0c0.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Gn=e("p",null,"\u8FD9\u91CC\u7684corpid\u4E3A\u516C\u53F8ID",-1),Pn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-03544eed481caa53.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),On=e("p",null,"Corpsecret\u5C31\u662F\u521A\u624D\u521B\u5EFA\u5E94\u7528\u751F\u6210\u7684Secrt\uFF0C\u786E\u8BA4\u6CA1\u95EE\u9898\u586B\u5199\u8FDB\u53BB\u7136\u540E\u4E0B\u4E00\u6B65 \u5982\u679C\u6CA1\u95EE\u9898\u4F1A\u663E\u793A200\u72B6\u6001\u7801",-1),Wn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-c6aba38bf4da189c.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Hn=e("p",null,"6.\u6DFB\u52A0\u6210\u5458",-1),Xn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-27ba2ae8bf3773fb.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Vn=e("p",null,"7.\u5173\u6CE8\u516C\u4F17\u53F7",-1),Yn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-b0341893f157d0fb.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Qn=e("p",null,"8.\u67E5\u770B\u81EA\u5DF1\u7684\u8D26\u53F7",-1),Kn=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-8247e4f85f7ddc9a.png",alt:"\u52A0\u7C97\u6587\u5B57"})],-1),Jn=e("p",null,"9.\u4FEE\u6539\u811A\u672C\u91CC\u7684\u4FE1\u606F",-1),et=e("pre",null,[e("code",null,`[root@m01 /usr/lib/zabbix/alertscripts]# cat weixin.py 
..............
corpid='\u5FAE\u4FE1\u4F01\u4E1A\u53F7corpid'
appsecret='\u5E94\u7528\u7684Secret'
agentid=\u5E94\u7528\u7684id
..............
`)],-1),nt=e("p",null,"10.\u53D1\u4FE1\u6D4B\u8BD5",-1),tt=e("pre",null,[e("code",null,`[root@m01 /usr/lib/zabbix/alertscripts]# python  weixin.py  \u4F60\u7684\u8D26\u53F7  '\u53D1\u4FE1\u6D4B\u8BD5'  \u2018\u5FAE\u4FE1\u6D4B\u8BD5\u6D88\u606F\u2019
`)],-1),at=e("p",null,"11.\u5FAE\u4FE1\u53F7\u4E0A\u67E5\u770B",-1),it=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-9f1dc0fa9d6b8abb.png",alt:""})],-1),lt=e("p",null,"12.\u53D1\u9001\u5230\u6574\u4E2A\u5FAE\u4FE1\u7EC4 \u867D\u7136\u6211\u4EEC\u5B9E\u73B0\u4E86\u53D1\u9001\u5230\u5355\u4E2A\u7528\u6237\u7684\u529F\u80FD\uFF0C\u4F46\u662F\u5982\u679C\u6211\u4EEC\u7684\u7528\u6237\u6BD4\u8F83\u591A\uFF0C\u8FD9\u6837\u8FD8\u662F\u9EBB\u70E6\u7684\uFF0C\u4E0D\u8FC7\u6211\u4EEC\u53EF\u4EE5\u53D1\u9001\u5230\u6574\u4E2A\u7EC4\uFF0C\u5176\u5B9E\u811A\u672C\u91CC\u5DF2\u7ECF\u9884\u7559\u597D\u4E86\u914D\u7F6E\uFF0C\u53EA\u4E0D\u8FC7\u9ED8\u8BA4\u6CE8\u91CA\u4E86\u3002 \u5C06\u811A\u672C\u4FEE\u6539\u4E3A\u4EE5\u4E0B\u5185\u5BB9\uFF0C\u6CE8\u91CA\u6389\u7528\u6237\uFF0C\u6253\u5F00\u7EC4\u8BBE\u7F6E",-1),st=e("pre",null,[e("code",null,`#!/usr/bin/env python

import requests
import sys
import os
import json
import logging

logging.basicConfig(level = logging.DEBUG, format = '%(asctime)s, %(filename)s, %(levelname)s, %(message)s',
                datefmt = '%a, %d %b %Y %H:%M:%S',
                filename = os.path.join('/tmp','weixin.log'),
                filemode = 'a')
corpid='wwd26fdfb9940e7efa'
appsecret='Btg89FnZfMu0k7l6b4iagmAR5Z9TCgKknYbx-SMQvmg'
agentid=1000005

token_url='https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=' + corpid + '&corpsecret=' + appsecret
req=requests.get(token_url)
accesstoken=req.json()['access_token']

msgsend_url='https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token=' + accesstoken

#touser=sys.argv[1]
toparty=sys.argv[1]
subject=sys.argv[2]
message=sys.argv[2] + "\\n\\n" +sys.argv[3]

params={
        #"touser": touser,
        "toparty": toparty,
        "msgtype": "text",
        "agentid": agentid,
        "text": {
                "content": message
        },
        "safe":0
}

req=requests.post(msgsend_url, data=json.dumps(params))

logging.info('sendto:' + toparty + ';;subject:' + subject + ';;message:' + message)                                                                              
12.\u968F\u673A\u53D1\u9001\u5230\u6307\u5B9A\u7528\u6237\u73A9\u7B11\u811A\u672C
#!/bin/bash 
num=$(echo $(($RANDOM%28+1)))
name=$(sed -n "\${num}p" name.txt)
ok_boy=$(grep -v "\${name}" name.txt)

for ok in \${ok_boy}
do
  python  weixin.py \${ok}  "$1"  "$2"
done
`)],-1),rt=e("h1",{id:"\u7B2C\u5341\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248",tabindex:"-1"},[n("\u7B2C\u5341\u7AE0 \u81EA\u5B9A\u4E49\u6A21\u7248 "),e("a",{class:"header-anchor",href:"#\u7B2C\u5341\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248","aria-hidden":"true"},"#")],-1),ot=e("h2",{id:"_1-\u76D1\u63A7tcp11\u79CD\u72B6\u6001",tabindex:"-1"},[n("1.\u76D1\u63A7TCP11\u79CD\u72B6\u6001 "),e("a",{class:"header-anchor",href:"#_1-\u76D1\u63A7tcp11\u79CD\u72B6\u6001","aria-hidden":"true"},"#")],-1),dt=e("p",null,"\u7F16\u5199zabbix\u914D\u7F6E\u6587\u4EF6",-1),ct=e("pre",null,[e("code",null,`[root@web01 /etc/zabbix/zabbix_agentd.d]# cat zbx_tcp.conf 
UserParameter=ESTABLISHED,netstat -ant|grep  -c 'ESTABLISHED'
UserParameter=SYN_SENT,netstat -ant|grep  -c 'SYN_SENT'
UserParameter=SYN_RECV,netstat -ant|grep  -c 'SYN_RECV'
UserParameter=FIN_WAIT1,netstat -ant|grep  -c 'FIN_WAIT1'
UserParameter=FIN_WAIT2,netstat -ant|grep  -c 'FIN_WAIT2'
UserParameter=TIME_WAIT,netstat -ant|grep  -c 'TIME_WAIT'
UserParameter=CLOSE,netstat -ant|grep  -c 'CLOSE'
UserParameter=CLOSE_WAIT,netstat -ant|grep  -c 'CLOSE_WAIT'
UserParameter=LAST_ACK,netstat -ant|grep  -c 'LAST_ACK'
UserParameter=LISTEN,netstat -ant|grep  -c 'LISTEN'
UserParameter=CLOSING,netstat -ant|grep  -c 'CLOSING'
`)],-1),ht=e("h2",{id:"_2-\u91CD\u542Fzabbix-agent",tabindex:"-1"},[n("2.\u91CD\u542Fzabbix-agent "),e("a",{class:"header-anchor",href:"#_2-\u91CD\u542Fzabbix-agent","aria-hidden":"true"},"#")],-1),_t=e("pre",null,[e("code",null,`[root@web01 ~]# systemctl restart zabbix-agent.service 
`)],-1),bt=e("h2",{id:"_3-\u6D4B\u8BD5\u76D1\u63A7\u9879",tabindex:"-1"},[n("3.\u6D4B\u8BD5\u76D1\u63A7\u9879 "),e("a",{class:"header-anchor",href:"#_3-\u6D4B\u8BD5\u76D1\u63A7\u9879","aria-hidden":"true"},"#")],-1),pt=e("p",null,"\u4F7F\u7528zabbix-get\u547D\u4EE4\u6D4B\u8BD5",-1),ut=e("pre",null,[e("code",null,`[root@m01 ~]# yum install zabbix-get.x86_64 -y
[root@m01 ~]# zabbix_get -s 10.0.1.7 -k ESTABLISHED
2
[root@m01 ~]# zabbix_get -s 10.0.1.7 -k LISTEN
12
`)],-1),gt=e("p",null,"4.\u5BFC\u5165\u6A21\u7248\u6587\u4EF6",-1),mt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-bf27be32d233f194.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),xt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-784f18988c7debab.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),ft=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-2a388d1ec74725e9.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),zt=e("p",null,[n("5.\u4E3B\u673A\u5173\u8054\u6A21\u7248\u6587\u4EF6 "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-9070da45843e2644.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),vt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-0ab34947877205eb.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),wt=e("p",null,[n("6.\u67E5\u770B\u6700\u65B0\u6570\u636E "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-e17fda198f1ec1ac.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),kt=e("p",null,[n("7.\u67E5\u770B\u56FE\u5F62 "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-9c011ab3f383de99.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Et=e("h2",{id:"\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001",tabindex:"-1"},[n("\u7B2Cx\u7AE0 \u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001 "),e("a",{class:"header-anchor",href:"#\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7nginx\u72B6\u6001","aria-hidden":"true"},"#")],-1),yt=e("h2",{id:"_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5",tabindex:"-1"},[n("1.\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5 "),e("a",{class:"header-anchor",href:"#_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762\u5E76\u8BBF\u95EE\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),Tt=e("pre",null,[e("code",null,`[root@web01 ~]# cat /etc/nginx/conf.d/status.conf 
server {
   listen 80;
   server_name localhost;
   location /nginx_status {
       stub_status on;
       access_log off;
   }
}

[root@web01 ~]# curl 127.0.0.1/nginx_status/
Active connections: 1 
server accepts handled requests
 6 6 6 
Reading: 0 Writing: 1 Waiting: 0 
`)],-1),At=e("h2",{id:"_2-\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C",tabindex:"-1"},[n("2.\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C "),e("a",{class:"header-anchor",href:"#_2-\u51C6\u5907nginx\u76D1\u63A7\u72B6\u6001\u811A\u672C","aria-hidden":"true"},"#")],-1),It=e("pre",null,[e("code",null,`[root@web01 /etc/zabbix/zabbix_agentd.d]# cat nginx_monitor.sh 
#!/bin/bash
NGINX_COMMAND=$1
CACHEFILE="/tmp/nginx_status.txt"
CMD="/usr/bin/curl http://127.0.0.1/nginx_status/"
if [ ! -f $CACHEFILE  ];then
   $CMD >$CACHEFILE 2>/dev/null
fi
# Check and run the script
TIMEFLM=\`stat -c %Y $CACHEFILE\`
TIMENOW=\`date +%s\`

if [ \`expr $TIMENOW - $TIMEFLM\` -gt 60 ]; then
    rm -f $CACHEFILE
fi
if [ ! -f $CACHEFILE  ];then
   $CMD >$CACHEFILE 2>/dev/null
fi

nginx_active(){
         grep 'Active' $CACHEFILE| awk '{print $NF}'
         exit 0;
}
nginx_reading(){
         grep 'Reading' $CACHEFILE| awk '{print $2}'
         exit 0;
}
nginx_writing(){
         grep 'Writing' $CACHEFILE | awk '{print $4}'
         exit 0;
}
nginx_waiting(){
         grep 'Waiting' $CACHEFILE| awk '{print $6}'
         exit 0;
}
nginx_accepts(){
         awk NR==3 $CACHEFILE| awk '{print $1}' 
         exit 0;
}
nginx_handled(){
         awk NR==3 $CACHEFILE| awk '{print $2}' 
         exit 0;
}
nginx_requests(){
         awk NR==3 $CACHEFILE| awk '{print $3}'
         exit 0;
}

case $NGINX_COMMAND in
    active)
        nginx_active;
        ;;
    reading)
        nginx_reading;
        ;;
    writing)
        nginx_writing;
        ;;
    waiting)
        nginx_waiting;
        ;;
    accepts)
        nginx_accepts;
        ;;
    handled)
        nginx_handled;
        ;;
    requests)
        nginx_requests;
        ;;
    *)
echo 'Invalid credentials';
exit 2;
esac
`)],-1),St=e("h2",{id:"_3-\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6",tabindex:"-1"},[n("3.\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6 "),e("a",{class:"header-anchor",href:"#_3-\u7F16\u5199zabbix\u76D1\u63A7\u914D\u7F6E\u6587\u4EF6","aria-hidden":"true"},"#")],-1),$t=e("pre",null,[e("code",null,`[root@web01 ~]# cat /etc/zabbix/zabbix_agentd.d/nginx_status.conf
UserParameter=nginx_status[*],/bin/bash /etc/zabbix/zabbix_agentd.d/nginx_monitor.sh $1

[root@web01 ~]# systemctl restart zabbix-agent.service
`)],-1),Nt=e("h2",{id:"_4-\u4F7F\u7528zabbix-get\u53D6\u503C",tabindex:"-1"},[n("4.\u4F7F\u7528zabbix_get\u53D6\u503C "),e("a",{class:"header-anchor",href:"#_4-\u4F7F\u7528zabbix-get\u53D6\u503C","aria-hidden":"true"},"#")],-1),Rt=e("pre",null,[e("code",null,`[root@m01 ~]# zabbix_get -s 10.0.1.7 -k nginx_status[accepts]
7
`)],-1),Mt=e("h2",{id:"_5-\u5BFC\u5165\u6A21\u7248",tabindex:"-1"},[n("5.\u5BFC\u5165\u6A21\u7248 "),e("a",{class:"header-anchor",href:"#_5-\u5BFC\u5165\u6A21\u7248","aria-hidden":"true"},"#")],-1),Ct=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-c3bbd17a2587f6b4.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Lt=e("h2",{id:"_6-\u94FE\u63A5\u6A21\u7248",tabindex:"-1"},[n("6.\u94FE\u63A5\u6A21\u7248 "),e("a",{class:"header-anchor",href:"#_6-\u94FE\u63A5\u6A21\u7248","aria-hidden":"true"},"#")],-1),qt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-7f460c46106c792c.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),jt=e("p",null,[n("7.\u67E5\u770B\u6570\u636E "),e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-3edb2a100a2a3987.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Zt=e("h1",{id:"\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7php\u72B6\u6001",tabindex:"-1"},[n("\u7B2Cx\u7AE0 \u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7php\u72B6\u6001 "),e("a",{class:"header-anchor",href:"#\u7B2Cx\u7AE0-\u81EA\u5B9A\u4E49\u6A21\u7248\u76D1\u63A7php\u72B6\u6001","aria-hidden":"true"},"#")],-1),Dt=e("h2",{id:"_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762",tabindex:"-1"},[n("1.\u5F00\u542F\u76D1\u63A7\u9875\u9762 "),e("a",{class:"header-anchor",href:"#_1-\u5F00\u542F\u76D1\u63A7\u9875\u9762","aria-hidden":"true"},"#")],-1),Ut=e("pre",null,[e("code",null,`[root@web01 ~]# tail -1 /etc/php-fpm.d/www.conf    
pm.status_path = /php_status

[root@web01 ~]# cat /etc/nginx/conf.d/status.conf    
server {
   listen 80;
   server_name localhost;
   location /nginx_status {
       stub_status on;
       access_log off;
   }

   location /php_status {
       fastcgi_pass 127.0.0.1:9000;
       fastcgi_index index.php;
       fastcgi_param SCRIPT_FILENAME html$fastcgi_script_name;
       include fastcgi_params;
   }
}

[root@web01 ~]# nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
[root@web01 ~]# systemctl restart nginx.service php-fpm.service
`)],-1),Bt=e("h2",{id:"_2-\u8BBF\u95EE\u6D4B\u8BD5",tabindex:"-1"},[n("2.\u8BBF\u95EE\u6D4B\u8BD5 "),e("a",{class:"header-anchor",href:"#_2-\u8BBF\u95EE\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),Ft=e("pre",null,[e("code",null,`[root@web01 ~]# curl 127.0.0.1/php_status
pool:                 www
process manager:      dynamic
start time:           08/Aug/2019:22:31:27 +0800
start since:          37
accepted conn:        1
listen queue:         0
max listen queue:     0
listen queue len:     128
idle processes:       4
active processes:     1
total processes:      5
max active processes: 1
max children reached: 0
slow requests:        0
`)],-1),Gt=e("h2",{id:"_3-\u51C6\u5907\u8BBF\u95EE\u811A\u672C",tabindex:"-1"},[n("3.\u51C6\u5907\u8BBF\u95EE\u811A\u672C "),e("a",{class:"header-anchor",href:"#_3-\u51C6\u5907\u8BBF\u95EE\u811A\u672C","aria-hidden":"true"},"#")],-1),Pt=e("pre",null,[e("code",null,`[root@web01 ~]# cat /etc/zabbix/zabbix_agentd.d/fpm.sh 
#!/bin/bash
##################################
# Zabbix monitoring script
#
# php-fpm:
#  - anything available via FPM status page
#
##################################
# Contact:
#  vincent.viallet@gmail.com
##################################
# ChangeLog:
#  20100922     VV      initial creation
##################################

# Zabbix requested parameter
ZBX_REQ_DATA="$1"
ZBX_REQ_DATA_URL="$2"

# Nginx defaults
NGINX_STATUS_DEFAULT_URL="http://localhost/fpm/status"
WGET_BIN="/usr/bin/wget"

#
# Error handling:
#  - need to be displayable in Zabbix (avoid NOT_SUPPORTED)
#  - items need to be of type "float" (allow negative + float)
#
ERROR_NO_ACCESS_FILE="-0.91"
ERROR_NO_ACCESS="-0.92"
ERROR_WRONG_PARAM="-0.93"
ERROR_DATA="-0.94" # either can not connect /   bad host / bad port

# Handle host and port if non-default
if [ ! -z "$ZBX_REQ_DATA_URL" ]; then
  URL="$ZBX_REQ_DATA_URL"
else
  URL="$NGINX_STATUS_DEFAULT_URL"
fi

# save the nginx stats in a variable for future parsing
NGINX_STATS=$($WGET_BIN -q $URL -O - 2>/dev/null)

# error during retrieve
if [ $? -ne 0 -o -z "$NGINX_STATS" ]; then
  echo $ERROR_DATA
  exit 1
fi

# 
# Extract data from nginx stats
#
#RESULT=$(echo "$NGINX_STATS" | awk 'print $0;match($0, "^'"$ZBX_REQ_DATA"':[[:space:]]+(.*)", a) { print a[1] }')
#RESULT=$(echo "$NGINX_STATS" | grep "$ZBX_REQ_DATA" | awk -F : '{print $2}')
RESULT=$(echo "$NGINX_STATS" | awk -F : "{if(\\$1==\\"$ZBX_REQ_DATA\\") print \\$2}")
if [ $? -ne 0 -o -z "$RESULT" ]; then
    echo $ERROR_WRONG_PARAM
    exit 1
fi

echo $RESULT

exit 0

[root@web01 ~]# bash /etc/zabbix/zabbix_agentd.d/fpm.sh "total processes" http://127.0.0.1/php_status
5
`)],-1),Ot=e("p",null,"4.\u51C6\u5907zabbix\u914D\u7F6E\u6587\u4EF6",-1),Wt=e("pre",null,[e("code",null,`[root@web01 ~]# cat /etc/zabbix/zabbix_agentd.d/fpm.conf    
UserParameter=php-fpm[*],/etc/zabbix/zabbix_agentd.d/fpm.sh "$1" "$2"
[root@web01 ~]# systemctl restart zabbix-agent.service
4.\u4F7F\u7528zabbix_get\u53D6\u503C
[root@m01 ~]# zabbix_get -s 10.0.1.7 -k php-fpm["total processes",http://127.0.0.1/php_status]
5
`)],-1),Ht=e("p",null,"5.\u5BFC\u5165\u6A21\u7248 \u5BFC\u5165\u4E4B\u540E\u9700\u8981\u4FEE\u6539\u4E00\u4E0B\u6A21\u7248\u91CC\u7684\u5B8F\u914D\u7F6E",-1),Xt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-e9002db6117b2a36.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Vt=e("h1",{id:"\u7B2Cx\u7AE0-web\u76D1\u63A7",tabindex:"-1"},[n("\u7B2Cx\u7AE0 WEB\u76D1\u63A7 "),e("a",{class:"header-anchor",href:"#\u7B2Cx\u7AE0-web\u76D1\u63A7","aria-hidden":"true"},"#")],-1),Yt=e("p",null,"\u9700\u6C42\uFF0C\u76D1\u63A7\u9875\u9762\u72B6\u6001\u7801",-1),Qt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-5b73f2eb0bbc026e.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Kt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-29b41892ec2a2652.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),Jt=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-4d04849ba09f7aa2.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),ea=e("h1",{id:"\u7B2Cx\u7AE0-\u6545\u969C\u8BB0\u5F55",tabindex:"-1"},[n("\u7B2Cx\u7AE0 \u6545\u969C\u8BB0\u5F55 "),e("a",{class:"header-anchor",href:"#\u7B2Cx\u7AE0-\u6545\u969C\u8BB0\u5F55","aria-hidden":"true"},"#")],-1),na=e("h2",{id:"\u6545\u969C1",tabindex:"-1"},[n("\u6545\u969C1 "),e("a",{class:"header-anchor",href:"#\u6545\u969C1","aria-hidden":"true"},"#")],-1),ta=e("p",null,"\u6545\u969C\u73B0\u8C61\uFF1A \u63D0\u793Azabbix-server is not running",-1),aa=e("p",null,[e("img",{src:"http://upload-images.jianshu.io/upload_images/14248468-5ec40e3f9f9c0b22.png",alt:"\u8BF7\u8F93\u5165\u56FE\u7247\u63CF\u8FF0"})],-1),ia=e("p",null,"\u62A5\u9519\u65E5\u5FD7\uFF1A",-1),la=e("pre",null,[e("code",null,` 34983:20190807:202215.171 database is down: reconnecting in 10 seconds
 34983:20190807:202225.172 [Z3001] connection to database 'zabbix' failed: [1045] Access denied for user 'zabbix'@'localhost' (using password: NO)
`)],-1),sa=e("p",null,"\u6545\u969C\u539F\u56E0\uFF1A zabbix-server\u7684\u914D\u7F6E\u6587\u4EF6\u91CC\u914D\u6709\u914D\u7F6E\u6570\u636E\u5E93\u5BC6\u7801 \u6545\u969C\u89E3\u51B3\uFF1A \u6DFB\u52A0\u6B63\u786E\u7684\u6570\u636E\u5E93\u8D26\u53F7\u5BC6\u7801\u4FE1\u606F",-1),ra=e("pre",null,[e("code",null,`[root@m01 ~]# grep "^DB" /etc/zabbix/zabbix_server.conf     
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=zabbix
`)],-1),oa=e("h2",{id:"\u6545\u969C2",tabindex:"-1"},[n("\u6545\u969C2 "),e("a",{class:"header-anchor",href:"#\u6545\u969C2","aria-hidden":"true"},"#")],-1),da=e("p",null,"\u6545\u969C\u73B0\u8C61\uFF1A\u5FAE\u4FE1\u62A5\u8B66\u5931\u8D25 \u62A5\u9519\u65E5\u5FD7\uFF1A",-1),ca=e("pre",null,[e("code",null,`[root@m01 ~]# tail -f /var/log/zabbix/zabbix_server.log 
Problem name: TIME_WAIT\u8FC7\u591A
Host: web01
Severity: Average

Original problem ID: 51
'": Traceback (most recent call last):
  File "/usr/lib/zabbix/alertscripts/weixin.py", line 7, in <module>
    import requests
ImportError: No module named requests
`)],-1),ha=e("p",null,"\u95EE\u9898\u539F\u56E0\uFF1A \u7F3A\u5C11\u6A21\u5757 requests",-1),_a=e("p",null,"\u95EE\u9898\u89E3\u51B3\uFF1A \u5B89\u88C5\u7F3A\u5931\u7684\u4F9D\u8D56\u5305",-1),ba=e("pre",null,[e("code",null,`[root@m01 ~]# yum install python-pip
[root@m01 ~]# pip install --upgrade pip
[root@m01 ~]# pip install requests
`)],-1),pa=e("h2",{id:"\u6545\u969C3",tabindex:"-1"},[n("\u6545\u969C3 "),e("a",{class:"header-anchor",href:"#\u6545\u969C3","aria-hidden":"true"},"#")],-1),ua=e("p",null,"\u6545\u969C\u73B0\u8C61\uFF1A \u5728server\u7AEF\u4F7F\u7528zabbix_get\u547D\u4EE4\u6D4B\u8BD5\u952E\u503C\u547D\u4EE4\u65F6\u63D0\u793A\u8B66\u544A",-1),ga=e("pre",null,[e("code",null,`[root@m01 ~]# zabbix_get -s 10.0.1.7 -k ESTABLISHED  
(Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.)
2
`)],-1),ma=e("p",null,"\u95EE\u9898\u539F\u56E0\uFF1A zabbix_agent\u662F\u4EE5\u666E\u901A\u7528\u6237zabbix\u8FD0\u884C\u7684\uFF0C\u800C\u666E\u901A\u7528\u6237\u6267\u884Cnetstat -antp\u65F6\u4F1A\u6709\u8B66\u544A\uFF0C\u7F51\u4E0A\u67E5\u627E\u53D1\u73B0\u53EA\u8981\u4E0D\u662F\u7528p\u53C2\u6570\u5C31\u53EF\u4EE5\u4EE5\u666E\u901A\u7528\u6237\u8FD0\u884C \u89E3\u51B3\u65B9\u6848\uFF1A \u76D1\u63A7\u811A\u672C\u91CC\u7684\u547D\u4EE4\u4FEE\u6539\u4E3Anetstat -ant",-1),xa=e("hr",null,null,-1),fa=e("p",null,"[player id='712292593' type='collect' autoplay='true'/]",-1);function za(a,va,wa,ka,s,Ea){const r=o;return h(),c(r,{frontmatter:s.frontmatter,data:s.data},{"main-content-md":t(()=>[u,g,m,x,f,z,v,w,k,E,y,T,A,I,S,$,N,R,M,C,L,q,j,Z,D,U,B,F,G,P,O,W,H,X,V,Y,Q,K,J,ee,ne,te,ae,ie,le,se,re,oe,de,ce,he,_e,be,pe,ue,ge,me,xe,fe,ze,ve,we,ke,Ee,ye,Te,Ae,Ie,Se,_("more"),$e,Ne,Re,Me,Ce,Le,qe,je,Ze,De,Ue,Be,Fe,Ge,Pe,Oe,We,He,Xe,Ve,Ye,Qe,Ke,Je,en,nn,tn,an,ln,sn,rn,on,dn,cn,hn,_n,bn,pn,un,gn,mn,xn,fn,zn,vn,wn,kn,En,yn,Tn,An,In,Sn,$n,Nn,Rn,Mn,Cn,Ln,qn,jn,Zn,Dn,Un,Bn,Fn,Gn,Pn,On,Wn,Hn,Xn,Vn,Yn,Qn,Kn,Jn,et,nt,tt,at,it,lt,st,rt,ot,dt,ct,ht,_t,bt,pt,ut,gt,mt,xt,ft,zt,vt,wt,kt,Et,yt,Tt,At,It,St,$t,Nt,Rt,Mt,Ct,Lt,qt,jt,Zt,Dt,Ut,Bt,Ft,Gt,Pt,Ot,Wt,Ht,Xt,Vt,Yt,Qt,Kt,Jt,ea,na,ta,aa,ia,la,sa,ra,oa,da,ca,ha,_a,ba,pa,ua,ga,ma,xa,fa]),"main-header":t(()=>[i(a.$slots,"main-header")]),"main-header-after":t(()=>[i(a.$slots,"main-header-after")]),"main-nav":t(()=>[i(a.$slots,"main-nav")]),"main-content":t(()=>[i(a.$slots,"main-content")]),"main-content-after":t(()=>[i(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[i(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[i(a.$slots,"main-nav-after")]),comment:t(()=>[i(a.$slots,"comment")]),footer:t(()=>[i(a.$slots,"footer")]),aside:t(()=>[i(a.$slots,"aside")]),"aside-custom":t(()=>[i(a.$slots,"aside-custom")]),default:t(()=>[i(a.$slots,"default")]),_:3},8,["frontmatter","data"])}const Na=d(p,[["render",za]]);export{$a as __pageData,Na as default};
