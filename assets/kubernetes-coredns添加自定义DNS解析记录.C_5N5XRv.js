import{_ as k}from"./ValaxyMain.vue_vue_type_style_index_0_lang.sBTlPyls.js";import"./chunks/@vueuse/motion.BITvz5PP.js";import{e as u,u as m,a as F}from"./chunks/vue-router.BVXKJEUo.js";import{aa as g,ap as e,ag as t,af as s,ai as a,P as f,ab as b,a1 as y}from"./framework.GHZxz7jq.js";import"./index.CViAj0zv.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.C7V8WoQZ.js";import"./chunks/pinia.BfAlK2F6.js";import"./chunks/nprogress.BZwbcB2O.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.C1Su68f4.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fblE3Fel.js";import"./post.BR8m14Zu.js";const E=u("/posts/kubernetes-coredns添加自定义DNS解析记录",async i=>JSON.parse('{"title":"kubernetes coredns添加自定义DNS解析记录","description":"","frontmatter":{"title":"kubernetes coredns添加自定义DNS解析记录","categories":"Kubernetes","tags":["Kubernetes","coredns"],"date":"2022-02-25 10:10:18"},"headers":[],"relativePath":"pages/posts/kubernetes-coredns添加自定义DNS解析记录.md","lastUpdated":null}'),{lazy:(i,l)=>i.name===l.name}),q={__name:"kubernetes-coredns添加自定义DNS解析记录",setup(i,{expose:l}){const{data:o}=E(),c=F(),h=m(),r=Object.assign(h.meta.frontmatter||{},o.value?.frontmatter||{});return c.currentRoute.value.data=o.value,y("valaxy:frontmatter",r),globalThis.$frontmatter=r,l({frontmatter:{title:"kubernetes coredns添加自定义DNS解析记录",categories:"Kubernetes",tags:["Kubernetes","coredns"],date:"2022-02-25 10:10:18"}}),(n,p)=>{const d=k;return b(),g(d,{frontmatter:f(r)},{"main-content-md":e(()=>[...p[0]||(p[0]=[s("h1",{id:"kubernetes-coredns-添加自定义dns解析记录",tabindex:"-1"},[a("kubernetes coredns 添加自定义DNS解析记录 "),s("a",{class:"header-anchor",href:"#kubernetes-coredns-添加自定义dns解析记录","aria-label":'Permalink to "kubernetes  coredns 添加自定义DNS解析记录"'},"​")],-1),s("blockquote",null,[s("p",null,[a("coredns 自带 hosts 插件， 允许像配置 hosts 一样配置自定义 DNS 解析，修改 "),s("code",null,"kube-system"),a(" 中 "),s("code",null,"configMap"),a(" 的 "),s("code",null,"coredns"),a(" 添加如下设置即可")])],-1),s("div",{class:"language-"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null," hosts {")]),a(`
`),s("span",{class:"line"},[s("span",null,"        172.21.91.28 cache.redis")]),a(`
`),s("span",{class:"line"},[s("span",null,"        172.21.91.28 persistent.redis")]),a(`
`),s("span",{class:"line"},[s("span",null,"          ")]),a(`
`),s("span",{class:"line"},[s("span",null,"        fallthrough")]),a(`
`),s("span",{class:"line"},[s("span",null,"    }")])])]),s("button",{class:"code-block-unfold-btn"})],-1),s("p",null,"修改后文件如下",-1),s("div",{class:"language-yaml"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".:53 {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    errors")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    health")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    kubernetes cluster.local in-addr.arpa ip6.arpa {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       pods insecure")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       upstream")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"       fallthrough in-addr.arpa ip6.arpa")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    hosts {")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        172.21.91.28 cache.redis")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        172.21.91.28 persistent.redis")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          ")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"        fallthrough")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    prometheus :9153")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    proxy . /etc/resolv.conf")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    cache 30")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    loop")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    reload")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    loadbalance")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"code-block-unfold-btn"})],-1)])]),"main-header":e(()=>[t(n.$slots,"main-header")]),"main-header-after":e(()=>[t(n.$slots,"main-header-after")]),"main-nav":e(()=>[t(n.$slots,"main-nav")]),"main-content-before":e(()=>[t(n.$slots,"main-content-before")]),"main-content":e(()=>[t(n.$slots,"main-content")]),"main-content-after":e(()=>[t(n.$slots,"main-content-after")]),"main-nav-before":e(()=>[t(n.$slots,"main-nav-before")]),"main-nav-after":e(()=>[t(n.$slots,"main-nav-after")]),comment:e(()=>[t(n.$slots,"comment")]),footer:e(()=>[t(n.$slots,"footer")]),aside:e(()=>[t(n.$slots,"aside")]),"aside-custom":e(()=>[t(n.$slots,"aside-custom")]),default:e(()=>[t(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{q as default,E as usePageData};
