import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang.Bv-Ltzoo.js";import"./chunks/@vueuse/motion.BITvz5PP.js";import{e as g,u as y,a as u}from"./chunks/vue-router.ClANm_mH.js";import{aa as b,ap as a,ag as e,af as s,ae as m,ai as i,P as c,ab as F,a1 as A}from"./framework.GHZxz7jq.js";import"./index.Dp3W9g7b.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.C7V8WoQZ.js";import"./chunks/pinia.BfAlK2F6.js";import"./chunks/nprogress.BZwbcB2O.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.C3MeNfs5.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fblE3Fel.js";import"./post.G7lgMgan.js";const f=g("/posts/k8s-kube-prometheus-probe-blackbox-exporter",async n=>JSON.parse('{"title":"kubernetes中使用Prometheus-Operator和BlackBox—Exporter实现监控域名钉钉告警","description":"","frontmatter":{"title":"kubernetes中使用Prometheus-Operator和BlackBox—Exporter实现监控域名钉钉告警","date":"2023-03-01 09:16:00","updated":null,"tags":["Prometheus-Operator"],"categories":"Prometheus","end":false},"headers":[],"relativePath":"pages/posts/k8s-kube-prometheus-probe-blackbox-exporter.md","lastUpdated":null}'),{lazy:(n,k)=>n.name===k.name}),K={__name:"k8s-kube-prometheus-probe-blackbox-exporter",setup(n,{expose:k}){const{data:r}=f(),p=u(),o=y(),h=Object.assign(o.meta.frontmatter||{},r.value?.frontmatter||{});return p.currentRoute.value.data=r.value,A("valaxy:frontmatter",h),globalThis.$frontmatter=h,k({frontmatter:{title:"kubernetes中使用Prometheus-Operator和BlackBox—Exporter实现监控域名钉钉告警",date:"2023-03-01 09:16:00",updated:null,tags:["Prometheus-Operator"],categories:"Prometheus",end:!1}}),(t,l)=>{const E=d;return F(),b(E,{frontmatter:c(h)},{"main-content-md":a(()=>[l[0]||(l[0]=s("p",null,"现有的k8s+prome环境是几年前部署的，所以当时版本的operator并不自带Blackbox_exporter CRD，所以有了这篇文章",-1)),l[1]||(l[1]=s("p",null,"最近有个工作需求是监控域名，实际上我自己玩的机器上早就监控着了，但工资这边貌似一直没有，好了开干吧",-1)),m(" more "),l[2]||(l[2]=s("blockquote",null,[s("p",null,"已有环境为Kubernetes+Kube-Prometheus（Prometheus-Operator项目更名为Kube-Prometheus）"),s("p",null,"Kubernetes v1.19.6"),s("p",null,"Kube-Prometheus 0.7.0")],-1)),l[3]||(l[3]=s("p",null,"在这里贴一张Kube-Prometheus项目对应支持的Kubernetes版本，如果您需要安装kube-prome的话，请优选最新版本",-1)),l[4]||(l[4]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301142533409.png",alt:"image-20230301142533409",loading:"lazy",decoding:"async"})],-1)),l[5]||(l[5]=s("h1",{id:"安装blackboxexporter",tabindex:"-1"},[i("安装"),s("a",{href:"https://github.com/prometheus-operator/kube-prometheus/blob/release-0.12/manifests/blackboxExporter-service.yaml",target:"_blank",rel:"noreferrer"},"blackboxExporter"),i(),s("a",{class:"header-anchor",href:"#安装blackboxexporter","aria-label":'Permalink to "安装[blackboxExporter](https://github.com/prometheus-operator/kube-prometheus/blob/release-0.12/manifests/blackboxExporter-service.yaml)"'},"​")],-1)),l[6]||(l[6]=s("blockquote",null,[s("p",null,"该如何在现有环境下安装呢？我采用的办法是直接使用新版的blackbox crd文件即可，如果出现问题了，那就解决问题（结果就是一切顺利）")],-1)),l[7]||(l[7]=s("p",null,[i("在这个"),s("a",{href:"https://github.com/prometheus-operator/kube-prometheus/tree/release-0.12/manifests",target:"_blank",rel:"noreferrer"},"地址"),i("中找到所有blackboxExporter开头的文件，安装它")],-1)),l[8]||(l[8]=s("p",null,"或许你可以直接这样做,如果你的网络允许的话",-1)),l[9]||(l[9]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"***")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kubectl"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apply"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://github.com/prometheus-operator/kube-prometheus/blob/release-0.12/manifests/blackboxExporter-service.yaml")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"***")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[10]||(l[10]=s("p",null,"安装成功之后，打开Prometheus WebUI，你会看到Target多了一个，不用惊慌，这是正常的表现，但如果五分钟内它是红色的，那你可以惊慌的",-1)),l[11]||(l[11]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301144149533.png",alt:"image-20230301144149533",loading:"lazy",decoding:"async"})],-1)),l[12]||(l[12]=s("h1",{id:"配置监控",tabindex:"-1"},[i("配置监控 "),s("a",{class:"header-anchor",href:"#配置监控","aria-label":'Permalink to "配置监控"'},"​")],-1)),l[13]||(l[13]=s("blockquote",null,[s("p",null,"回想一下，在你刚学Prometheus的时候单击安装Blackbox，想要添加一个域名监控是否是直接去修改Prome的配置文件prometheus.yml？ 但现在是在k8s中的CRD，大人时代变了。"),s("p",null,"现在你想添加一个job，可并不是直接修改Prometheus配置文件了，当然你如果使用additional的话当我没说"),s("p",null,"你也并不能使用ServiceMonitor创建一个你以为的“job”，因为刚刚你安装的那些个CRD，把kind单独命名为了Prode")],-1)),l[14]||(l[14]=s("p",null,"就像这样，创建一个Prometheus监控黑盒的特殊“job”,然后创建",-1)),l[15]||(l[15]=s("div",{class:"language-"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"vim blackboxExporter-probeDomain.yaml")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[16]||(l[16]=s("div",{class:"language-yaml"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"apiVersion"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring.coreos.com/v1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"kind"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Probe")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"metadata"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"probe")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  namespace"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"spec"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  jobName"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"域名监控")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  prober"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 指定blackbox的地址")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    url"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"blackbox-exporter:19115")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  module"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"http_2xx"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," # 配置文件中的检测模块")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  targets"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 目标（可以是static配置也可以是ingress配置）")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # ingress <Object>")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    staticConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 如果配置了 ingress，静态配置优先")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"      labels"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"        namespaces"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," #为什么加这个标签是因为后续我的alert配置里写了只对这个名称空间下的告警允许告警")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"      static"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        - "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"https://www.vlinux.cn")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#该文件支持的其他字段和配置可以自行探索 kubectl explain probe.spec")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[17]||(l[17]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kubectl"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apply"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"  blackboxExporter-probeDomain.yaml")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[18]||(l[18]=s("p",null,"假如一切顺利，你就会在Promethes WebUI看到如下target新增，这证明你配置的很成功",-1)),l[19]||(l[19]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301145914347.png",alt:"image-20230301145914347",loading:"lazy",decoding:"async"})],-1)),l[20]||(l[20]=s("p",null,"如果你有Grafana，那么你已经可以在Grafana去做你想要的对应的面板了，比如这样",-1)),l[21]||(l[21]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301150433056.png",alt:"image-20230301150433056",loading:"lazy",decoding:"async"})],-1)),l[22]||(l[22]=s("h1",{id:"配置告警",tabindex:"-1"},[i("配置告警 "),s("a",{class:"header-anchor",href:"#配置告警","aria-label":'Permalink to "配置告警"'},"​")],-1)),l[23]||(l[23]=s("p",null,"让我们捋一下如果想让这个域名一旦出现问题，就告警到钉钉需要几个关键步骤",-1)),l[24]||(l[24]=s("p",null,"Prometheus本身不支持发到钉钉应用，我们还需要安装Webhook 钩子，还需要在钉钉群里创建一个机器人。May be就这些",-1)),l[25]||(l[25]=s("p",null,"配置告警规则，配置钉钉WebHook和群机器人，配置Alertmanager，验证，完事儿",-1)),l[26]||(l[26]=s("h2",{id:"配置告警规则",tabindex:"-1"},[i("配置告警规则 "),s("a",{class:"header-anchor",href:"#配置告警规则","aria-label":'Permalink to "配置告警规则"'},"​")],-1)),l[27]||(l[27]=s("p",null,"创建Rule CRD文件",-1)),l[28]||(l[28]=s("div",{class:"language-yaml"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"vim prometheus-blackboxRules.yaml"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"---")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"apiVersion"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring.coreos.com/v1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"kind"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"PrometheusRule")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"metadata"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  labels"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    prometheus"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"k8s")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    role"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"alert-rules")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"domain-rules")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  namespace"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"spec"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  groups"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    - "),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"domain-rules")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"      rules"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        - "),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"alert"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"黑盒监控状态")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          expr"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"probe_success == 0")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          for"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"10s")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          labels"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"            severity"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"critical")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"            namespace"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          annotations"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"            summary"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"黑盒探测失败,域名地址: {{ $labels.instance }}"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"            description"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"探测失败,探测值 = {{ $value }}"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"            recoverymessage"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"实例 {{ $labels.instance }} 已恢复正常监控"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"---")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"kubectl apply -f  prometheus-blackboxRules.yaml")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[29]||(l[29]=s("p",null,"创建后我们可以看到在WebUI的界面会新增一个规则",-1)),l[30]||(l[30]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301152122827.png",alt:"image-20230301152122827",loading:"lazy",decoding:"async"})],-1)),l[31]||(l[31]=s("h2",{id:"配置钉钉webhook和群机器人",tabindex:"-1"},[i("配置钉钉WebHook和群机器人 "),s("a",{class:"header-anchor",href:"#配置钉钉webhook和群机器人","aria-label":'Permalink to "配置钉钉WebHook和群机器人"'},"​")],-1)),l[32]||(l[32]=s("blockquote",null,[s("p",null,"在这里WebHook我们使用PrometheusAlert（全家桶）这个开源项目，方便就完事了"),s("p",null,"钉钉机器人的申请不再赘述，因为很简单，现在的机器人申请都需要添加关键词，记住了你的告警里面会发什么字就添加相应的关键词进去")],-1)),l[33]||(l[33]=s("p",null,[s("strong",null,"PrometheusAlert")],-1)),l[34]||(l[34]=s("p",null,[i("文档地址："),s("a",{href:"https://feiyu563.github.io/",target:"_blank",rel:"noreferrer"},"https://feiyu563.github.io/")],-1)),l[35]||(l[35]=s("p",null,[i("Github地址："),s("a",{href:"https://github.com/feiyu563/PrometheusAlert",target:"_blank",rel:"noreferrer"},"https://github.com/feiyu563/PrometheusAlert")],-1)),l[36]||(l[36]=s("h3",{id:"在k8s中安装全家桶",tabindex:"-1"},[i("在k8s中安装全家桶 "),s("a",{class:"header-anchor",href:"#在k8s中安装全家桶","aria-label":'Permalink to "在k8s中安装全家桶"'},"​")],-1)),l[37]||(l[37]=s("blockquote",null,[s("p",null,"作者提供了相应的YAML，直接执行就好，执行前记得修改里面的配置文件，钉钉的tekon等等")],-1)),l[38]||(l[38]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kubectl"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apply"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://github.com/feiyu563/PrometheusAlert/blob/master/example/kubernetes/PrometheusAlert-Deployment.yaml")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[39]||(l[39]=s("p",null,"访问部署好的全家桶，修改钉钉告警模版，像这样",-1)),l[40]||(l[40]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301153018566.png",alt:"image-20230301153018566",loading:"lazy",decoding:"async"})],-1)),l[41]||(l[41]=s("p",null,"钉钉告警模版（这个模版的告警详情在下面）",-1)),l[42]||(l[42]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ $var := .externalURL}}{{ $status := .status}}{{ range $k,$v:=.alerts }} {{if eq $status "resolved"}}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"## [告警恢复-通知]({{$var}})")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#### 监控指标: {{$v.labels.alertname}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ if eq $v.labels.severity "warning" }}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警级别: **<font color="#E6A23C">{{$v.labels.severity}}</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ else if eq $v.labels.severity "critical"  }}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警级别: **<font color="#F56C6C">{{$v.labels.severity}}</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{{ end }}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 当前状态: **<font color="#67C23A" size=4>已恢复</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#### 故障实例: {{$v.labels.instance}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," ###### 开始时间: {{GetCSTtime $v.startsAt}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," ###### 恢复时间: {{GetCSTtime $v.endsAt}}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警恢复: <font color="#67C23A">{{$v.annotations.recoverymessage}}</font>')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{{ else }}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"## [监控告警-通知]({{$var}})")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#### 监控指标: {{$v.labels.alertname}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ if eq $v.labels.severity "warning" }}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警级别: **<font color="#E6A23C" size=4>{{$v.labels.severity}}</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 当前状态: **<font color="#E6A23C">需要处理</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ else if eq $v.labels.severity "critical"  }}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警级别: **<font color="#F56C6C" size=4>{{$v.labels.severity}}</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 当前状态: **<font color="#F56C6C">需要处理</font>**')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{{ end }}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"#### 故障实例: {{$v.labels.instance}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," ###### 告警阈值: {{$v.annotations.description}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*"),s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}}," ###### 触发时间: {{GetCSTtime $v.startsAt}}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ if eq $v.labels.severity "warning" }}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警触发: <font color="#E6A23C">{{$v.annotations.summary}}</font>')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'{{ else if eq $v.labels.severity "critical" }}')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'#### 告警触发: <font color="#F56C6C">{{$v.annotations.summary}}</font>')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{{ end }}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{{ end }}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{{ end }}")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[43]||(l[43]=s("h2",{id:"配置alertmanager",tabindex:"-1"},[i("配置Alertmanager "),s("a",{class:"header-anchor",href:"#配置alertmanager","aria-label":'Permalink to "配置Alertmanager"'},"​")],-1)),l[44]||(l[44]=s("p",null,"新建Alert配置CRD",-1)),l[45]||(l[45]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"vim"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," alertmanager-config.yaml")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[46]||(l[46]=s("div",{class:"language-yaml"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"yaml"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"apiVersion"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring.coreos.com/v1alpha1")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"kind"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"AlertmanagerConfig")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"metadata"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"dinghook")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  namespace"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"monitoring")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  labels"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    alertmanagerConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"example")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"spec"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  receivers"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    - "),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"name"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Critical")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"      webhookConfigs"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        - "),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"url"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"http://prometheus-alert-center:8080/prometheusalert?type=dd&tpl=prometheus-dd&ddurl=https://oapi.dingtalk.com/robot/send?access_token=e3c0bc10f8********")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          sendResolved"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"  route"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    groupBy"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ["),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"job"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    groupWait"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"30s")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    groupInterval"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"5m")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    repeatInterval"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"12h")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    receiver"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Critical")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"    routes"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      - "),s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"receiver"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Critical")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"        match"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          severity"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"critical")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"          namespace"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"default")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[47]||(l[47]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"kubectl"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," apply"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -f"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," alertmanager-config.yaml")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[48]||(l[48]=s("p",null,"创建后你可以访问Alertmanger的Web界面看看你是否修改成功，他会自动加载配置文件的",-1)),l[49]||(l[49]=s("h2",{id:"验证",tabindex:"-1"},[i("验证 "),s("a",{class:"header-anchor",href:"#验证","aria-label":'Permalink to "验证"'},"​")],-1)),l[50]||(l[50]=s("p",null,"我使用的是我自己的域名，所以我停掉，并且恢复就可以验证，告警和恢复是否发出了。下面放一张恢复的样子。",-1)),l[51]||(l[51]=s("figure",null,[s("img",{src:"https://cos.vlinux.cn/www-vlinux-cn-blog-img/image-20230301153036377.png",alt:"image-20230301153036377",loading:"lazy",decoding:"async"})],-1)),l[52]||(l[52]=s("p",null,"文章就到这里，如有疑问，请直接点击微信联系我",-1)),l[53]||(l[53]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ssh-rsa"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," AAAAB3NzaC1yc2EAAAADAQABAAABgQC4+hofFobukwiaECjTrKm3dNjmP2cFiOFCgkbU0Eg/Ot6BtCkk+Lu9OyRwJs/vELor42CSliNS1uAXqlh3a4vc4c0BvqBSLmuv2kNpm+FjlSB3JbElp2thW5Ris+Q+TuIFd7XfBjX9zZgm2swrumgpinPtHu31lH/lr472C5mjxjv20KmZUasoZ0lFZVWox9dqCq/UPCK1Zv4XeUHESSjT+8cHPsMa36Vej3W29YOzMMnCT70vIVqcM6LYS/5odyiuc+ofCJS0mIuKRG2mPh4f6owSID/xIKW6bX0Qo7M4b6z7lu6xJczzrOrif/47FBzNfzD+Mt3ww7BAi+tPs5Mr3ynZDMeMSeLk3aNtYMtOCwyCI0toxTr+SjMzHKzKJdE0K/f+lloGkC/c7zfIGB+TwO1eHYFoFf0ALyftExioUbJOmflBAgdiFaLfudxu/fCXZenGpCm9D+XhIlFu+lpsViu255xwy18nJNkvgapU7tukgOSyydUiD1kAl+L/NCc="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," jenkins@025447547acc")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"ssh-rsa"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," AAAAB3NzaC1yc2EAAAADAQABAAABgQDQnmdriCxU7jQzBBg6vCyUKzI102UJpTWBJ6xa8jnpTXzBi8XBMtq96PbWKCp2N+33wNjcGMfIOHXxokomIzmMtHMFP7F9AHLLYQuARoP43cby9/HSS5qXEEpWL2b2X9wh2zIbY96pcCwX7zW9wMofS4AiWZIn/5bzG/qriobCuQKXO+UnmRLGUfGv9BYoGdNFyyMfaZc3JMRugSD9LIdqXvoCcmFp+PHV1ErKrDMLAN4mBc4bdRnU3SYtpnb/tEd6TCrUyze4zQ0TkdDyXfZpytLSAk39BRBR/PSnYiQoWirEixmQb5Y5Ru6Pe4MGwfJL4t5mQ7iIf2U9S1eq1+z4p92/jUr45F9rARt2pu1GOo/xOIndK7el4aRUVKL5oXimzuGH7XTyHL4wwdtYQQP1dWF391iNbD7eEAXB8PVdbV5mo6HwLoAg2aKRIqNyin7zdqA6bm+vtk8CtQfdx6yWL6W18ceSqNgz2GvG8FjPa0uuryIN8njzCKZVCqlvdTk="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root@025447547acc")])])]),s("button",{class:"code-block-unfold-btn"})],-1)),l[54]||(l[54]=s("p",null,[i("智慧巴士后端接口测试失败，请处理。Jenkins地址："),s("a",{href:"http://10.99.102.11:8081/view/Monitor/job/bus-platform/",target:"_blank",rel:"noreferrer"},"http://10.99.102.11:8081/view/Monitor/job/bus-platform/")],-1))]),"main-header":a(()=>[e(t.$slots,"main-header")]),"main-header-after":a(()=>[e(t.$slots,"main-header-after")]),"main-nav":a(()=>[e(t.$slots,"main-nav")]),"main-content-before":a(()=>[e(t.$slots,"main-content-before")]),"main-content":a(()=>[e(t.$slots,"main-content")]),"main-content-after":a(()=>[e(t.$slots,"main-content-after")]),"main-nav-before":a(()=>[e(t.$slots,"main-nav-before")]),"main-nav-after":a(()=>[e(t.$slots,"main-nav-after")]),comment:a(()=>[e(t.$slots,"comment")]),footer:a(()=>[e(t.$slots,"footer")]),aside:a(()=>[e(t.$slots,"aside")]),"aside-custom":a(()=>[e(t.$slots,"aside-custom")]),default:a(()=>[e(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{K as default,f as usePageData};
