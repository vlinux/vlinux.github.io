import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang.Bth_JSAQ.js";import"./chunks/@vueuse/motion.BITvz5PP.js";import{e as F,u,a as b}from"./chunks/vue-router.DpP0leKZ.js";import{aa as E,ap as n,ag as t,af as i,ae as y,ai as a,P as m,ab as C,a1 as x}from"./framework.GHZxz7jq.js";import"./index.Di1n2b66.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.C7V8WoQZ.js";import"./chunks/pinia.BfAlK2F6.js";import"./chunks/nprogress.BZwbcB2O.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.BWywLGB4.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fblE3Fel.js";import"./post.DoKt6roH.js";const c=F("/posts/nginx-updata",async h=>JSON.parse('{"title":"Nginx平滑升级","description":"","frontmatter":{"title":"Nginx平滑升级","categories":"Linux技术","tags":["Nginx","Nginx平滑升级"],"date":"2023-01-16 21:00:00"},"headers":[],"relativePath":"pages/posts/nginx-updata.md","lastUpdated":null}'),{lazy:(h,e)=>h.name===e.name}),H={__name:"nginx-updata",setup(h,{expose:e}){const{data:r}=c(),o=b(),d=u(),k=Object.assign(d.meta.frontmatter||{},r.value?.frontmatter||{});return o.currentRoute.value.data=r.value,x("valaxy:frontmatter",k),globalThis.$frontmatter=k,e({frontmatter:{title:"Nginx平滑升级",categories:"Linux技术",tags:["Nginx","Nginx平滑升级"],date:"2023-01-16 21:00:00"}}),(l,s)=>{const g=p;return C(),E(g,{frontmatter:m(k)},{"main-content-md":n(()=>[s[0]||(s[0]=i("p",null,"二进制安装的Nginx平滑升级还是有点点麻烦的，这个教程我用它平滑无感知升级过无数次，可放心食用",-1)),y(" more "),s[1]||(s[1]=i("h2",{id:"nginx信号简介",tabindex:"-1"},[i("strong",null,"Nginx信号简介"),a(),i("a",{class:"header-anchor",href:"#nginx信号简介","aria-label":'Permalink to "**Nginx信号简介**"'},"​")],-1)),s[2]||(s[2]=i("h2",{id:"主进程支持的信号",tabindex:"-1"},[a("**主进程支持的信号 ** "),i("a",{class:"header-anchor",href:"#主进程支持的信号","aria-label":'Permalink to "**主进程支持的信号 **"'},"​")],-1)),s[3]||(s[3]=i("p",null,"TERM, INT: 立刻退出",-1)),s[4]||(s[4]=i("p",null,"QUIT: 等待工作进程结束后再退出",-1)),s[5]||(s[5]=i("p",null,"KILL: 强制终止进程",-1)),s[6]||(s[6]=i("p",null,"HUP: 重新加载配置文件，使用新的配置启动工作进程，并逐步关闭旧进程。",-1)),s[7]||(s[7]=i("p",null,"USR1: 重新打开日志文件",-1)),s[8]||(s[8]=i("p",null,"USR2: 启动新的主进程，实现热升级",-1)),s[9]||(s[9]=i("p",null,"WINCH: 逐步关闭工作进程",-1)),s[10]||(s[10]=i("h2",{id:"工作进程支持的信号",tabindex:"-1"},[i("strong",null,"工作进程支持的信号"),a(),i("a",{class:"header-anchor",href:"#工作进程支持的信号","aria-label":'Permalink to "**工作进程支持的信号**"'},"​")],-1)),s[11]||(s[11]=i("p",null,"TERM, INT: 立刻退出",-1)),s[12]||(s[12]=i("p",null,"QUIT: 等待请求处理结束后再退出",-1)),s[13]||(s[13]=i("p",null,"USR1: 重新打开日志文件",-1)),s[14]||(s[14]=i("h2",{id:"_1、查看现有的nginx编译参数",tabindex:"-1"},[a("1、查看现有的nginx编译参数 "),i("a",{class:"header-anchor",href:"#_1、查看现有的nginx编译参数","aria-label":'Permalink to "1、查看现有的nginx编译参数"'},"​")],-1)),s[15]||(s[15]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# /usr/local/nginx/sbin/nginx -V")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"nginx"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," version:"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," nginx/1.16.1")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"built"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," by"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," gcc"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 4.8.5"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 20150623"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Red "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"Hat"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 4.8.5-44"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") ("),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"GCC"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") ")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"built"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," with"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OpenSSL"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 1.1.0g"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  2"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Nov"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 2017")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"TLS"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," SNI"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," support"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," enabled")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"configure"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," arguments:"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --prefix=/usr/local/nginx"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-http_ssl_module"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-openssl=/root/devops/openssl-1.1.0g"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-pcre=/root/devops/pcre-8.32"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-zlib=/root/devops/zlib-1.2.11"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-http_stub_status_module"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --add-module=/root/devops/nginx-module-vts")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[16]||(s[16]=i("h2",{id:"_2-上传新版本的源码包nginx-1-22-0-tar-gz-解压缩到-usr-local",tabindex:"-1"},[a("2.上传新版本的源码包nginx-1.22.0.tar.gz，解压缩到/usr/local/ "),i("a",{class:"header-anchor",href:"#_2-上传新版本的源码包nginx-1-22-0-tar-gz-解压缩到-usr-local","aria-label":'Permalink to "2.上传新版本的源码包nginx-1.22.0.tar.gz，解压缩到/usr/local/"'},"​")],-1)),s[17]||(s[17]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cd /usr/local/nginx-1.22.0/")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao nginx-1.22.0]# ./configure --prefix"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/usr/local/nginx-1.22.0"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," --with-http_ssl_module"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-openssl=/root/devops/openssl-1.1.0g"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  --with-pcre=/root/devops/pcre-8.32"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-zlib=/root/devops/zlib-1.2.11"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --with-http_stub_status_module"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --add-module=/root/devops/nginx-module-vts")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"注意指定依赖包具体位置")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# make")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"不要make"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[18]||(s[18]=i("h2",{id:"_3、备份nginx二进制文件-期间nginx不会停止服务",tabindex:"-1"},[a("3、备份nginx二进制文件（期间nginx不会停止服务） "),i("a",{class:"header-anchor",href:"#_3、备份nginx二进制文件-期间nginx不会停止服务","aria-label":'Permalink to "3、备份nginx二进制文件（期间nginx不会停止服务）"'},"​")],-1)),s[19]||(s[19]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# mv /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx_"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"date"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," +%F`")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[20]||(s[20]=i("h2",{id:"_4、复制新的nginx二进制文件-进入新的nginx源码包",tabindex:"-1"},[a("4、复制新的nginx二进制文件，进入新的nginx源码包 "),i("a",{class:"header-anchor",href:"#_4、复制新的nginx二进制文件-进入新的nginx源码包","aria-label":'Permalink to "4、复制新的nginx二进制文件，进入新的nginx源码包"'},"​")],-1)),s[21]||(s[21]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# cp /usr/local/nginx/nginx-1.22.0/objs/nginx  /usr/local/nginx/sbin/")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[22]||(s[22]=i("h2",{id:"_5、测试新版本的nginx是否正常",tabindex:"-1"},[a("5、测试新版本的nginx是否正常 "),i("a",{class:"header-anchor",href:"#_5、测试新版本的nginx是否正常","aria-label":'Permalink to "5、测试新版本的nginx是否正常"'},"​")],-1)),s[23]||(s[23]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# /usr/local/nginx/sbin/nginx -t")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[24]||(s[24]=i("h2",{id:"_6、给nginx发送平滑迁移信号-若不清楚pid路径-请查看nginx配置文件",tabindex:"-1"},[a("6、给nginx发送平滑迁移信号（若不清楚pid路径，请查看nginx配置文件） "),i("a",{class:"header-anchor",href:"#_6、给nginx发送平滑迁移信号-若不清楚pid路径-请查看nginx配置文件","aria-label":'Permalink to "6、给nginx发送平滑迁移信号（若不清楚pid路径，请查看nginx配置文件）"'},"​")],-1)),s[25]||(s[25]=i("h2",{id:"usr2-启动新的主进程-实现热升级",tabindex:"-1"},[a("USR2: 启动新的主进程，实现热升级 "),i("a",{class:"header-anchor",href:"#usr2-启动新的主进程-实现热升级","aria-label":'Permalink to "USR2: 启动新的主进程，实现热升级"'},"​")],-1)),s[26]||(s[26]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# kill -USR2 "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cat"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/nginx.pid`")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[27]||(s[27]=i("h2",{id:"_7、查看nginx-pid-会出现一个nginx-pid-oldbin",tabindex:"-1"},[a("7、查看nginx pid，会出现一个nginx.pid.oldbin "),i("a",{class:"header-anchor",href:"#_7、查看nginx-pid-会出现一个nginx-pid-oldbin","aria-label":'Permalink to "7、查看nginx pid，会出现一个nginx.pid.oldbin"'},"​")],-1)),s[28]||(s[28]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# ll /var/run/nginx.pid"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"*")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-r--r--"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Jul"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 00:00"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/nginx.pid")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"-rw-r--r--"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," root"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 5"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Jul"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," 1"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 11:11"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/nginx.pid.oldbin")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[29]||(s[29]=i("h2",{id:"_8、从容关闭旧的nginx进程-winch-逐步关闭工作进程",tabindex:"-1"},[a("8、从容关闭旧的Nginx进程(WINCH: 逐步关闭工作进程) "),i("a",{class:"header-anchor",href:"#_8、从容关闭旧的nginx进程-winch-逐步关闭工作进程","aria-label":'Permalink to "8、从容关闭旧的Nginx进程(WINCH: 逐步关闭工作进程)"'},"​")],-1)),s[30]||(s[30]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# kill -WINCH "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cat"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/nginx.pid.oldbin`")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[31]||(s[31]=i("h2",{id:"_9、此时不重载配置启动旧的工作进程",tabindex:"-1"},[a("9、此时不重载配置启动旧的工作进程 "),i("a",{class:"header-anchor",href:"#_9、此时不重载配置启动旧的工作进程","aria-label":'Permalink to "9、此时不重载配置启动旧的工作进程"'},"​")],-1)),s[32]||(s[32]=i("h2",{id:"hup-重新加载配置文件-使用新的配置启动工作进程-并逐步关闭旧进程。",tabindex:"-1"},[a("HUP: 重新加载配置文件，使用新的配置启动工作进程，并逐步关闭旧进程。 "),i("a",{class:"header-anchor",href:"#hup-重新加载配置文件-使用新的配置启动工作进程-并逐步关闭旧进程。","aria-label":'Permalink to "HUP: 重新加载配置文件，使用新的配置启动工作进程，并逐步关闭旧进程。"'},"​")],-1)),s[33]||(s[33]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# kill -HUP "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cat"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/nginx.pid.oldbin`")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[34]||(s[34]=i("h2",{id:"_10、结束工作进程-完成此次升级",tabindex:"-1"},[a("10、结束工作进程，完成此次升级 "),i("a",{class:"header-anchor",href:"#_10、结束工作进程-完成此次升级","aria-label":'Permalink to "10、结束工作进程，完成此次升级"'},"​")],-1)),s[35]||(s[35]=i("h2",{id:"quit-等待请求处理结束后再退出",tabindex:"-1"},[a("QUIT: 等待请求处理结束后再退出 "),i("a",{class:"header-anchor",href:"#quit-等待请求处理结束后再退出","aria-label":'Permalink to "QUIT: 等待请求处理结束后再退出"'},"​")],-1)),s[36]||(s[36]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# kill -QUIT "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"`"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"cat"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /var/run/nginx.pid.oldbin`")])])]),i("button",{class:"code-block-unfold-btn"})],-1)),s[37]||(s[37]=i("h2",{id:"_11、验证nginx是否升级成功",tabindex:"-1"},[a("11、验证Nginx是否升级成功 "),i("a",{class:"header-anchor",href:"#_11、验证nginx是否升级成功","aria-label":'Permalink to "11、验证Nginx是否升级成功"'},"​")],-1)),s[38]||(s[38]=i("div",{class:"language-bash"},[i("button",{title:"Copy code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"[root@wenmao "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"~"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]# /usr/local/nginx/sbin/nginx -V")])])]),i("button",{class:"code-block-unfold-btn"})],-1))]),"main-header":n(()=>[t(l.$slots,"main-header")]),"main-header-after":n(()=>[t(l.$slots,"main-header-after")]),"main-nav":n(()=>[t(l.$slots,"main-nav")]),"main-content-before":n(()=>[t(l.$slots,"main-content-before")]),"main-content":n(()=>[t(l.$slots,"main-content")]),"main-content-after":n(()=>[t(l.$slots,"main-content-after")]),"main-nav-before":n(()=>[t(l.$slots,"main-nav-before")]),"main-nav-after":n(()=>[t(l.$slots,"main-nav-after")]),comment:n(()=>[t(l.$slots,"comment")]),footer:n(()=>[t(l.$slots,"footer")]),aside:n(()=>[t(l.$slots,"aside")]),"aside-custom":n(()=>[t(l.$slots,"aside-custom")]),default:n(()=>[t(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{H as default,c as usePageData};
