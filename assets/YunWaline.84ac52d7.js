import{d as Ci,a4 as Lr,u as Tr,K as jn,o as $i,c as Ii,f as Be,ac as Ar}from"./app.3e83b0ac.js";import{u as Or}from"./ValaxyMain.vue_vue_type_style_index_0_lang.85ff6270.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.a9b58029.js";import"./YunCard.vue_vue_type_style_index_0_lang.2182203a.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.6263b6c9.js";const jr=(e="//unpkg.com/")=>[`${e}@waline/emojis/bilibili/`,`${e}@waline/emojis/qq/`,`${e}@waline/emojis/weibo/`];function Pr(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function ut(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=ge(i)?Dr(i):ut(i);if(r)for(const s in r)t[s]=r[s]}return t}else{if(ge(e))return e;if(Y(e))return e}}const Mr=/;(?![^(]*\))/g,Nr=/:([^]+)/,Ur=/\/\*.*?\*\//gs;function Dr(e){const t={};return e.replace(Ur,"").split(Mr).forEach(n=>{if(n){const i=n.split(Nr);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function K(e){let t="";if(ge(e))t=e;else if(N(e))for(let n=0;n<e.length;n++){const i=K(e[n]);i&&(t+=i+" ")}else if(Y(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Fr(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=je(e[i],t[i]);return n}function je(e,t){if(e===t)return!0;let n=Pn(e),i=Pn(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=ft(e),i=ft(t),n||i)return e===t;if(n=N(e),i=N(t),n||i)return n&&i?Fr(e,t):!1;if(n=Y(e),i=Y(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const o in e){const l=e.hasOwnProperty(o),a=t.hasOwnProperty(o);if(l&&!a||!l&&a||!je(e[o],t[o]))return!1}}return String(e)===String(t)}function bn(e,t){return e.findIndex(n=>je(n,t))}const j=e=>ge(e)?e:e==null?"":N(e)||Y(e)&&(e.toString===zi||!ne(e.toString))?JSON.stringify(e,Ei,2):String(e),Ei=(e,t)=>t&&t.__v_isRef?Ei(e,t.value):He(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Je(t)?{[`Set(${t.size})`]:[...t.values()]}:Y(t)&&!N(t)&&!Li(t)?String(t):t,Br={},Vr=[],ot=()=>{},Hr=()=>!1,Wr=/^on[^a-z]/,qr=e=>Wr.test(e),Ri=Object.assign,Kr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Gr=Object.prototype.hasOwnProperty,Gt=(e,t)=>Gr.call(e,t),N=Array.isArray,He=e=>wt(e)==="[object Map]",Je=e=>wt(e)==="[object Set]",Pn=e=>wt(e)==="[object Date]",ne=e=>typeof e=="function",ge=e=>typeof e=="string",ft=e=>typeof e=="symbol",Y=e=>e!==null&&typeof e=="object",Zr=e=>Y(e)&&ne(e.then)&&ne(e.catch),zi=Object.prototype.toString,wt=e=>zi.call(e),Qr=e=>wt(e).slice(8,-1),Li=e=>wt(e)==="[object Object]",kn=e=>ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ti=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jr=/-(\w)/g,Dt=Ti(e=>e.replace(Jr,(t,n)=>n?n.toUpperCase():"")),Ai=Ti(e=>e.charAt(0).toUpperCase()+e.slice(1)),pt=(e,t)=>!Object.is(e,t),Yr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ft=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Xr;function es(e,t=Xr){t&&t.active&&t.effects.push(e)}const _n=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Oi=e=>(e.w&Ee)>0,ji=e=>(e.n&Ee)>0,ts=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ee},ns=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Oi(r)&&!ji(r)?r.delete(e):t[n++]=r,r.w&=~Ee,r.n&=~Ee}t.length=n}},an=new WeakMap;let rt=0,Ee=1;const cn=30;let le;const Oe=Symbol(""),un=Symbol("");class Pi{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,es(this,i)}run(){if(!this.active)return this.fn();let t=le,n=Ie;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=le,le=this,Ie=!0,Ee=1<<++rt,rt<=cn?ts(this):Mn(this),this.fn()}finally{rt<=cn&&ns(this),Ee=1<<--rt,le=this.parent,Ie=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){le===this?this.deferStop=!0:this.active&&(Mn(this),this.onStop&&this.onStop(),this.active=!1)}}function Mn(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ie=!0;const Mi=[];function Ni(){Mi.push(Ie),Ie=!1}function Ui(){const e=Mi.pop();Ie=e===void 0?!0:e}function fe(e,t,n){if(Ie&&le){let i=an.get(e);i||an.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=_n()),Di(r)}}function Di(e,t){let n=!1;rt<=cn?ji(e)||(e.n|=Ee,n=!Oi(e)):n=!e.has(le),n&&(e.add(le),le.deps.push(e))}function Re(e,t,n,i,r,s){const o=an.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(n==="length"&&N(e)){const a=Ft(i);o.forEach((u,c)=>{(c==="length"||c>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),t){case"add":N(e)?kn(n)&&l.push(o.get("length")):(l.push(o.get(Oe)),He(e)&&l.push(o.get(un)));break;case"delete":N(e)||(l.push(o.get(Oe)),He(e)&&l.push(o.get(un)));break;case"set":He(e)&&l.push(o.get(Oe));break}if(l.length===1)l[0]&&fn(l[0]);else{const a=[];for(const u of l)u&&a.push(...u);fn(_n(a))}}function fn(e,t){const n=N(e)?e:[...e];for(const i of n)i.computed&&Nn(i);for(const i of n)i.computed||Nn(i)}function Nn(e,t){(e!==le||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const is=Pr("__proto__,__v_isRef,__isVue"),Fi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ft)),rs=Bi(),ss=Bi(!0),Un=os();function os(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=D(this);for(let s=0,o=this.length;s<o;s++)fe(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(D)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ni();const i=D(this)[t].apply(this,n);return Ui(),i}}),e}function Bi(e=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(e?t?_s:Wi:t?ks:Hi).get(i))return i;const o=N(i);if(!e&&o&&Gt(Un,r))return Reflect.get(Un,r,s);const l=Reflect.get(i,r,s);return(ft(r)?Fi.has(r):is(r))||(e||fe(i,"get",r),t)?l:ie(l)?o&&kn(r)?l:l.value:Y(l)?e?Cn(l):Sn(l):l}}const ls=as();function as(e=!1){return function(n,i,r,s){let o=n[i];if(Ge(o)&&ie(o)&&!ie(r))return!1;if(!e&&(!Bt(r)&&!Ge(r)&&(o=D(o),r=D(r)),!N(n)&&ie(o)&&!ie(r)))return o.value=r,!0;const l=N(n)&&kn(i)?Number(i)<n.length:Gt(n,i),a=Reflect.set(n,i,r,s);return n===D(s)&&(l?pt(r,o)&&Re(n,"set",i,r):Re(n,"add",i,r)),a}}function cs(e,t){const n=Gt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Re(e,"delete",t,void 0),i}function us(e,t){const n=Reflect.has(e,t);return(!ft(t)||!Fi.has(t))&&fe(e,"has",t),n}function fs(e){return fe(e,"iterate",N(e)?"length":Oe),Reflect.ownKeys(e)}const ps={get:rs,set:ls,deleteProperty:cs,has:us,ownKeys:fs},ds={get:ss,set(e,t){return!0},deleteProperty(e,t){return!0}},xn=e=>e,Zt=e=>Reflect.getPrototypeOf(e);function St(e,t,n=!1,i=!1){e=e.__v_raw;const r=D(e),s=D(t);n||(t!==s&&fe(r,"get",t),fe(r,"get",s));const{has:o}=Zt(r),l=i?xn:n?$n:dt;if(o.call(r,t))return l(e.get(t));if(o.call(r,s))return l(e.get(s));e!==r&&e.get(t)}function Ct(e,t=!1){const n=this.__v_raw,i=D(n),r=D(e);return t||(e!==r&&fe(i,"has",e),fe(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function $t(e,t=!1){return e=e.__v_raw,!t&&fe(D(e),"iterate",Oe),Reflect.get(e,"size",e)}function Dn(e){e=D(e);const t=D(this);return Zt(t).has.call(t,e)||(t.add(e),Re(t,"add",e,e)),this}function Fn(e,t){t=D(t);const n=D(this),{has:i,get:r}=Zt(n);let s=i.call(n,e);s||(e=D(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?pt(t,o)&&Re(n,"set",e,t):Re(n,"add",e,t),this}function Bn(e){const t=D(this),{has:n,get:i}=Zt(t);let r=n.call(t,e);r||(e=D(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Re(t,"delete",e,void 0),s}function Vn(){const e=D(this),t=e.size!==0,n=e.clear();return t&&Re(e,"clear",void 0,void 0),n}function It(e,t){return function(i,r){const s=this,o=s.__v_raw,l=D(o),a=t?xn:e?$n:dt;return!e&&fe(l,"iterate",Oe),o.forEach((u,c)=>i.call(r,a(u),a(c),s))}}function Et(e,t,n){return function(...i){const r=this.__v_raw,s=D(r),o=He(s),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,u=r[e](...i),c=n?xn:t?$n:dt;return!t&&fe(s,"iterate",a?un:Oe),{next(){const{value:g,done:p}=u.next();return p?{value:g,done:p}:{value:l?[c(g[0]),c(g[1])]:c(g),done:p}},[Symbol.iterator](){return this}}}}function ke(e){return function(...t){return e==="delete"?!1:this}}function hs(){const e={get(s){return St(this,s)},get size(){return $t(this)},has:Ct,add:Dn,set:Fn,delete:Bn,clear:Vn,forEach:It(!1,!1)},t={get(s){return St(this,s,!1,!0)},get size(){return $t(this)},has:Ct,add:Dn,set:Fn,delete:Bn,clear:Vn,forEach:It(!1,!0)},n={get(s){return St(this,s,!0)},get size(){return $t(this,!0)},has(s){return Ct.call(this,s,!0)},add:ke("add"),set:ke("set"),delete:ke("delete"),clear:ke("clear"),forEach:It(!0,!1)},i={get(s){return St(this,s,!0,!0)},get size(){return $t(this,!0)},has(s){return Ct.call(this,s,!0)},add:ke("add"),set:ke("set"),delete:ke("delete"),clear:ke("clear"),forEach:It(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Et(s,!1,!1),n[s]=Et(s,!0,!1),t[s]=Et(s,!1,!0),i[s]=Et(s,!0,!0)}),[e,n,t,i]}const[gs,ms,ws,ys]=hs();function Vi(e,t){const n=t?e?ys:ws:e?ms:gs;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Gt(n,r)&&r in i?n:i,r,s)}const vs={get:Vi(!1,!1)},bs={get:Vi(!0,!1)},Hi=new WeakMap,ks=new WeakMap,Wi=new WeakMap,_s=new WeakMap;function xs(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ss(e){return e.__v_skip||!Object.isExtensible(e)?0:xs(Qr(e))}function Sn(e){return Ge(e)?e:qi(e,!1,ps,vs,Hi)}function Cn(e){return qi(e,!0,ds,bs,Wi)}function qi(e,t,n,i,r){if(!Y(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Ss(e);if(o===0)return e;const l=new Proxy(e,o===2?i:n);return r.set(e,l),l}function lt(e){return Ge(e)?lt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ge(e){return!!(e&&e.__v_isReadonly)}function Bt(e){return!!(e&&e.__v_isShallow)}function Ki(e){return lt(e)||Ge(e)}function D(e){const t=e&&e.__v_raw;return t?D(t):e}const dt=e=>Y(e)?Sn(e):e,$n=e=>Y(e)?Cn(e):e;function Gi(e){Ie&&le&&(e=D(e),Di(e.dep||(e.dep=_n())))}function Zi(e,t){e=D(e),e.dep&&fn(e.dep)}function ie(e){return!!(e&&e.__v_isRef===!0)}function L(e){return Qi(e,!1)}function Cs(e){return Qi(e,!0)}function Qi(e,t){return ie(e)?e:new $s(e,t)}class $s{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:D(t),this._value=n?t:dt(t)}get value(){return Gi(this),this._value}set value(t){const n=this.__v_isShallow||Bt(t)||Ge(t);t=n?t:D(t),pt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:dt(t),Zi(this))}}function Ji(e){return ie(e)?e.value:e}var Yi;class Is{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Yi]=!1,this._dirty=!0,this.effect=new Pi(t,()=>{this._dirty||(this._dirty=!0,Zi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=D(this);return Gi(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Yi="__v_isReadonly";function Es(e,t,n=!1){let i,r;const s=ne(e);return s?(i=e,r=ot):(i=e.get,r=e.set),new Is(i,r,s||!r,n)}function We(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){Xi(s,t,n)}return r}function at(e,t,n,i){if(ne(e)){const s=We(e,t,n,i);return s&&Zr(s)&&s.catch(o=>{Xi(o,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(at(e[s],t,n,i));return r}function Xi(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,l=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,l)===!1)return}s=s.parent}const a=t.appContext.config.errorHandler;if(a){We(a,null,10,[e,o,l]);return}}Rs(e,n,r,i)}function Rs(e,t,n,i=!0){console.error(e)}let Vt=!1,pn=!1;const ae=[];let xe=0;const qe=[];let we=null,Ae=0;const er=Promise.resolve();let In=null;function tr(e){const t=In||er;return e?t.then(this?e.bind(this):e):t}function zs(e){let t=xe+1,n=ae.length;for(;t<n;){const i=t+n>>>1;ht(ae[i])<e?t=i+1:n=i}return t}function Ls(e){(!ae.length||!ae.includes(e,Vt&&e.allowRecurse?xe+1:xe))&&(e.id==null?ae.push(e):ae.splice(zs(e.id),0,e),nr())}function nr(){!Vt&&!pn&&(pn=!0,In=er.then(ir))}function Ts(e){N(e)?qe.push(...e):(!we||!we.includes(e,e.allowRecurse?Ae+1:Ae))&&qe.push(e),nr()}function As(e){if(qe.length){const t=[...new Set(qe)];if(qe.length=0,we){we.push(...t);return}for(we=t,we.sort((n,i)=>ht(n)-ht(i)),Ae=0;Ae<we.length;Ae++)we[Ae]();we=null,Ae=0}}const ht=e=>e.id==null?1/0:e.id,Os=(e,t)=>{const n=ht(e)-ht(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ir(e){pn=!1,Vt=!0,ae.sort(Os);const t=ot;try{for(xe=0;xe<ae.length;xe++){const n=ae[xe];n&&n.active!==!1&&We(n,null,14)}}finally{xe=0,ae.length=0,As(),Vt=!1,In=null,(ae.length||qe.length)&&ir()}}let Ce=null,js=null;const Ps=e=>e.__isSuspense;function Ms(e,t){t&&t.pendingBranch?N(e)?t.effects.push(...e):t.effects.push(e):Ts(e)}function Ns(e,t){if(ee){let n=ee.provides;const i=ee.parent&&ee.parent.provides;i===n&&(n=ee.provides=Object.create(i)),n[e]=t}}function Qt(e,t,n=!1){const i=ee||Ce;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ne(t)?t.call(i.proxy):t}}const Rt={};function re(e,t,n){return Us(e,t,n)}function Us(e,t,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:o}=Br){const l=ee;let a,u=!1,c=!1;if(ie(e)?(a=()=>e.value,u=Bt(e)):lt(e)?(a=()=>e,i=!0):N(e)?(c=!0,u=e.some(I=>lt(I)||Bt(I)),a=()=>e.map(I=>{if(ie(I))return I.value;if(lt(I))return Ve(I);if(ne(I))return We(I,l,2)})):ne(e)?t?a=()=>We(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return g&&g(),at(e,l,3,[p])}:a=ot,t&&i){const I=a;a=()=>Ve(I())}let g,p=I=>{g=f.onStop=()=>{We(I,l,4)}},d;if(ar)if(p=ot,t?n&&at(t,l,3,[a(),c?[]:void 0,p]):a(),r==="sync"){const I=io();d=I.__watcherHandles||(I.__watcherHandles=[])}else return ot;let h=c?new Array(e.length).fill(Rt):Rt;const b=()=>{if(!!f.active)if(t){const I=f.run();(i||u||(c?I.some((A,R)=>pt(A,h[R])):pt(I,h)))&&(g&&g(),at(t,l,3,[I,h===Rt?void 0:c&&h[0]===Rt?[]:h,p]),h=I)}else f.run()};b.allowRecurse=!!t;let m;r==="sync"?m=b:r==="post"?m=()=>Wn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),m=()=>Ls(b));const f=new Pi(a,m);t?n?b():h=f.run():r==="post"?Wn(f.run.bind(f),l&&l.suspense):f.run();const $=()=>{f.stop(),l&&l.scope&&Kr(l.scope.effects,f)};return d&&d.push($),$}function Ve(e,t){if(!Y(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ie(e))Ve(e.value,t);else if(N(e))for(let n=0;n<e.length;n++)Ve(e[n],t);else if(Je(e)||He(e))e.forEach(n=>{Ve(n,t)});else if(Li(e))for(const n in e)Ve(e[n],t);return e}function yt(e){return ne(e)?{setup:e,name:e.name}:e}function Ds(e,t,n=ee,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Ni(),Ys(n);const l=at(t,n,e,o);return Xs(),Ui(),l});return i?r.unshift(s):r.push(s),s}}const En=e=>(t,n=ee)=>Ds(e,(...i)=>t(...i),n),vt=En("m"),Fs=En("bum"),Rn=En("um");function zt(e,t){return e}const rr="components";function W(e,t){return Vs(rr,e,!0,t)||e}const Bs=Symbol();function Vs(e,t,n=!0,i=!1){const r=ee;if(r){const s=r.type;if(e===rr){const l=eo(s,!1);if(l&&(l===t||l===Dt(t)||l===Ai(Dt(t))))return s}const o=Hn(r[e]||s[e],t)||Hn(r.appContext[e],t);return!o&&i?s:o}}function Hn(e,t){return e&&(e[t]||e[Dt(t)]||e[Ai(Dt(t))])}function ce(e,t,n,i){let r;const s=n&&n[i];if(N(e)||ge(e)){r=new Array(e.length);for(let o=0,l=e.length;o<l;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(Y(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,s&&s[l]));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const u=o[l];r[l]=t(e[u],u,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function Hs(){return{app:null,config:{isNativeTag:Hr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}const Wn=Ms,Ws=e=>e.__isTeleport,G=Symbol(void 0),qs=Symbol(void 0),dn=Symbol(void 0),Pt=[];let ue=null;function w(e=!1){Pt.push(ue=e?null:[])}function Ks(){Pt.pop(),ue=Pt[Pt.length-1]||null}function sr(e){return e.dynamicChildren=ue||Vr,Ks(),ue&&ue.push(e),e}function v(e,t,n,i,r,s){return sr(x(e,t,n,i,r,s,!0))}function Pe(e,t,n,i,r){return sr(V(e,t,n,i,r,!0))}function hn(e){return e?e.__v_isVNode===!0:!1}const or="__vInternal",lr=({key:e})=>e!=null?e:null,Mt=({ref:e,ref_key:t,ref_for:n})=>e!=null?ge(e)||ie(e)||ne(e)?{i:Ce,r:e,k:t,f:!!n}:e:null;function x(e,t=null,n=null,i=0,r=null,s=e===G?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lr(t),ref:t&&Mt(t),scopeId:js,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ce};return l?(zn(a,n),s&128&&e.normalize(a)):n&&(a.shapeFlag|=ge(n)?8:16),!o&&ue&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&ue.push(a),a}const V=Gs;function Gs(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===Bs)&&(e=dn),hn(e)){const l=gn(e,t,!0);return n&&zn(l,n),!s&&ue&&(l.shapeFlag&6?ue[ue.indexOf(e)]=l:ue.push(l)),l.patchFlag|=-2,l}if(to(e)&&(e=e.__vccOpts),t){t=Zs(t);let{class:l,style:a}=t;l&&!ge(l)&&(t.class=K(l)),Y(a)&&(Ki(a)&&!N(a)&&(a=Ri({},a)),t.style=ut(a))}const o=ge(e)?1:Ps(e)?128:Ws(e)?64:Y(e)?4:ne(e)?2:0;return x(e,t,n,i,r,o,s,!0)}function Zs(e){return e?Ki(e)||or in e?Ri({},e):e:null}function gn(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,l=t?Qs(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&lr(l),ref:t&&t.ref?n&&r?N(r)?r.concat(Mt(t)):[r,Mt(t)]:Mt(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==G?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gn(e.ssContent),ssFallback:e.ssFallback&&gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function $e(e=" ",t=0){return V(qs,null,e,t)}function z(e="",t=!1){return t?(w(),Pe(dn,null,e)):V(dn,null,e)}function zn(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(N(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),zn(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(or in t)?t._ctx=Ce:r===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),i&64?(n=16,t=[$e(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qs(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=K([t.class,i.class]));else if(r==="style")t.style=ut([t.style,i.style]);else if(qr(r)){const s=t[r],o=i[r];o&&s!==o&&!(N(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}Hs();let ee=null;const Js=()=>ee||Ce,Ys=e=>{ee=e,e.scope.on()},Xs=()=>{ee&&ee.scope.off(),ee=null};let ar=!1;function eo(e,t=!0){return ne(e)?e.displayName||e.name:e.name||t&&e.__name}function to(e){return ne(e)&&"__vccOpts"in e}const J=(e,t)=>Es(e,t,ar);function M(e,t,n){const i=arguments.length;return i===2?Y(t)&&!N(t)?hn(t)?V(e,null,[t]):V(e,t):V(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&hn(n)&&(n=[n]),V(e,t,n))}const no=Symbol(""),io=()=>Qt(no);function Se(e,t,n,i){e.addEventListener(t,n,i)}const ze=e=>{const t=e.props["onUpdate:modelValue"]||!1;return N(t)?n=>Yr(t,n):t};function ro(e){e.target.composing=!0}function qn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mn={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=ze(r);const s=i||r.props&&r.props.type==="number";Se(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Ft(l)),e._assign(l)}),n&&Se(e,"change",()=>{e.value=e.value.trim()}),t||(Se(e,"compositionstart",ro),Se(e,"compositionend",qn),Se(e,"change",qn))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},s){if(e._assign=ze(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(r||e.type==="number")&&Ft(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},so={deep:!0,created(e,t,n){e._assign=ze(n),Se(e,"change",()=>{const i=e._modelValue,r=Ze(e),s=e.checked,o=e._assign;if(N(i)){const l=bn(i,r),a=l!==-1;if(s&&!a)o(i.concat(r));else if(!s&&a){const u=[...i];u.splice(l,1),o(u)}}else if(Je(i)){const l=new Set(i);s?l.add(r):l.delete(r),o(l)}else o(cr(e,s))})},mounted:Kn,beforeUpdate(e,t,n){e._assign=ze(n),Kn(e,t,n)}};function Kn(e,{value:t,oldValue:n},i){e._modelValue=t,N(t)?e.checked=bn(t,i.props.value)>-1:Je(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=je(t,cr(e,!0)))}const oo={created(e,{value:t},n){e.checked=je(t,n.props.value),e._assign=ze(n),Se(e,"change",()=>{e._assign(Ze(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=ze(i),t!==n&&(e.checked=je(t,i.props.value))}},lo={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=Je(t);Se(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Ft(Ze(o)):Ze(o));e._assign(e.multiple?r?new Set(s):s:s[0])}),e._assign=ze(i)},mounted(e,{value:t}){Gn(e,t)},beforeUpdate(e,t,n){e._assign=ze(n)},updated(e,{value:t}){Gn(e,t)}};function Gn(e,t){const n=e.multiple;if(!(n&&!N(t)&&!Je(t))){for(let i=0,r=e.options.length;i<r;i++){const s=e.options[i],o=Ze(s);if(n)N(t)?s.selected=bn(t,o)>-1:s.selected=t.has(o);else if(je(Ze(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ze(e){return"_value"in e?e._value:e.value}function cr(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ao={created(e,t,n){Lt(e,t,n,null,"created")},mounted(e,t,n){Lt(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Lt(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Lt(e,t,n,i,"updated")}};function co(e,t){switch(e){case"SELECT":return lo;case"TEXTAREA":return mn;default:switch(t){case"checkbox":return so;case"radio":return oo;default:return mn}}}function Lt(e,t,n,i,r){const o=co(e.tagName,n.props&&n.props.type)[r];o&&o(e,t,n,i)}const Zn={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):it(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),it(e,!0),i.enter(e)):i.leave(e,()=>{it(e,!1)}):it(e,t))},beforeUnmount(e,{value:t}){it(e,t)}};function it(e,t){e.style.display=t?e._vod:"none"}var Qn;const Me=typeof window<"u",uo=e=>typeof e=="function",fo=e=>typeof e=="string",po=()=>{};Me&&((Qn=window==null?void 0:window.navigator)==null?void 0:Qn.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function gt(e){return typeof e=="function"?e():Ji(e)}function ur(e,t){function n(...i){e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})}return n}const fr=e=>e();function ho(e,t={}){let n,i;return s=>{const o=gt(e),l=gt(t.maxWait);if(n&&clearTimeout(n),o<=0||l!==void 0&&l<=0)return i&&(clearTimeout(i),i=null),s();l&&!i&&(i=setTimeout(()=>{n&&clearTimeout(n),i=null,s()},l)),n=setTimeout(()=>{i&&clearTimeout(i),i=null,s()},o)}}function go(e=fr){const t=L(!0);function n(){t.value=!1}function i(){t.value=!0}return{isActive:t,pause:n,resume:i,eventFilter:(...s)=>{t.value&&e(...s)}}}function mo(e){return e}function wo(e,t=200,n={}){return ur(ho(t,n),e)}function yo(e,t=!0){Js()?vt(e):t?e():tr(e)}function vo(e,t=1e3,n={}){const{immediate:i=!0,immediateCallback:r=!1}=n;let s=null;const o=L(!1);function l(){s&&(clearInterval(s),s=null)}function a(){o.value=!1,l()}function u(){Ji(t)<=0||(o.value=!0,r&&e(),l(),s=setInterval(e,gt(t)))}return i&&Me&&u(),ie(t)&&re(t,()=>{o.value&&Me&&u()}),{isActive:o,pause:a,resume:u}}var Jn=Object.getOwnPropertySymbols,bo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,_o=(e,t)=>{var n={};for(var i in e)bo.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Jn)for(var i of Jn(e))t.indexOf(i)<0&&ko.call(e,i)&&(n[i]=e[i]);return n};function xo(e,t,n={}){const i=n,{eventFilter:r=fr}=i,s=_o(i,["eventFilter"]);return re(e,ur(r,t),s)}var So=Object.defineProperty,Co=Object.defineProperties,$o=Object.getOwnPropertyDescriptors,Ht=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,Yn=(e,t,n)=>t in e?So(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Io=(e,t)=>{for(var n in t||(t={}))pr.call(t,n)&&Yn(e,n,t[n]);if(Ht)for(var n of Ht(t))dr.call(t,n)&&Yn(e,n,t[n]);return e},Eo=(e,t)=>Co(e,$o(t)),Ro=(e,t)=>{var n={};for(var i in e)pr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Ht)for(var i of Ht(e))t.indexOf(i)<0&&dr.call(e,i)&&(n[i]=e[i]);return n};function zo(e,t,n={}){const i=n,{eventFilter:r}=i,s=Ro(i,["eventFilter"]),{eventFilter:o,pause:l,resume:a,isActive:u}=go(r);return{stop:xo(e,t,Eo(Io({},s),{eventFilter:o})),pause:l,resume:a,isActive:u}}function Lo(e){var t;const n=gt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Wt=Me?window:void 0,To=Me?window.document:void 0;Me&&window.navigator;Me&&window.location;function Ao(...e){let t,n,i,r;if(fo(e[0])||Array.isArray(e[0])?([n,i,r]=e,t=Wt):[t,n,i,r]=e,!t)return po;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},l=(c,g,p)=>(c.addEventListener(g,p,r),()=>c.removeEventListener(g,p,r)),a=re(()=>Lo(t),c=>{o(),c&&s.push(...n.flatMap(g=>i.map(p=>l(c,g,p))))},{immediate:!0,flush:"post"});return()=>{a(),o()}}const wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yn="__vueuse_ssr_handlers__";wn[yn]=wn[yn]||{};const Oo=wn[yn];function jo(e,t){return Oo[e]||t}function Po(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var Mo=Object.defineProperty,Xn=Object.getOwnPropertySymbols,No=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable,ei=(e,t,n)=>t in e?Mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ti=(e,t)=>{for(var n in t||(t={}))No.call(t,n)&&ei(e,n,t[n]);if(Xn)for(var n of Xn(t))Uo.call(t,n)&&ei(e,n,t[n]);return e};const Do={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Qe(e,t,n,i={}){var r;const{flush:s="pre",deep:o=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:c,window:g=Wt,eventFilter:p,onError:d=k=>{console.error(k)}}=i,h=(c?Cs:L)(t);if(!n)try{n=jo("getDefaultStorage",()=>{var k;return(k=Wt)==null?void 0:k.localStorage})()}catch(k){d(k)}if(!n)return h;const b=gt(t),m=Po(b),f=(r=i.serializer)!=null?r:Do[m],{pause:$,resume:I}=zo(h,()=>A(h.value),{flush:s,deep:o,eventFilter:p});return g&&l&&Ao(g,"storage",O),O(),h;function A(k){try{k==null?n.removeItem(e):n.setItem(e,f.write(k))}catch(U){d(U)}}function R(k){$();try{const U=k?k.newValue:n.getItem(e);if(U==null)return a&&b!==null&&n.setItem(e,f.write(b)),b;if(!k&&u){const H=f.read(U);return uo(u)?u(H,b):m==="object"&&!Array.isArray(H)?ti(ti({},b),H):H}else return typeof U!="string"?U:f.read(U)}catch(U){d(U)}finally{I()}}function O(k){if(!(k&&k.storageArea!==n)){if(k&&k.key===null){h.value=b;return}k&&k.key!==e||(h.value=R(k))}}}function Fo(e,t={}){const{immediate:n=!0,window:i=Wt}=t,r=L(!1);let s=null;function o(){!r.value||!i||(e(),s=i.requestAnimationFrame(o))}function l(){!r.value&&i&&(r.value=!0,o())}function a(){r.value=!1,s!=null&&i&&(i.cancelAnimationFrame(s),s=null)}return n&&l(),{isActive:r,pause:a,resume:l}}var Bo=Object.defineProperty,ni=Object.getOwnPropertySymbols,Vo=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,ii=(e,t,n)=>t in e?Bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wo=(e,t)=>{for(var n in t||(t={}))Vo.call(t,n)&&ii(e,n,t[n]);if(ni)for(var n of ni(t))Ho.call(t,n)&&ii(e,n,t[n]);return e};function qo(e={}){const{controls:t=!1,interval:n="requestAnimationFrame"}=e,i=L(new Date),r=()=>i.value=new Date,s=n==="requestAnimationFrame"?Fo(r,{immediate:!0}):vo(r,n,{immediate:!0});return t?Wo({now:i},s):i}var ri;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(ri||(ri={}));let Ko=0;function Go(e,t={}){const n=L(!1),{document:i=To,immediate:r=!0,manual:s=!1,id:o=`vueuse_styletag_${++Ko}`}=t,l=L(e);let a=()=>{};const u=()=>{if(!i)return;const g=i.getElementById(o)||i.createElement("style");g.isConnected||(g.type="text/css",g.id=o,t.media&&(g.media=t.media),i.head.appendChild(g)),!n.value&&(a=re(l,p=>{g.innerText=p},{immediate:!0}),n.value=!0)},c=()=>{!i||!n.value||(a(),i.head.removeChild(i.getElementById(o)),n.value=!1)};return r&&!s&&yo(u),{id:o,css:l,unload:c,load:u,isLoaded:Cn(n)}}var Zo=Object.defineProperty,si=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,Jo=Object.prototype.propertyIsEnumerable,oi=(e,t,n)=>t in e?Zo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yo=(e,t)=>{for(var n in t||(t={}))Qo.call(t,n)&&oi(e,n,t[n]);if(si)for(var n of si(t))Jo.call(t,n)&&oi(e,n,t[n]);return e};const Xo={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Yo({linear:mo},Xo);var Te,Tt,ct=typeof Map=="function"?new Map:(Te=[],Tt=[],{has:function(e){return Te.indexOf(e)>-1},get:function(e){return Tt[Te.indexOf(e)]},set:function(e,t){Te.indexOf(e)===-1&&(Te.push(e),Tt.push(t))},delete:function(e){var t=Te.indexOf(e);t>-1&&(Te.splice(t,1),Tt.splice(t,1))}}),hr=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch{hr=function(t){var n=document.createEvent("Event");return n.initEvent(t,!0,!1),n}}function el(e){var t=ct.get(e);t&&t.destroy()}function tl(e){var t=ct.get(e);t&&t.update()}var st=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((st=function(e){return e}).destroy=function(e){return e},st.update=function(e){return e}):((st=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(n){return function(i){if(i&&i.nodeName&&i.nodeName==="TEXTAREA"&&!ct.has(i)){var r,s=null,o=null,l=null,a=function(){i.clientWidth!==o&&p()},u=function(d){window.removeEventListener("resize",a,!1),i.removeEventListener("input",p,!1),i.removeEventListener("keyup",p,!1),i.removeEventListener("autosize:destroy",u,!1),i.removeEventListener("autosize:update",p,!1),Object.keys(d).forEach(function(h){i.style[h]=d[h]}),ct.delete(i)}.bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",u,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",p,!1),window.addEventListener("resize",a,!1),i.addEventListener("input",p,!1),i.addEventListener("autosize:update",p,!1),i.style.overflowX="hidden",i.style.wordWrap="break-word",ct.set(i,{destroy:u,update:p}),(r=window.getComputedStyle(i,null)).resize==="vertical"?i.style.resize="none":r.resize==="both"&&(i.style.resize="horizontal"),s=r.boxSizing==="content-box"?-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),isNaN(s)&&(s=0),p()}function c(d){var h=i.style.width;i.style.width="0px",i.style.width=h,i.style.overflowY=d}function g(){if(i.scrollHeight!==0){var d=function(h){for(var b=[];h&&h.parentNode&&h.parentNode instanceof Element;)h.parentNode.scrollTop&&(h.parentNode.style.scrollBehavior="auto",b.push([h.parentNode,h.parentNode.scrollTop])),h=h.parentNode;return function(){return b.forEach(function(m){var f=m[0];f.scrollTop=m[1],f.style.scrollBehavior=null})}}(i);i.style.height="",i.style.height=i.scrollHeight+s+"px",o=i.clientWidth,d()}}function p(){g();var d=Math.round(parseFloat(i.style.height)),h=window.getComputedStyle(i,null),b=h.boxSizing==="content-box"?Math.round(parseFloat(h.height)):i.offsetHeight;if(b<d?h.overflowY==="hidden"&&(c("scroll"),g(),b=h.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight):h.overflowY!=="hidden"&&(c("hidden"),g(),b=h.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight),l!==b){l=b;var m=hr("autosize:resized");try{i.dispatchEvent(m)}catch{}}}}(n)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],el),e},st.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],tl),e});var li=st;function gr(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ye=gr();function nl(e){Ye=e}const mr=/[&<>"']/,il=new RegExp(mr.source,"g"),wr=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,rl=new RegExp(wr.source,"g"),sl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ai=e=>sl[e];function Q(e,t){if(t){if(mr.test(e))return e.replace(il,ai)}else if(wr.test(e))return e.replace(rl,ai);return e}const ol=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function yr(e){return e.replace(ol,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const ll=/(^|[^\[])\^/g;function F(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(i,r)=>(r=r.source||r,r=r.replace(ll,"$1"),e=e.replace(i,r),n),getRegex:()=>new RegExp(e,t)};return n}const al=/[^\w:]/g,cl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ci(e,t,n){if(e){let i;try{i=decodeURIComponent(yr(n)).replace(al,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}t&&!cl.test(n)&&(n=dl(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const At={},ul=/^[^:]+:\/*[^/]*$/,fl=/^([^:]+:)[\s\S]*$/,pl=/^([^:]+:\/*[^/]*)[\s\S]*$/;function dl(e,t){At[" "+e]||(ul.test(e)?At[" "+e]=e+"/":At[" "+e]=Nt(e,"/",!0)),e=At[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(fl,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(pl,"$1")+t:e+t}const qt={exec:function(){}};function pe(e){let t=1,n,i;for(;t<arguments.length;t++){n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}function ui(e,t){const n=e.replace(/\|/g,(s,o,l)=>{let a=!1,u=o;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),i=n.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function Nt(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i;){const s=e.charAt(i-r-1);if(s===t&&!n)r++;else if(s!==t&&n)r++;else break}return e.slice(0,i-r)}function hl(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}function vr(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function fi(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function pi(e,t,n,i){const r=t.href,s=t.title?Q(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const l={type:"link",raw:n,href:r,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,l}return{type:"image",raw:n,href:r,title:s,text:Q(o)}}function gl(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const i=n[1];return t.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[o]=s;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}class Ln{constructor(t){this.options=t||Ye}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Nt(i,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const i=n[0],r=gl(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(/#$/.test(i)){const r=Nt(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const i=n[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i,r,s,o,l,a,u,c,g,p,d,h,b=n[1].trim();const m=b.length>1,f={type:"list",raw:"",ordered:m,start:m?+b.slice(0,-1):"",loose:!1,items:[]};b=m?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=m?b:"[*+-]");const $=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;t&&(h=!1,!(!(n=$.exec(t))||this.rules.block.hr.test(t)));){if(i=n[0],t=t.substring(i.length),c=n[2].split(`
`,1)[0],g=t.split(`
`,1)[0],this.options.pedantic?(o=2,d=c.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,d=c.slice(o),o+=n[1].length),a=!1,!c&&/^ *$/.test(g)&&(i+=g+`
`,t=t.substring(g.length+1),h=!0),!h){const A=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),R=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),O=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;t&&(p=t.split(`
`,1)[0],c=p,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(O.test(c)||k.test(c)||A.test(c)||R.test(t)));){if(c.search(/[^ ]/)>=o||!c.trim())d+=`
`+c.slice(o);else if(!a)d+=`
`+c;else break;!a&&!c.trim()&&(a=!0),i+=p+`
`,t=t.substring(p.length+1)}}f.loose||(u?f.loose=!0:/\n *\n *$/.test(i)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d),r&&(s=r[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:i,task:!!r,checked:s,loose:!1,text:d}),f.raw+=i}f.items[f.items.length-1].raw=i.trimRight(),f.items[f.items.length-1].text=d.trimRight(),f.raw=f.raw.trimRight();const I=f.items.length;for(l=0;l<I;l++){this.lexer.state.top=!1,f.items[l].tokens=this.lexer.blockTokens(f.items[l].text,[]);const A=f.items[l].tokens.filter(O=>O.type==="space"),R=A.every(O=>{const k=O.raw.split("");let U=0;for(const H of k)if(H===`
`&&(U+=1),U>1)return!0;return!1});!f.loose&&A.length&&R&&(f.loose=!0,f.items[l].loose=!0)}return f}}html(t){const n=this.rules.block.html.exec(t);if(n){const i={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):Q(n[0]);i.type="paragraph",i.text=r,i.tokens=this.lexer.inline(r)}return i}}def(t){const n=this.rules.block.def.exec(t);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:r,title:s}}}table(t){const n=this.rules.block.table.exec(t);if(n){const i={type:"table",header:ui(n[1]).map(r=>({text:r})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=n[0];let r=i.align.length,s,o,l,a;for(s=0;s<r;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(r=i.rows.length,s=0;s<r;s++)i.rows[s]=ui(i.rows[s],i.header.length).map(u=>({text:u}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=this.lexer.inline(i.header[o].text);for(r=i.rows.length,o=0;o<r;o++)for(a=i.rows[o],l=0;l<a.length;l++)a[l].tokens=this.lexer.inline(a[l].text);return i}}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:Q(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Q(n[0]):n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=Nt(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=hl(n[2],"()");if(o>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let r=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),pi(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return pi(i,r,i[0],this.lexer)}}emStrong(t,n,i=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const s=r[1]||r[2]||"";if(!s||s&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let l,a,u=o,c=0;const g=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,n=n.slice(-1*t.length+o);(r=g.exec(n))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(a=l.length,r[3]||r[4]){u+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);const p=t.slice(0,o+r.index+(r[0].length-l.length)+a);if(Math.min(o,a)%2){const h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}const d=p.slice(2,-2);return{type:"strong",raw:p,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(/\n/g," ");const r=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return r&&s&&(i=i.substring(1,i.length-1)),i=Q(i,!0),{type:"codespan",raw:n[0],text:i}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t,n){const i=this.rules.inline.autolink.exec(t);if(i){let r,s;return i[2]==="@"?(r=Q(this.options.mangle?n(i[1]):i[1]),s="mailto:"+r):(r=Q(i[1]),s=r),{type:"link",raw:i[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(t,n){let i;if(i=this.rules.inline.url.exec(t)){let r,s;if(i[2]==="@")r=Q(this.options.mangle?n(i[0]):i[0]),s="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=Q(i[0]),i[1]==="www."?s="http://"+r:s=r}return{type:"link",raw:i[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t,n){const i=this.rules.inline.text.exec(t);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Q(i[0]):i[0]:r=Q(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const S={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};S._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;S._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;S.def=F(S.def).replace("label",S._label).replace("title",S._title).getRegex();S.bullet=/(?:[*+-]|\d{1,9}[.)])/;S.listItemStart=F(/^( *)(bull) */).replace("bull",S.bullet).getRegex();S.list=F(S.list).replace(/bull/g,S.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+S.def.source+")").getRegex();S._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";S._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;S.html=F(S.html,"i").replace("comment",S._comment).replace("tag",S._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();S.paragraph=F(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex();S.blockquote=F(S.blockquote).replace("paragraph",S.paragraph).getRegex();S.normal=pe({},S);S.gfm=pe({},S.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});S.gfm.table=F(S.gfm.table).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex();S.gfm.paragraph=F(S._paragraph).replace("hr",S.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",S.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S._tag).getRegex();S.pedantic=pe({},S.normal,{html:F(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",S._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:F(S.normal._paragraph).replace("hr",S.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",S.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const y={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};y._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";y.punctuation=F(y.punctuation).replace(/punctuation/g,y._punctuation).getRegex();y.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;y.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;y._comment=F(S._comment).replace("(?:-->|$)","-->").getRegex();y.emStrong.lDelim=F(y.emStrong.lDelim).replace(/punct/g,y._punctuation).getRegex();y.emStrong.rDelimAst=F(y.emStrong.rDelimAst,"g").replace(/punct/g,y._punctuation).getRegex();y.emStrong.rDelimUnd=F(y.emStrong.rDelimUnd,"g").replace(/punct/g,y._punctuation).getRegex();y._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;y._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;y._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;y.autolink=F(y.autolink).replace("scheme",y._scheme).replace("email",y._email).getRegex();y._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;y.tag=F(y.tag).replace("comment",y._comment).replace("attribute",y._attribute).getRegex();y._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;y._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;y._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;y.link=F(y.link).replace("label",y._label).replace("href",y._href).replace("title",y._title).getRegex();y.reflink=F(y.reflink).replace("label",y._label).replace("ref",S._label).getRegex();y.nolink=F(y.nolink).replace("ref",S._label).getRegex();y.reflinkSearch=F(y.reflinkSearch,"g").replace("reflink",y.reflink).replace("nolink",y.nolink).getRegex();y.normal=pe({},y);y.pedantic=pe({},y.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:F(/^!?\[(label)\]\((.*?)\)/).replace("label",y._label).getRegex(),reflink:F(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",y._label).getRegex()});y.gfm=pe({},y.normal,{escape:F(y.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});y.gfm.url=F(y.gfm.url,"i").replace("email",y.gfm._extended_email).getRegex();y.breaks=pe({},y.gfm,{br:F(y.br).replace("{2,}","*").getRegex(),text:F(y.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ml(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function di(e){let t="",n,i;const r=e.length;for(n=0;n<r;n++)i=e.charCodeAt(n),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t}class ye{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ye,this.options.tokenizer=this.options.tokenizer||new Ln,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:S.normal,inline:y.normal};this.options.pedantic?(n.block=S.pedantic,n.inline=y.pedantic):this.options.gfm&&(n.block=S.gfm,this.options.breaks?n.inline=y.breaks:n.inline=y.gfm),this.tokenizer.rules=n}static get rules(){return{block:S,inline:y}}static lex(t,n){return new ye(n).lex(t)}static lexInline(t,n){return new ye(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,a,u)=>a+"    ".repeat(u.length));let i,r,s,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=t.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){r=n[n.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i),o=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(i);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i,r,s,o=t,l,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+fi("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+fi("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,l.index+l[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(i=c.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(t,o,u)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(t,di)){t=t.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t,di))){t=t.substring(i.raw.length),n.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const g=t.slice(1);let p;this.options.extensions.startInline.forEach(function(d){p=d.call({lexer:this},g),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(s=t.substring(0,c+1))}if(i=this.tokenizer.inlineText(s,ml)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(u=i.raw.slice(-1)),a=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Tn{constructor(t){this.options=t||Ye}code(t,n,i){const r=(n||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(t,r);s!=null&&s!==t&&(i=!0,t=s)}return t=t.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Q(r)+'">'+(i?t:Q(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:Q(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t){return t}heading(t,n,i,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(i);return`<h${n} id="${s}">${t}</h${n}>
`}return`<h${n}>${t}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(t,n,i){const r=n?"ol":"ul",s=n&&i!==1?' start="'+i+'"':"";return"<"+r+s+`>
`+t+"</"+r+`>
`}listitem(t){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const i=n.header?"th":"td";return(n.align?`<${i} align="${n.align}">`:`<${i}>`)+t+`</${i}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,n,i){if(t=ci(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let r='<a href="'+t+'"';return n&&(r+=' title="'+n+'"'),r+=">"+i+"</a>",r}image(t,n,i){if(t=ci(this.options.sanitize,this.options.baseUrl,t),t===null)return i;let r=`<img src="${t}" alt="${i}"`;return n&&(r+=` title="${n}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class br{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,i){return""+i}image(t,n,i){return""+i}br(){return""}}class kr{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,n){let i=t,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[t];do r++,i=t+"-"+r;while(this.seen.hasOwnProperty(i))}return n||(this.seen[t]=r,this.seen[i]=0),i}slug(t,n={}){const i=this.serialize(t);return this.getNextSafeSlug(i,n.dryrun)}}class he{constructor(t){this.options=t||Ye,this.options.renderer=this.options.renderer||new Tn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new br,this.slugger=new kr}static parse(t,n){return new he(n).parse(t)}static parseInline(t,n){return new he(n).parseInline(t)}parse(t,n=!0){let i="",r,s,o,l,a,u,c,g,p,d,h,b,m,f,$,I,A,R,O;const k=t.length;for(r=0;r<k;r++){if(d=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(O=this.options.extensions.renderers[d.type].call({parser:this},d),O!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){i+=O||"";continue}switch(d.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(d.tokens),d.depth,yr(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(d.text,d.lang,d.escaped);continue}case"table":{for(g="",c="",l=d.header.length,s=0;s<l;s++)c+=this.renderer.tablecell(this.parseInline(d.header[s].tokens),{header:!0,align:d.align[s]});for(g+=this.renderer.tablerow(c),p="",l=d.rows.length,s=0;s<l;s++){for(u=d.rows[s],c="",a=u.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:d.align[o]});p+=this.renderer.tablerow(c)}i+=this.renderer.table(g,p);continue}case"blockquote":{p=this.parse(d.tokens),i+=this.renderer.blockquote(p);continue}case"list":{for(h=d.ordered,b=d.start,m=d.loose,l=d.items.length,p="",s=0;s<l;s++)$=d.items[s],I=$.checked,A=$.task,f="",$.task&&(R=this.renderer.checkbox(I),m?$.tokens.length>0&&$.tokens[0].type==="paragraph"?($.tokens[0].text=R+" "+$.tokens[0].text,$.tokens[0].tokens&&$.tokens[0].tokens.length>0&&$.tokens[0].tokens[0].type==="text"&&($.tokens[0].tokens[0].text=R+" "+$.tokens[0].tokens[0].text)):$.tokens.unshift({type:"text",text:R}):f+=R),f+=this.parse($.tokens,m),p+=this.renderer.listitem(f,A,I);i+=this.renderer.list(p,h,b);continue}case"html":{i+=this.renderer.html(d.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{for(p=d.tokens?this.parseInline(d.tokens):d.text;r+1<k&&t[r+1].type==="text";)d=t[++r],p+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);i+=n?this.renderer.paragraph(p):p;continue}default:{const U='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(U);return}else throw new Error(U)}}}return i}parseInline(t,n){n=n||this.renderer;let i="",r,s,o;const l=t.length;for(r=0;r<l;r++){if(s=t[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){i+=o||"";continue}switch(s.type){case"escape":{i+=n.text(s.text);break}case"html":{i+=n.html(s.text);break}case"link":{i+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{i+=n.image(s.href,s.title,s.text);break}case"strong":{i+=n.strong(this.parseInline(s.tokens,n));break}case"em":{i+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{i+=n.codespan(s.text);break}case"br":{i+=n.br();break}case"del":{i+=n.del(this.parseInline(s.tokens,n));break}case"text":{i+=n.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return i}}function C(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=pe({},C.defaults,t||{}),vr(t),n){const r=t.highlight;let s;try{s=ye.lex(e,t)}catch(a){return n(a)}const o=function(a){let u;if(!a)try{t.walkTokens&&C.walkTokens(s,t.walkTokens),u=he.parse(s,t)}catch(c){a=c}return t.highlight=r,a?n(a):n(null,u)};if(!r||r.length<3||(delete t.highlight,!s.length))return o();let l=0;C.walkTokens(s,function(a){a.type==="code"&&(l++,setTimeout(()=>{r(a.text,a.lang,function(u,c){if(u)return o(u);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),l--,l===0&&o()})},0))}),l===0&&o();return}function i(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Q(r.message+"",!0)+"</pre>";throw r}try{const r=ye.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(C.walkTokens(r,t.walkTokens)).then(()=>he.parse(r,t)).catch(i);C.walkTokens(r,t.walkTokens)}return he.parse(r,t)}catch(r){i(r)}}C.options=C.setOptions=function(e){return pe(C.defaults,e),nl(C.defaults),C};C.getDefaults=gr;C.defaults=Ye;C.use=function(...e){const t=C.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(n=>{const i=pe({},n);if(i.async=C.defaults.async||i.async,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const s=t.renderers[r.name];s?t.renderers[r.name]=function(...o){let l=r.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:t.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[r.level]?t[r.level].unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){const r=C.defaults.renderer||new Tn;for(const s in n.renderer){const o=r[s];r[s]=(...l)=>{let a=n.renderer[s].apply(r,l);return a===!1&&(a=o.apply(r,l)),a}}i.renderer=r}if(n.tokenizer){const r=C.defaults.tokenizer||new Ln;for(const s in n.tokenizer){const o=r[s];r[s]=(...l)=>{let a=n.tokenizer[s].apply(r,l);return a===!1&&(a=o.apply(r,l)),a}}i.tokenizer=r}if(n.walkTokens){const r=C.defaults.walkTokens;i.walkTokens=function(s){let o=[];return o.push(n.walkTokens.call(this,s)),r&&(o=o.concat(r.call(this,s))),o}}C.setOptions(i)})};C.walkTokens=function(e,t){let n=[];for(const i of e)switch(n=n.concat(t.call(C,i)),i.type){case"table":{for(const r of i.header)n=n.concat(C.walkTokens(r.tokens,t));for(const r of i.rows)for(const s of r)n=n.concat(C.walkTokens(s.tokens,t));break}case"list":{n=n.concat(C.walkTokens(i.items,t));break}default:C.defaults.extensions&&C.defaults.extensions.childTokens&&C.defaults.extensions.childTokens[i.type]?C.defaults.extensions.childTokens[i.type].forEach(function(r){n=n.concat(C.walkTokens(i[r],t))}):i.tokens&&(n=n.concat(C.walkTokens(i.tokens,t)))}return n};C.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=pe({},C.defaults,t||{}),vr(t);try{const n=ye.lexInline(e,t);return t.walkTokens&&C.walkTokens(n,t.walkTokens),he.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Q(n.message+"",!0)+"</pre>";throw n}};C.Parser=he;C.parser=he.parse;C.Renderer=Tn;C.TextRenderer=br;C.Lexer=ye;C.lexer=ye.lex;C.Tokenizer=Ln;C.Slugger=kr;C.parse=C;C.options;C.setOptions;C.use;C.walkTokens;C.parseInline;he.parse;ye.lex;const _r={"Content-Type":"application/json"},vn=(e,t="")=>{if(typeof e=="object"&&e.errno)throw new TypeError(`${t} failed with ${e.errno}: ${e.errmsg}`);return e},hi=({serverURL:e,lang:t,path:n,type:i,action:r})=>fetch(`${e}/article?lang=${t}`,{method:"POST",headers:_r,body:JSON.stringify({path:n,type:i,action:r})}).then(s=>s.json()),Ut=({serverURL:e,lang:t,token:n,objectId:i,...r})=>fetch(`${e}/comment/${i}?lang=${t}`,{method:"PUT",headers:{..._r,Authorization:`Bearer ${n}`},body:JSON.stringify(r)}).then(s=>s.json()).then(s=>vn(s,"Update comment"));let gi=null;const xr=()=>gi||(gi=Qe("WALINE_LIKE",[]));var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={},Ke={},mt={},wl=Kt&&Kt.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(u){try{a(i.next(u))}catch(c){s(c)}}function l(u){try{a(i.throw(u))}catch(c){s(c)}}function a(u){var c;u.done?r(u.value):(c=u.value,c instanceof n?c:new n(function(g){g(c)})).then(o,l)}a((i=i.apply(e,t||[])).next())})},yl=Kt&&Kt.__generator||function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&c[0]?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||c[0]!==6&&c[0]!==2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(g){c=[6,g],i=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.ReCaptchaInstance=void 0;var vl=function(){function e(t,n,i){this.siteKey=t,this.recaptchaID=n,this.recaptcha=i,this.styleContainer=null}return e.prototype.execute=function(t){return wl(this,void 0,void 0,function(){return yl(this,function(n){return[2,this.recaptcha.enterprise?this.recaptcha.enterprise.execute(this.recaptchaID,{action:t}):this.recaptcha.execute(this.recaptchaID,{action:t})]})})},e.prototype.getSiteKey=function(){return this.siteKey},e.prototype.hideBadge=function(){this.styleContainer===null&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},e.prototype.showBadge=function(){this.styleContainer!==null&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},e}();mt.ReCaptchaInstance=vl,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.getInstance=Ke.load=void 0;var _e,bl=mt;(function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(_e||(_e={}));var mi=function(){function e(){}return e.load=function(t,n){if(n===void 0&&(n={}),typeof document>"u")return Promise.reject(new Error("This is a library for the browser!"));if(e.getLoadingState()===_e.LOADED)return e.instance.getSiteKey()===t?Promise.resolve(e.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(e.getLoadingState()===_e.LOADING)return t!==e.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise(function(r,s){e.successfulLoadingConsumers.push(function(o){return r(o)}),e.errorLoadingRunnable.push(function(o){return s(o)})});e.instanceSiteKey=t,e.setLoadingState(_e.LOADING);var i=new e;return new Promise(function(r,s){i.loadScript(t,n.useRecaptchaNet||!1,n.useEnterprise||!1,n.renderParameters?n.renderParameters:{},n.customUrl).then(function(){e.setLoadingState(_e.LOADED);var o=i.doExplicitRender(grecaptcha,t,n.explicitRenderParameters?n.explicitRenderParameters:{},n.useEnterprise||!1),l=new bl.ReCaptchaInstance(t,o,grecaptcha);e.successfulLoadingConsumers.forEach(function(a){return a(l)}),e.successfulLoadingConsumers=[],n.autoHideBadge&&l.hideBadge(),e.instance=l,r(l)}).catch(function(o){e.errorLoadingRunnable.forEach(function(l){return l(o)}),e.errorLoadingRunnable=[],s(o)})})},e.getInstance=function(){return e.instance},e.setLoadingState=function(t){e.loadingState=t},e.getLoadingState=function(){return e.loadingState===null?_e.NOT_LOADED:e.loadingState},e.prototype.loadScript=function(t,n,i,r,s){var o=this;n===void 0&&(n=!1),i===void 0&&(i=!1),r===void 0&&(r={}),s===void 0&&(s="");var l=document.createElement("script");l.setAttribute("recaptcha-v3-script","");var a="https://www.google.com/recaptcha/api.js";n&&(a=i?"https://recaptcha.net/recaptcha/enterprise.js":"https://recaptcha.net/recaptcha/api.js"),i&&(a="https://www.google.com/recaptcha/enterprise.js"),s&&(a=s),r.render&&(r.render=void 0);var u=this.buildQueryString(r);return l.src=a+"?render=explicit"+u,new Promise(function(c,g){l.addEventListener("load",o.waitForScriptToLoad(function(){c(l)},i),!1),l.onerror=function(p){e.setLoadingState(_e.NOT_LOADED),g(p)},document.head.appendChild(l)})},e.prototype.buildQueryString=function(t){return Object.keys(t).length<1?"":"&"+Object.keys(t).filter(function(n){return!!t[n]}).map(function(n){return n+"="+t[n]}).join("&")},e.prototype.waitForScriptToLoad=function(t,n){var i=this;return function(){window.grecaptcha===void 0?setTimeout(function(){i.waitForScriptToLoad(t,n)},e.SCRIPT_LOAD_DELAY):n?window.grecaptcha.enterprise.ready(function(){t()}):window.grecaptcha.ready(function(){t()})}},e.prototype.doExplicitRender=function(t,n,i,r){var s={sitekey:n,badge:i.badge,size:i.size,tabindex:i.tabindex};return i.container?r?t.enterprise.render(i.container,s):t.render(i.container,s):r?t.enterprise.render(s):t.render(s)},e.loadingState=null,e.instance=null,e.instanceSiteKey=null,e.successfulLoadingConsumers=[],e.errorLoadingRunnable=[],e.SCRIPT_LOAD_DELAY=25,e}();Ke.load=mi.load,Ke.getInstance=mi.getInstance,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReCaptchaInstance=e.getInstance=e.load=void 0;var t=Ke;Object.defineProperty(e,"load",{enumerable:!0,get:function(){return t.load}}),Object.defineProperty(e,"getInstance",{enumerable:!0,get:function(){return t.getInstance}});var n=mt;Object.defineProperty(e,"ReCaptchaInstance",{enumerable:!0,get:function(){return n.ReCaptchaInstance}})}(Sr);const wi={},kl=["nick","mail","link"],yi=e=>e.filter(t=>kl.includes(t)),_l=e=>new Promise((t,n)=>{if(e.size>128e3)return n(new Error("File too large! File size limit 128KB"));const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{var r;return t(((r=i.result)==null?void 0:r.toString())||"")},i.onerror=n}),xl=e=>e===!0?'<p class="wl-tex">Tex is not available in preview</p>':'<span class="wl-tex">Tex is not available in preview</span>',Sl=e=>{const t=async(n,i={})=>fetch(`https://api.giphy.com/v1/gifs/${n}?${new URLSearchParams({lang:e,limit:"20",rating:"g",api_key:"6CIMLkNMMOhRcXPoMCPkFy4Ybk2XUiMp",...i}).toString()}`).then(r=>r.json()).then(({data:r})=>r.map(s=>({title:s.title,src:s.images.downsized_medium.url})));return{search:n=>t("search",{q:n,offset:"0"}),default:()=>t("trending",{}),more:(n,i=0)=>t("search",{q:n,offset:i.toString()})}},Cl=["//unpkg.com/@waline/emojis/tieba/tieba_agree.png","//unpkg.com/@waline/emojis/tieba/tieba_look_down.png","//unpkg.com/@waline/emojis/tieba/tieba_sunglasses.png","//unpkg.com/@waline/emojis/tieba/tieba_pick_nose.png","//unpkg.com/@waline/emojis/tieba/tieba_awkward.png","//unpkg.com/@waline/emojis/tieba/tieba_sleep.png"],$l=new RegExp(`(${/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/.source}|${/</.source})|((?:${/(?:^|\s)\/\/(.+?)$/gm.source})|(?:${/\/\*([\S\s]*?)\*\//gm.source}))`,"gmi"),vi=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"],Xt={},Il=e=>{let t=0;return e.replace($l,(n,i,r)=>{if(r)return`<span style="color: slategray">${r}</span>`;if(i==="<")return"&lt;";let s;Xt[i]?s=Xt[i]:(s=vi[t],Xt[i]=s);const o=`<span style="color: #${s}">${i}</span>`;return t=++t%vi.length,o})},El=["nick","nickError","mail","mailError","link","optional","placeholder","sofa","submit","like","cancelLike","reply","cancelReply","comment","refresh","more","preview","emoji","uploadImage","seconds","minutes","hours","days","now","uploading","login","logout","admin","sticky","word","wordHint","anonymous","level0","level1","level2","level3","level4","level5","gif","gifSearchPlaceholder","profile","approved","waiting","spam","unsticky","oldest","latest","hottest","reactionTitle"],Xe=e=>Object.fromEntries(e.map((t,n)=>[El[n],t]));var en=Xe(["NickName","NickName cannot be less than 3 bytes.","E-Mail","Please confirm your email address.","Website","Optional","Comment here...","No comment yet.","Submit","Like","Cancel like","Reply","Cancel reply","Comments","Refresh","Load More...","Preview","Emoji","Upload Image","seconds ago","minutes ago","hours ago","days ago","just now","Uploading","Login","logout","Admin","Sticky","Words",`Please input comments between $0 and $1 words!
 Current word number: $2`,"Anonymous","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Search GIF","Profile","Approved","Waiting","Spam","Unsticky","Oldest","Latest","Hottest","What do you think?"]),tn=Xe(["\u30CB\u30C3\u30AF\u30CD\u30FC\u30E0","3\u30D0\u30A4\u30C8\u4EE5\u4E0A\u306E\u30CB\u30C3\u30AF\u30CD\u30FC\u30E0\u3092\u3054\u5165\u529B\u304F\u3060\u3055\u3044.","\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9","\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u3054\u78BA\u8A8D\u304F\u3060\u3055\u3044.","\u30B5\u30A4\u30C8","\u30AA\u30D7\u30B7\u30E7\u30F3","\u3053\u3053\u306B\u30B3\u30E1\u30F3\u30C8","\u30B3\u30E1\u30F3\u30C8\u3057\u307E\u3057\u3087\u3046~","\u63D0\u51FA\u3059\u308B","Like","Cancel like","\u8FD4\u4FE1\u3059\u308B","\u30AD\u30E3\u30F3\u30BB\u30EB","\u30B3\u30E1\u30F3\u30C8","\u66F4\u65B0","\u3055\u3089\u306B\u8AAD\u307F\u8FBC\u3080","\u30D7\u30EC\u30D3\u30E5\u30FC","\u7D75\u6587\u5B57","\u753B\u50CF\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9","\u79D2\u524D","\u5206\u524D","\u6642\u9593\u524D","\u65E5\u524D","\u305F\u3063\u3060\u4ECA","\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9","\u30ED\u30B0\u30A4\u30F3\u3059\u308B","\u30ED\u30B0\u30A2\u30A6\u30C8","\u7BA1\u7406\u8005","\u30C8\u30C3\u30D7\u306B\u7F6E\u304F","\u30EF\u30FC\u30C9",`\u30B3\u30E1\u30F3\u30C8\u306F $0 \u304B\u3089 $1 \u30EF\u30FC\u30C9\u306E\u9593\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093!
 \u73FE\u5728\u306E\u5358\u8A9E\u756A\u53F7: $2`,"\u533F\u540D","\u3046\u3048\u306B\u3093","\u306A\u304B\u306B\u3093","\u3057\u3082\u304A\u3057","\u7279\u306B\u3057\u3082\u304A\u3057","\u304B\u3052","\u306A\u306C\u3057","GIF","\u63A2\u3059 GIF","\u500B\u4EBA\u60C5\u5831","\u627F\u8A8D\u6E08\u307F","\u5F85\u3063\u3066\u3044\u308B","\u30B9\u30D1\u30E0","\u3079\u305F\u3064\u304B\u306A\u3044","\u9006\u9806","\u6B63\u9806","\u4EBA\u6C17\u9806","\u3069\u3046\u601D\u3044\u307E\u3059\u304B\uFF1F"]),nn=Xe(["\u6635\u79F0","\u6635\u79F0\u4E0D\u80FD\u5C11\u4E8E3\u4E2A\u5B57\u7B26","\u90AE\u7BB1","\u8BF7\u586B\u5199\u6B63\u786E\u7684\u90AE\u4EF6\u5730\u5740","\u7F51\u5740","\u53EF\u9009","\u6B22\u8FCE\u8BC4\u8BBA","\u6765\u53D1\u8BC4\u8BBA\u5427~","\u63D0\u4EA4","\u559C\u6B22","\u53D6\u6D88\u559C\u6B22","\u56DE\u590D","\u53D6\u6D88\u56DE\u590D","\u8BC4\u8BBA","\u5237\u65B0","\u52A0\u8F7D\u66F4\u591A...","\u9884\u89C8","\u8868\u60C5","\u4E0A\u4F20\u56FE\u7247","\u79D2\u524D","\u5206\u949F\u524D","\u5C0F\u65F6\u524D","\u5929\u524D","\u521A\u521A","\u6B63\u5728\u4E0A\u4F20","\u767B\u5F55","\u9000\u51FA","\u535A\u4E3B","\u7F6E\u9876","\u5B57",`\u8BC4\u8BBA\u5B57\u6570\u5E94\u5728 $0 \u5230 $1 \u5B57\u4E4B\u95F4\uFF01
\u5F53\u524D\u5B57\u6570\uFF1A$2`,"\u533F\u540D","\u6F5C\u6C34","\u5192\u6CE1","\u5410\u69FD","\u6D3B\u8DC3","\u8BDD\u75E8","\u4F20\u8BF4","\u8868\u60C5\u5305","\u641C\u7D22\u8868\u60C5\u5305","\u4E2A\u4EBA\u8D44\u6599","\u901A\u8FC7","\u5F85\u5BA1\u6838","\u5783\u573E","\u53D6\u6D88\u7F6E\u9876","\u6309\u5012\u5E8F","\u6309\u6B63\u5E8F","\u6309\u70ED\u5EA6","\u4F60\u8BA4\u4E3A\u8FD9\u7BC7\u6587\u7AE0\u600E\u4E48\u6837\uFF1F"]),bi=Xe(["\u66B1\u7A31","\u66B1\u7A31\u4E0D\u80FD\u5C11\u65BC3\u500B\u5B57\u5143","\u90F5\u7BB1","\u8ACB\u586B\u5BEB\u6B63\u78BA\u7684\u90F5\u4EF6\u5730\u5740","\u7DB2\u5740","\u53EF\u9078","\u6B61\u8FCE\u8A55\u8AD6","\u4F86\u767C\u8A55\u8AD6\u5427~","\u63D0\u4EA4","\u559C\u6B61","\u53D6\u6D88\u559C\u6B61","\u56DE\u8986","\u53D6\u6D88\u56DE\u8986","\u8A55\u8AD6","\u5237\u65B0","\u8F09\u5165\u66F4\u591A...","\u9810\u89BD","\u8868\u60C5","\u4E0A\u50B3\u5716\u7247","\u79D2\u524D","\u5206\u9418\u524D","\u5C0F\u6642\u524D","\u5929\u524D","\u525B\u525B","\u6B63\u5728\u4E0A\u50B3","\u767B\u9304","\u9000\u51FA","\u535A\u4E3B","\u7F6E\u9802","\u5B57",`\u8A55\u8AD6\u5B57\u6578\u61C9\u5728 $0 \u5230 $1 \u5B57\u4E4B\u9593\uFF01
\u7576\u524D\u5B57\u6578\uFF1A$2`,"\u533F\u540D","\u6F5B\u6C34","\u5192\u6CE1","\u5410\u69FD","\u6D3B\u8E8D","\u8A71\u7646","\u50B3\u8AAA","\u8868\u60C5\u5305","\u641C\u7D22\u8868\u60C5\u5305","\u500B\u4EBA\u8CC7\u6599","\u901A\u904E","\u5F85\u5BE9\u6838","\u5783\u573E","\u53D6\u6D88\u7F6E\u9802","\u6309\u5012\u5E8F","\u6309\u6B63\u5E8F","\u6309\u71B1\u5EA6","\u4F60\u8A8D\u70BA\u9019\u7BC7\u6587\u7AE0\u600E\u9EBC\u6A23\uFF1F"]),ki=Xe(["Apelido","Apelido n\xE3o pode ser menor que 3 bytes.","E-Mail","Por favor, confirme seu endere\xE7o de e-mail.","Website","Opcional","Comente aqui...","Nenhum coment\xE1rio, ainda.","Enviar","Like","Cancel like","Responder","Cancelar resposta","Coment\xE1rios","Refrescar","Carregar Mais...","Visualizar","Emoji","Enviar Imagem","segundos atr\xE1s","minutos atr\xE1s","horas atr\xE1s","dias atr\xE1s","agora mesmo","Enviando","Entrar","Sair","Admin","Sticky","Palavras",`Favor enviar coment\xE1rio com $0 a $1 palavras!
 N\xFAmero de palavras atuais: $2`,"An\xF4nimo","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","Pesquisar GIF","informa\xE7\xE3o pessoal","Aprovado","Espera","Spam","Unsticky","Mais velho","Mais recentes","Mais quente","O que voc\xEA acha?"]),rn=Xe(["\u041F\u0441\u0435\u0432\u0434\u043E\u043D\u0438\u043C","\u041D\u0438\u043A\u043D\u0435\u0439\u043C \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043C\u0435\u043D\u044C\u0448\u0435 3 \u0431\u0430\u0439\u0442.","\u042D\u043B. \u0430\u0434\u0440\u0435\u0441","\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u0432\u0430\u0448\u0435\u0439 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B.","\u0412\u0435\u0431-\u0441\u0430\u0439\u0442","\u041D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439","\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0437\u0434\u0435\u0441\u044C...","\u041F\u043E\u043A\u0430 \u043D\u0435\u0442 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0435\u0432.","\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C","Like","Cancel like","\u041E\u0442\u0432\u0435\u0447\u0430\u0442\u044C","\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043E\u0442\u0432\u0435\u0442","\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438","\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C","\u0417\u0430\u0433\u0440\u0443\u0437\u0438 \u0431\u043E\u043B\u044C\u0448\u0435...","\u041F\u0440\u0435\u0432\u044C\u044E","\u044D\u043C\u043E\u0434\u0437\u0438","\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435","\u0441\u0435\u043A\u0443\u043D\u0434 \u043D\u0430\u0437\u0430\u0434","\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u043C\u0438\u043D\u0443\u0442 \u043D\u0430\u0437\u0430\u0434","\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0447\u0430\u0441\u043E\u0432 \u043D\u0430\u0437\u0430\u0434","\u0434\u043D\u0435\u0439 \u043D\u0430\u0437\u0430\u0434","\u043F\u0440\u044F\u043C\u043E \u0441\u0435\u0439\u0447\u0430\u0441","\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430","\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F","\u0412\u044B\u0445\u043E\u0434 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043C\u044B","\u0410\u0434\u043C\u0438\u043D","\u041B\u0438\u043F\u043A\u0438\u0439","\u0421\u043B\u043E\u0432\u0430",`\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438 \u043E\u0442 $0 \u0434\u043E $1 \u0441\u043B\u043E\u0432!
\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0441\u043B\u043E\u0432\u0430: $2`,"\u0410\u043D\u043E\u043D\u0438\u043C\u043D\u044B\u0439","Dwarves","Hobbits","Ents","Wizards","Elves","Maiar","GIF","\u041F\u043E\u0438\u0441\u043A GIF","\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435","\u041E\u0434\u043E\u0431\u0440\u0435\u043D\u043D\u044B\u0439","\u041E\u0436\u0438\u0434\u0430\u044E\u0449\u0438\u0439","\u0421\u043F\u0430\u043C","\u041D\u0435\u043B\u0438\u043F\u043A\u0438\u0439","\u0441\u0430\u043C\u044B\u0439 \u0441\u0442\u0430\u0440\u044B\u0439","\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439","\u0441\u0430\u043C\u044B\u0439 \u0433\u043E\u0440\u044F\u0447\u0438\u0439","\u0427\u0442\u043E \u0432\u044B \u0434\u0443\u043C\u0430\u0435\u0442\u0435?"]);const _i={zh:nn,"zh-cn":nn,"zh-CN":nn,"zh-tw":bi,"zh-TW":bi,en,"en-US":en,"en-us":en,jp:tn,"jp-jp":tn,"jp-JP":tn,"pt-br":ki,"pt-BR":ki,ru:rn,"ru-ru":rn,"ru-RU":rn},Rl=e=>{try{e=decodeURI(e)}catch{}return e},Cr=(e="")=>e.replace(/\/$/u,""),$r=e=>/^(https?:)?\/\//.test(e),zl=e=>{const t=Cr(e);return $r(t)?t:`https://${t}`},Ll=e=>Array.isArray(e)?e:!!e&&[0,e],sn=(e,t)=>typeof e=="function"?e:e!==!1&&t,on="{--waline-white:#000;--waline-light-grey:#666;--waline-dark-grey:#999;--waline-color:#888;--waline-bgcolor:#1e1e1e;--waline-bgcolor-light:#272727;--waline-bgcolor-hover: #444;--waline-border-color:#333;--waline-disable-bgcolor:#444;--waline-disable-color:#272727;--waline-bq-color:#272727;--waline-info-bgcolor:#272727;--waline-info-color:#666}",ln=(e,t)=>{let n=e.toString();for(;n.length<t;)n="0"+n;return n},Tl=(e,t,n)=>{if(!e)return"";const i=typeof e=="string"?new Date(e.indexOf(" ")!==-1?e.replace(/-/g,"/"):e):e,r=t.getTime()-i.getTime(),s=Math.floor(r/864e5);if(s===0){const o=r%864e5,l=Math.floor(o/36e5);if(l===0){const a=o%36e5,u=Math.floor(a/6e4);if(u===0){const c=a%6e4;return`${Math.round(c/1e3)} ${n.seconds}`}return`${u} ${n.minutes}`}return`${l} ${n.hours}`}return s<0?n.now:s<8?`${s} ${n.days}`:(o=>{const l=ln(o.getDate(),2),a=ln(o.getMonth()+1,2);return`${ln(o.getFullYear(),2)}-${a}-${l}`})(i)},Al=e=>{const t=Qe("WALINE_EMOJI",{}),n=Boolean(/@[0-9]+\.[0-9]+\.[0-9]+/.test(e));if(n){const i=t.value[e];if(i)return Promise.resolve(i)}return fetch(`${e}/info.json`).then(i=>i.json()).then(i=>{const r={folder:e,...i};return n&&(t.value[e]=r),r})},xi=(e,t="",n="",i="")=>`${t?`${t}/`:""}${n}${e}${i?`.${i}`:""}`,Ol=e=>e.type.includes("image"),Si=e=>{const t=Array.from(e).find(Ol);return t?t.getAsFile():null},jl=/\$.*?\$/,Pl=/^\$(.*?)\$/,Ml=/^(?:\s{0,3})\$\$((?:[^\n]|\n[^\n])+?)\n{0,1}\$\$/,Ir=(e="",t={})=>e.replace(/:(.+?):/g,(n,i)=>t[i]?`<img class="wl-emoji" src="${t[i]}" alt="${i}">`:n),Nl=(e,{emojiMap:t,highlighter:n,texRenderer:i})=>{if(C.setOptions({highlight:n||void 0,breaks:!0,smartLists:!0,smartypants:!0}),i){const r=(s=>[{name:"blockMath",level:"block",tokenizer(o){const l=Ml.exec(o);if(l!==null)return{type:"html",raw:l[0],text:s(!0,l[1])}}},{name:"inlineMath",level:"inline",start(o){const l=o.search(jl);return l!==-1?l:o.length},tokenizer(o){const l=Pl.exec(o);if(l!==null)return{type:"html",raw:l[0],text:s(!1,l[1])}}}])(i);C.use({extensions:r})}return C.parse(Ir(e,t))};let Ot=null;const Ul=()=>Ot!=null?Ot:Ot=Qe("WALINE_VOTE",[]);let jt=null;const An=()=>jt!=null?jt:jt=Qe("WALINE_USER",{});var Dl=yt({setup(){const e=L([]),t=Ul(),n=Qt("config"),i=J(()=>n.value.locale),r=J(()=>{const{reaction:l,path:a}=n.value;return l.map((u,c)=>({icon:u,vote:e.value[c]||0,desc:i.value[`reaction${c}`],active:Boolean(t.value.find(({id:g,i:p})=>g===a&&p===c))}))});let s;const o=()=>{const{serverURL:l,lang:a,path:u,reaction:c}=n.value;if(c.length){const g=new AbortController;(({serverURL:p,lang:d,paths:h,type:b,signal:m})=>fetch(`${p}/article?path=${encodeURIComponent(h.join(","))}&type=${encodeURIComponent(b.join(","))}&lang=${d}`,{signal:m}).then(f=>f.json()))({serverURL:l,lang:a,paths:[u],type:c.map((p,d)=>`reaction${d}`),signal:g.signal}).then(p=>{Array.isArray(p)||typeof p=="number"||(e.value=c.map((d,h)=>p[`reaction${h}`]))}),s=g.abort.bind(g)}};return vt(()=>{re(()=>[n.value.serverURL,n.value.path],()=>{o()},{immediate:!0})}),Rn(()=>s==null?void 0:s()),{reaction:r,locale:i,vote:async l=>{const{serverURL:a,lang:u,path:c}=n.value,g=t.value.find(({id:p})=>p===c);g&&g.i===l||(await hi({serverURL:a,lang:u,path:c,type:`reaction${l}`}),e.value[l]=(e.value[l]||0)+1,g?(e.value[g.i]=Math.max(e.value[g.i]-1,0),hi({serverURL:a,lang:u,path:c,type:`reaction${g.i}`,action:"desc"}),g.i=l,t.value=Array.from(t.value)):t.value=[...t.value,{id:c,i:l}],t.value.length>50&&(t.value=t.value.slice(-50)))}}}}),bt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const Fl={key:0,class:"wl-reaction"},Bl=["textContent"],Vl=["onClick"],Hl={class:"wl-reaction-img"},Wl=["src","alt"],ql={class:"wl-reaction-votes"},Kl={class:"wl-reaction-text"};var Gl=bt(Dl,[["render",function(e,t,n,i,r,s){return e.reaction.length?(w(),v("div",Fl,[x("h4",{textContent:j(e.locale.reactionTitle)},null,8,Bl),x("ul",null,[(w(!0),v(G,null,ce(e.reaction,(o,l)=>(w(),v("li",{key:l,class:K({active:o.active}),onClick:a=>e.vote(l)},[x("div",Hl,[x("img",{src:o.icon,alt:o.desc},null,8,Wl),x("div",ql,j(o.vote),1)]),x("div",Kl,j(o.desc),1)],10,Vl))),128))])])):z("v-if",!0)}],["__file","ArticleReaction.vue"]]);const On=({size:e})=>M("svg",{width:e,height:e,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},M("circle",{cx:50,cy:50,fill:"none",stroke:"currentColor",strokeWidth:"4",r:"40","stroke-dasharray":"85 30"},M("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 50 50;360 50 50",keyTimes:"0;1"})));var Zl=yt({name:"ImageWall",components:{LoadingIcon:On},props:{items:{type:Array,default:()=>[]},columnWidth:{type:Number,default:300},gap:{type:Number,default:0}},emits:["insert"],setup(e){let t=null;const n=L(null),i=L({}),r=L([]),s=()=>{const a=Math.floor((n.value.getBoundingClientRect().width+e.gap)/(e.columnWidth+e.gap));return a>0?a:1},o=async a=>{var c;if(a>=e.items.length)return;await tr();const u=Array.from(((c=n.value)==null?void 0:c.children)||[]).reduce((g,p)=>p.getBoundingClientRect().height<g.getBoundingClientRect().height?p:g);r.value[Number(u.dataset.index)].push(a),await o(a+1)},l=async(a=!1)=>{if(r.value.length===s()&&!a)return;var u;r.value=(u=s(),new Array(u).fill(null).map(()=>[]));const c=window.scrollY;await o(0),window.scrollTo({top:c})};return vt(()=>{l(!0),t=new ResizeObserver(()=>l()),t.observe(n.value),re(()=>[e.items],()=>{i.value={},l(!0)}),re(()=>[e.columnWidth,e.gap],()=>l())}),Fs(()=>t.unobserve(n.value)),{columns:r,state:i,wall:n,imageLoad:a=>{i.value[a.target.src]=!0}}}});const Ql=["data-index"],Jl=["src","title","onClick"];var Yl=yt({name:"CommentBox",components:{CloseIcon:({size:e})=>M("svg",{class:"wl-close-icon",viewBox:"0 0 1024 1024",width:e,height:e},[M("path",{d:"M697.173 85.333h-369.92c-144.64 0-241.92 101.547-241.92 252.587v348.587c0 150.613 97.28 252.16 241.92 252.16h369.92c144.64 0 241.494-101.547 241.494-252.16V337.92c0-151.04-96.854-252.587-241.494-252.587z",fill:"currentColor"}),M("path",{d:"m640.683 587.52-75.947-75.861 75.904-75.862a37.29 37.29 0 0 0 0-52.778 37.205 37.205 0 0 0-52.779 0l-75.946 75.818-75.862-75.946a37.419 37.419 0 0 0-52.821 0 37.419 37.419 0 0 0 0 52.821l75.947 75.947-75.776 75.733a37.29 37.29 0 1 0 52.778 52.821l75.776-75.776 75.947 75.947a37.376 37.376 0 0 0 52.779-52.821z",fill:"#888"})]),EmojiIcon:()=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},M("path",{d:"M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z",fill:"currentColor"})),ImageIcon:()=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[M("path",{d:"M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z",fill:"currentColor"}),M("path",{d:"M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z",fill:"currentColor"})]),ImageWall:bt(Zl,[["render",function(e,t,n,i,r,s){const o=W("LoadingIcon");return w(),v("div",{ref:"wall",class:"wl-gallery",style:ut({gap:`${e.gap}px`})},[(w(!0),v(G,null,ce(e.columns,(l,a)=>(w(),v("div",{key:a,class:"wl-gallery-column","data-index":a,style:ut({gap:`${e.gap}px`})},[(w(!0),v(G,null,ce(l,u=>(w(),v(G,{key:u},[e.state[e.items[u].src]?z("v-if",!0):(w(),Pe(o,{key:0,size:36,style:{margin:"20px auto"}})),x("img",{class:"wl-gallery-item",src:e.items[u].src,title:e.items[u].title,loading:"lazy",onLoad:t[0]||(t[0]=(...c)=>e.imageLoad&&e.imageLoad(...c)),onClick:c=>e.$emit("insert",`![](${e.items[u].src})`)},null,40,Jl)],64))),128))],12,Ql))),128))],4)}],["__file","ImageWall.vue"]]),MarkdownIcon:()=>M("svg",{width:"16",height:"16",ariaHidden:"true"},M("path",{d:"M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z",fill:"currentColor"})),PreviewIcon:()=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[M("path",{d:"M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0",fill:"currentColor"}),M("path",{d:"M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0",fill:"currentColor"})]),LoadingIcon:On,GifIcon:()=>M("svg",{width:24,height:24,fill:"currentcolor",viewBox:"0 0 24 24"},[M("path",{style:"transform: translateY(0.5px)",d:"M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"}),M("path",{d:"M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"})])},props:{rootId:{type:String,default:""},replyId:{type:String,default:""},replyUser:{type:String,default:""},edit:{type:Object,default:null}},emits:["submit","cancel-reply","cancel-edit"],setup(e,{emit:t}){const n=Qt("config"),i=Qe("WALINE_COMMENT_BOX_EDITOR",""),r=Qe("WALINE_USER_META",{nick:"",mail:"",link:""}),s=An(),o=L({}),l=L(null),a=L(null),u=L(null),c=L(null),g=L(null),p=L(null),d=L(null),h=L({tabs:[],map:{}}),b=L(0),m=L(!1),f=L(!1),$=L(!1),I=L(""),A=L(0),R=Sn({loading:!0,list:[]}),O=L(0),k=L(!1),U=L(""),H=L(!1),se=J(()=>n.value.locale),et=J(()=>{var _;return Boolean((_=s.value)==null?void 0:_.token)}),ve=J(()=>n.value.imageUploader!==!1),Ne=_=>{const E=l.value,T=E.selectionStart,B=E.selectionEnd||0,Z=E.scrollTop;i.value=E.value.substring(0,T)+_+E.value.substring(B,E.value.length),E.focus(),E.selectionStart=T+_.length,E.selectionEnd=T+_.length,E.scrollTop=Z},be=_=>{const E=`![${n.value.locale.uploading} ${_.name}]()`;return Ne(E),Promise.resolve().then(()=>n.value.imageUploader(_)).then(T=>{i.value=i.value.replace(E,`\r
![${_.name}](${T})`)}).catch(T=>{alert(T.message),i.value=i.value.replace(E,"")})},Le=async()=>{var De,me,oe,_t,tt;const{serverURL:_,lang:E,login:T,wordLimit:B,requiredMeta:Z}=n.value;let q="";n.value.recaptchaV3Key&&(q=await(te=>{var nt;const Fe=(nt=wi[te])!=null?nt:wi[te]=Sr.load(te,{useRecaptchaNet:!0,autoHideBadge:!0});return{execute:Yt=>Fe.then(xt=>xt.execute(Yt))}})(n.value.recaptchaV3Key).execute("social"));const P={comment:U.value,nick:r.value.nick,mail:r.value.mail,link:r.value.link,ua:navigator.userAgent,url:n.value.path,recaptchaV3:q};if((De=s.value)!=null&&De.token)P.nick=s.value.display_name,P.mail=s.value.email,P.link=s.value.url;else{if(T==="force")return;if(Z.indexOf("nick")>-1&&!P.nick)return(me=o.value.nick)==null||me.focus(),alert(se.value.nickError);if(Z.indexOf("mail")>-1&&!P.mail||P.mail&&!/^\w(?:[\w._-]*\w)?@(?:\w(?:[\w-]*\w)?\.)*\w+$/.exec(P.mail))return(oe=o.value.mail)==null||oe.focus(),alert(se.value.mailError);if(!P.comment)return void((_t=l.value)==null?void 0:_t.focus());P.nick||(P.nick=se.value.anonymous)}if(!k.value)return alert(se.value.wordHint.replace("$0",B[0].toString()).replace("$1",B[1].toString()).replace("$2",A.value.toString()));P.comment=Ir(P.comment,h.value.map),e.replyId&&e.rootId&&(P.pid=e.replyId,P.rid=e.rootId,P.at=e.replyUser),H.value=!0;const X={serverURL:_,lang:E,token:(tt=s.value)==null?void 0:tt.token,comment:P};(e.edit?Ut({objectId:e.edit.objectId,...X}):(({serverURL:te,lang:Fe,token:nt,comment:Yt})=>{const xt={"Content-Type":"application/json"};return nt&&(xt.Authorization=`Bearer ${nt}`),fetch(`${te}/comment?lang=${Fe}`,{method:"POST",headers:xt,body:JSON.stringify(Yt)}).then(zr=>zr.json())})(X)).then(te=>{var Fe;if(H.value=!1,te.errmsg)return alert(te.errmsg);t("submit",te.data),i.value="",I.value="",e.replyId&&t("cancel-reply"),(Fe=e.edit)!=null&&Fe.objectId&&t("cancel-edit")}).catch(te=>{H.value=!1,alert(te.message)})},de=_=>{u.value.contains(_.target)||c.value.contains(_.target)||(m.value=!1),g.value.contains(_.target)||p.value.contains(_.target)||(f.value=!1)},Ue=async _=>{var X;const{scrollTop:E,clientHeight:T,scrollHeight:B}=_.target,Z=(T+E)/B,q=n.value.search,P=((X=d.value)==null?void 0:X.value)||"";Z<.9||R.loading||(R.loading=!0,R.list=[...R.list,...q.more&&R.list.length?await q.more(P,R.list.length):await q.search(P)],R.loading=!1,setTimeout(()=>{_.target.scrollTop=E},50))},Jt=wo(_=>{R.list=[],Ue(_)},300);re([n,A],([_,E])=>{const{wordLimit:T}=_;T?E<T[0]&&T[0]!==0?(O.value=T[0],k.value=!1):E>T[1]?(O.value=T[1],k.value=!1):(O.value=T[1],k.value=!0):(O.value=0,k.value=!0)},{immediate:!0});const kt=({data:_})=>{_&&_.type==="profile"&&(s.value={...s.value,..._.data},[localStorage,sessionStorage].filter(E=>E.getItem("WALINE_USER")).forEach(E=>E.setItem("WALINE_USER",JSON.stringify(s))))};return vt(()=>{var _;document.body.addEventListener("click",de),window.addEventListener("message",kt),(_=e.edit)!=null&&_.objectId&&(i.value=e.edit.orig),re(f,async E=>{if(!E)return;const T=n.value.search;d.value&&(d.value.value=""),R.loading=!0,R.list=T.default?await T.default():await T.search(""),R.loading=!1}),re(()=>i.value,E=>{const{highlighter:T,texRenderer:B}=n.value;U.value=E,I.value=Nl(E,{emojiMap:h.value.map,highlighter:T,texRenderer:B}),A.value=(Z=>(q=>q.match(/[\w\d\s\u00C0-\u024F]+/giu)||[])(Z).reduce((q,P)=>q+(P.trim()===""?0:P.trim().split(/\s+/u).length),0)+(q=>q.match(/[\u4E00-\u9FA5]/gu)||[])(Z).length)(E),E?li(l.value):li.destroy(l.value)},{immediate:!0}),re(()=>n.value.emoji,E=>{return(T=Array.isArray(E)?E:[],Promise.all(T.map(B=>typeof B=="string"?Al(Cr(B)):Promise.resolve(B))).then(B=>{const Z={tabs:[],map:{}};return B.forEach(q=>{const{name:P,folder:X,icon:De,prefix:me,type:oe,items:_t}=q;Z.tabs.push({name:P,icon:xi(De,X,me,oe),items:_t.map(tt=>{const te=`${me||""}${tt}`;return Z.map[te]=xi(tt,X,me,oe),te})})}),Z})).then(B=>{h.value=B});var T},{immediate:!0})}),Rn(()=>{document.body.removeEventListener("click",de),window.removeEventListener("message",kt)}),{config:n,locale:se,insert:Ne,onChange:()=>{const _=a.value;_.files&&ve.value&&be(_.files[0]).then(()=>{_.value=""})},onDrop:_=>{var E;if((E=_.dataTransfer)!=null&&E.items){const T=Si(_.dataTransfer.items);T&&ve.value&&(be(T),_.preventDefault())}},onKeyDown:_=>{const E=_.key;(_.ctrlKey||_.metaKey)&&E==="Enter"&&Le()},onPaste:_=>{if(_.clipboardData){const E=Si(_.clipboardData.items);E&&ve.value&&be(E)}},onLogin:_=>{_.preventDefault();const{lang:E,serverURL:T}=n.value;(({lang:B,serverURL:Z})=>{const q=(window.innerWidth-450)/2,P=(window.innerHeight-450)/2,X=window.open(`${Z}/ui/login?lng=${encodeURIComponent(B)}`,"_blank",`width=450,height=450,left=${q},top=${P},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);return X==null||X.postMessage({type:"TOKEN",data:null},"*"),new Promise(De=>{const me=({data:oe})=>{oe&&typeof oe=="object"&&oe.type==="userInfo"&&oe.data.token&&(X==null||X.close(),window.removeEventListener("message",me),De(oe.data))};window.addEventListener("message",me)})})({serverURL:T,lang:E}).then(B=>{s.value=B,(B.remember?localStorage:sessionStorage).setItem("WALINE_USER",JSON.stringify(B))})},onLogout:()=>{s.value={},localStorage.setItem("WALINE_USER","null"),sessionStorage.setItem("WALINE_USER","null")},onProfile:_=>{var P;_.preventDefault();const{lang:E,serverURL:T}=n.value,B=(window.innerWidth-800)/2,Z=(window.innerHeight-800)/2,q=new URLSearchParams({lng:E,token:s.value.token});(P=window.open(`${T}/ui/profile?${q.toString()}`,"_blank",`width=800,height=800,left=${B},top=${Z},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`))==null||P.postMessage({type:"TOKEN",data:s.value.token},"*")},submitComment:Le,onImageWallScroll:Ue,onGifSearch:Jt,isLogin:et,userInfo:s,isSubmitting:H,wordNumber:A,wordLimit:O,isWordNumberLegal:k,editor:i,userMeta:r,emoji:h,emojiTabIndex:b,showEmoji:m,gifData:R,showGif:f,canUploadImage:ve,previewText:I,showPreview:$,inputRefs:o,editorRef:l,emojiButtonRef:u,emojiPopupRef:c,gifButtonRef:g,gifPopupRef:p,imageUploadRef:a,gifSearchInputRef:d}}});const Xl={class:"wl-comment"},ea={key:0,class:"wl-login-info"},ta={class:"wl-avatar"},na=["title"],ia=["title"],ra=["src"],sa=["title","textContent"],oa={class:"wl-panel"},la=["for","textContent"],aa=["id","onUpdate:modelValue","name","type"],ca=["placeholder"],ua={class:"wl-preview"},fa=x("hr",null,null,-1),pa=["innerHTML"],da={class:"wl-footer"},ha={class:"wl-actions"},ga={href:"https://guides.github.com/features/mastering-markdown/",title:"Markdown Guide","aria-label":"Markdown is supported",class:"wl-action",target:"_blank",rel:"noreferrer"},ma=["title"],wa=["title"],ya=["title"],va=["title"],ba={class:"wl-info"},ka={class:"wl-text-number"},_a={key:0},xa=["textContent"],Sa=["textContent"],Ca=["disabled"],$a=["placeholder"],Ia={key:0,class:"wl-loading"},Ea={key:0,class:"wl-tab-wrapper"},Ra=["title","onClick"],za=["src","alt"],La={key:0,class:"wl-tabs"},Ta=["onClick"],Aa=["src","alt","title"],Oa=["title"];var Er=bt(Yl,[["render",function(e,t,n,i,r,s){var h,b;const o=W("CloseIcon"),l=W("MarkdownIcon"),a=W("EmojiIcon"),u=W("GifIcon"),c=W("ImageIcon"),g=W("PreviewIcon"),p=W("LoadingIcon"),d=W("ImageWall");return w(),v("div",Xl,[e.config.login!=="disable"&&e.isLogin&&!((h=e.edit)!=null&&h.objectId)?(w(),v("div",ea,[x("div",ta,[x("button",{class:"wl-logout-btn",title:e.locale.logout,onClick:t[0]||(t[0]=(...m)=>e.onLogout&&e.onLogout(...m))},[V(o,{size:14})],8,na),x("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:e.locale.profile,onClick:t[1]||(t[1]=(...m)=>e.onProfile&&e.onProfile(...m))},[x("img",{src:e.userInfo.avatar,alt:"avatar"},null,8,ra)],8,ia)]),x("a",{href:"#",class:"wl-login-nick","aria-label":"Profile",title:e.locale.profile,onClick:t[2]||(t[2]=(...m)=>e.onProfile&&e.onProfile(...m)),textContent:j(e.userInfo.display_name)},null,8,sa)])):z("v-if",!0),x("div",oa,[e.config.login!=="force"&&e.config.meta.length&&!e.isLogin?(w(),v("div",{key:0,class:K(["wl-header",`item${e.config.meta.length}`])},[(w(!0),v(G,null,ce(e.config.meta,m=>(w(),v("div",{key:m,class:"wl-header-item"},[x("label",{for:`wl-${m}`,textContent:j(e.locale[m]+(e.config.requiredMeta.includes(m)||!e.config.requiredMeta.length?"":`(${e.locale.optional})`))},null,8,la),zt(x("input",{id:`wl-${m}`,ref_for:!0,ref:f=>{f&&(e.inputRefs[m]=f)},"onUpdate:modelValue":f=>e.userMeta[m]=f,class:K(["wl-input",`wl-${m}`]),name:m,type:m==="mail"?"email":"text"},null,10,aa),[[ao,e.userMeta[m]]])]))),128))],2)):z("v-if",!0),zt(x("textarea",{id:"wl-edit",ref:"editorRef","onUpdate:modelValue":t[3]||(t[3]=m=>e.editor=m),class:"wl-editor",placeholder:e.replyUser?`@${e.replyUser}`:e.locale.placeholder,onKeydown:t[4]||(t[4]=(...m)=>e.onKeyDown&&e.onKeyDown(...m)),onDrop:t[5]||(t[5]=(...m)=>e.onDrop&&e.onDrop(...m)),onPaste:t[6]||(t[6]=(...m)=>e.onPaste&&e.onPaste(...m))},null,40,ca),[[mn,e.editor]]),zt(x("div",ua,[fa,x("h4",null,j(e.locale.preview)+":",1),z(" eslint-disable-next-line vue/no-v-html "),x("div",{class:"wl-content",innerHTML:e.previewText},null,8,pa)],512),[[Zn,e.showPreview]]),x("div",da,[x("div",ha,[x("a",ga,[V(l)]),zt(x("button",{ref:"emojiButtonRef",class:K(["wl-action",{active:e.showEmoji}]),title:e.locale.emoji,onClick:t[7]||(t[7]=m=>e.showEmoji=!e.showEmoji)},[V(a)],10,ma),[[Zn,e.emoji.tabs.length]]),e.config.search?(w(),v("button",{key:0,ref:"gifButtonRef",class:K(["wl-action",{active:e.showGif}]),title:e.locale.gif,onClick:t[8]||(t[8]=m=>e.showGif=!e.showGif)},[V(u)],10,wa)):z("v-if",!0),x("input",{id:"wl-image-upload",ref:"imageUploadRef",class:"upload",type:"file",accept:".png,.jpg,.jpeg,.webp,.bmp,.gif",onChange:t[9]||(t[9]=(...m)=>e.onChange&&e.onChange(...m))},null,544),e.canUploadImage?(w(),v("label",{key:1,for:"wl-image-upload",class:"wl-action",title:e.locale.uploadImage},[V(c)],8,ya)):z("v-if",!0),x("button",{class:K(["wl-action",{active:e.showPreview}]),title:e.locale.preview,onClick:t[10]||(t[10]=m=>e.showPreview=!e.showPreview)},[V(g)],10,va)]),x("div",ba,[x("div",ka,[$e(j(e.wordNumber)+" ",1),e.config.wordLimit?(w(),v("span",_a,[$e(" \xA0/\xA0 "),x("span",{class:K({illegal:!e.isWordNumberLegal}),textContent:j(e.wordLimit)},null,10,xa)])):z("v-if",!0),$e(" \xA0"+j(e.locale.word),1)]),e.config.login==="disable"||e.isLogin?z("v-if",!0):(w(),v("button",{key:0,class:"wl-btn",onClick:t[11]||(t[11]=(...m)=>e.onLogin&&e.onLogin(...m)),textContent:j(e.locale.login)},null,8,Sa)),e.config.login!=="force"||e.isLogin?(w(),v("button",{key:1,class:"wl-btn primary",title:"Cmd|Ctrl + Enter",disabled:e.isSubmitting,onClick:t[12]||(t[12]=(...m)=>e.submitComment&&e.submitComment(...m))},[e.isSubmitting?(w(),Pe(p,{key:0,size:16})):(w(),v(G,{key:1},[$e(j(e.locale.submit),1)],64))],8,Ca)):z("v-if",!0)]),x("div",{ref:"gifPopupRef",class:K(["wl-gif-popup",{display:e.showGif}])},[x("input",{ref:"gifSearchInputRef",type:"text",placeholder:e.locale.gifSearchPlaceholder,onInput:t[13]||(t[13]=(...m)=>e.onGifSearch&&e.onGifSearch(...m))},null,40,$a),V(d,{items:e.gifData.list,"column-width":200,gap:6,onInsert:t[14]||(t[14]=m=>e.insert(m)),onScroll:e.onImageWallScroll},null,8,["items","onScroll"]),e.gifData.loading?(w(),v("div",Ia,[V(p,{size:30})])):z("v-if",!0)],2),x("div",{ref:"emojiPopupRef",class:K(["wl-emoji-popup",{display:e.showEmoji}])},[(w(!0),v(G,null,ce(e.emoji.tabs,(m,f)=>(w(),v(G,{key:m.name},[f===e.emojiTabIndex?(w(),v("div",Ea,[(w(!0),v(G,null,ce(m.items,$=>(w(),v("button",{key:$,title:$,onClick:I=>e.insert(`:${$}:`)},[e.showEmoji?(w(),v("img",{key:0,class:"wl-emoji",src:e.emoji.map[$],alt:$,loading:"lazy",referrerPolicy:"no-referrer"},null,8,za)):z("v-if",!0)],8,Ra))),128))])):z("v-if",!0)],64))),128)),e.emoji.tabs.length>1?(w(),v("div",La,[(w(!0),v(G,null,ce(e.emoji.tabs,(m,f)=>(w(),v("button",{key:m.name,class:K(["wl-tab",{active:e.emojiTabIndex===f}]),onClick:$=>e.emojiTabIndex=f},[x("img",{class:"wl-emoji",src:m.icon,alt:m.name,title:m.name,loading:"lazy",referrerPolicy:"no-referrer"},null,8,Aa)],10,Ta))),128))])):z("v-if",!0)],2)])]),e.replyId||((b=e.edit)==null?void 0:b.objectId)?(w(),v("button",{key:1,class:"wl-close",title:e.locale.cancelReply,onClick:t[15]||(t[15]=m=>e.$emit(e.replyId?"cancel-reply":"cancel-edit"))},[V(o,{size:24})],8,Oa)):z("v-if",!0)])}],["__file","CommentBox.vue"]]);const ja=["approved","waiting","spam"];var Pa=yt({components:{CommentBox:Er,DeleteIcon:()=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},M("path",{d:"m341.013 394.667 27.755 393.45h271.83l27.733-393.45h64.106l-28.01 397.952a64 64 0 0 1-63.83 59.498H368.768a64 64 0 0 1-63.83-59.52l-28.053-397.93h64.128zm139.307 19.818v298.667h-64V414.485h64zm117.013 0v298.667h-64V414.485h64zM181.333 288h640v64h-640v-64zm453.483-106.667v64h-256v-64h256z",fill:"red"})),LikeIcon:({active:e=!1})=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},[M("path",{d:"M850.654 323.804c-11.042-25.625-26.862-48.532-46.885-68.225-20.022-19.61-43.258-34.936-69.213-45.73-26.78-11.124-55.124-16.727-84.375-16.727-40.622 0-80.256 11.123-114.698 32.135A214.79 214.79 0 0 0 512 241.819a214.79 214.79 0 0 0-23.483-16.562c-34.442-21.012-74.076-32.135-114.698-32.135-29.25 0-57.595 5.603-84.375 16.727-25.872 10.711-49.19 26.12-69.213 45.73-20.105 19.693-35.843 42.6-46.885 68.225-11.453 26.615-17.303 54.877-17.303 83.963 0 27.439 5.603 56.03 16.727 85.117 9.31 24.307 22.659 49.52 39.715 74.981 27.027 40.293 64.188 82.316 110.33 124.915 76.465 70.615 152.189 119.394 155.402 121.371l19.528 12.525c8.652 5.52 19.776 5.52 28.427 0l19.529-12.525c3.213-2.06 78.854-50.756 155.401-121.371 46.143-42.6 83.304-84.622 110.33-124.915 17.057-25.46 30.487-50.674 39.716-74.981 11.124-29.087 16.727-57.678 16.727-85.117.082-29.086-5.768-57.348-17.221-83.963z"+(e?"":"M512 761.5S218.665 573.55 218.665 407.767c0-83.963 69.461-152.023 155.154-152.023 60.233 0 112.473 33.618 138.181 82.727 25.708-49.109 77.948-82.727 138.18-82.727 85.694 0 155.155 68.06 155.155 152.023C805.335 573.551 512 761.5 512 761.5z"),fill:e?"red":"currentColor"})]),ReplyIcon:()=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},M("path",{d:"M810.667 213.333a64 64 0 0 1 64 64V704a64 64 0 0 1-64 64H478.336l-146.645 96.107a21.333 21.333 0 0 1-33.024-17.856V768h-85.334a64 64 0 0 1-64-64V277.333a64 64 0 0 1 64-64h597.334zm0 64H213.333V704h149.334v63.296L459.243 704h351.424V277.333zm-271.36 213.334v64h-176.64v-64h176.64zm122.026-128v64H362.667v-64h298.666z",fill:"currentColor"})),EditIcon:()=>M("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24"},M("path",{d:"M813.039 318.772L480.53 651.278H360.718V531.463L693.227 198.961C697.904 194.284 704.027 192 710.157 192C716.302 192 722.436 194.284 727.114 198.961L813.039 284.88C817.72 289.561 820 295.684 820 301.825C820 307.95 817.72 314.093 813.039 318.772ZM710.172 261.888L420.624 551.431V591.376H460.561L750.109 301.825L710.172 261.888ZM490.517 291.845H240.906V771.09H720.156V521.479C720.156 504.947 733.559 491.529 750.109 491.529C766.653 491.529 780.063 504.947 780.063 521.479V791.059C780.063 813.118 762.18 831 740.125 831H220.937C198.882 831 181 813.118 181 791.059V271.872C181 249.817 198.882 231.935 220.937 231.935H490.517C507.06 231.935 520.47 245.352 520.47 261.888C520.47 278.424 507.06 291.845 490.517 291.845Z",fill:"currentColor"})),VerifiedIcon:()=>M("svg",{class:"verified-icon",viewBox:"0 0 1024 1024",width:"14",height:"14"},M("path",{d:"m894.4 461.56-54.4-63.2c-10.4-12-18.8-34.4-18.8-50.4v-68c0-42.4-34.8-77.2-77.2-77.2h-68c-15.6 0-38.4-8.4-50.4-18.8l-63.2-54.4c-27.6-23.6-72.8-23.6-100.8 0l-62.8 54.8c-12 10-34.8 18.4-50.4 18.4h-69.2c-42.4 0-77.2 34.8-77.2 77.2v68.4c0 15.6-8.4 38-18.4 50l-54 63.6c-23.2 27.6-23.2 72.4 0 100l54 63.6c10 12 18.4 34.4 18.4 50v68.4c0 42.4 34.8 77.2 77.2 77.2h69.2c15.6 0 38.4 8.4 50.4 18.8l63.2 54.4c27.6 23.6 72.8 23.6 100.8 0l63.2-54.4c12-10.4 34.4-18.8 50.4-18.8h68c42.4 0 77.2-34.8 77.2-77.2v-68c0-15.6 8.4-38.4 18.8-50.4l54.4-63.2c23.2-27.6 23.2-73.2-.4-100.8zm-216-25.2-193.2 193.2a30 30 0 0 1-42.4 0l-96.8-96.8a30.16 30.16 0 0 1 0-42.4c11.6-11.6 30.8-11.6 42.4 0l75.6 75.6 172-172c11.6-11.6 30.8-11.6 42.4 0 11.6 11.6 11.6 30.8 0 42.4z",fill:"#27ae60"}))},props:{comment:{type:Object,required:!0},rootId:{type:String,required:!0},reply:{type:Object,default:null},edit:{type:Object,default:null}},emits:["submit","reply","like","delete","status","sticky","edit"],setup(e){const t=Qt("config"),n=xr(),i=An(),r=J(()=>t.value.locale),s=J(()=>{const{link:p}=e.comment;return p?$r(p)?p:`https://${p}`:""}),o=J(()=>n.value.includes(e.comment.objectId)),l=((p,d)=>{const h=qo();return J(()=>Tl(p,h.value,d))})(e.comment.insertedAt,r.value),a=J(()=>i.value.type==="administrator"),u=J(()=>e.comment.user_id&&i.value.objectId===e.comment.user_id),c=J(()=>{var p;return e.comment.objectId===((p=e.reply)==null?void 0:p.objectId)}),g=J(()=>{var p;return e.comment.objectId===((p=e.edit)==null?void 0:p.objectId)});return{config:t,locale:r,isReplyingCurrent:c,isEditingCurrent:g,link:s,like:o,time:l,isAdmin:a,isOwner:u,commentStatus:ja}}});const Ma=["id"],Na={class:"wl-user","aria-hidden":"true"},Ua=["src"],Da={class:"wl-card"},Fa={class:"wl-head"},Ba=["href"],Va={key:1,class:"wl-nick"},Ha=["textContent"],Wa=["textContent"],qa=["textContent"],Ka=["textContent"],Ga=["textContent"],Za={class:"wl-comment-actions"},Qa=["title"],Ja=["textContent"],Ya=["title"],Xa={class:"wl-meta","aria-hidden":"true"},ec=["data-value","textContent"],tc=["data-value","textContent"],nc=["data-value","textContent"],ic=["innerHTML"],rc={key:1,class:"wl-admin-actions"},sc={class:"wl-comment-status"},oc=["disabled","onClick","textContent"],lc={key:3,class:"wl-quote"};var ac=bt(Pa,[["render",function(e,t,n,i,r,s){var d;const o=W("VerifiedIcon"),l=W("EditIcon"),a=W("DeleteIcon"),u=W("LikeIcon"),c=W("ReplyIcon"),g=W("CommentBox"),p=W("CommentCard",!0);return w(),v("div",{id:e.comment.objectId,class:"wl-item"},[x("div",Na,[e.comment.avatar?(w(),v("img",{key:0,src:e.comment.avatar},null,8,Ua)):z("v-if",!0),e.comment.type?(w(),Pe(o,{key:1})):z("v-if",!0)]),x("div",Da,[x("div",Fa,[e.link?(w(),v("a",{key:0,class:"wl-nick",href:e.link,target:"_blank",rel:"nofollow noreferrer"},j(e.comment.nick),9,Ba)):(w(),v("span",Va,j(e.comment.nick),1)),e.comment.type==="administrator"?(w(),v("span",{key:2,class:"wl-badge",textContent:j(e.locale.admin)},null,8,Ha)):z("v-if",!0),e.comment.label?(w(),v("span",{key:3,class:"wl-badge",textContent:j(e.comment.label)},null,8,Wa)):z("v-if",!0),e.comment.sticky?(w(),v("span",{key:4,class:"wl-badge",textContent:j(e.locale.sticky)},null,8,qa)):z("v-if",!0),e.comment.level!==void 0&&e.comment.level>=0?(w(),v("span",{key:5,class:K(`wl-badge level${e.comment.level}`),textContent:j(e.locale[`level${e.comment.level}`]||`Level ${e.comment.level}`)},null,10,Ka)):z("v-if",!0),x("span",{class:"wl-time",textContent:j(e.time)},null,8,Ga),x("div",Za,[e.isAdmin||e.isOwner?(w(),v("button",{key:0,class:"wl-edit",onClick:t[0]||(t[0]=h=>e.$emit("edit",e.comment))},[V(l)])):z("v-if",!0),e.isAdmin||e.isOwner?(w(),v("button",{key:1,class:"wl-delete",onClick:t[1]||(t[1]=h=>e.$emit("delete",e.comment))},[V(a)])):z("v-if",!0),x("button",{class:"wl-like",title:e.like?e.locale.cancelLike:e.locale.like,onClick:t[2]||(t[2]=h=>e.$emit("like",e.comment))},[V(u,{active:e.like},null,8,["active"]),"like"in e.comment?(w(),v("span",{key:0,textContent:j(e.comment.like)},null,8,Ja)):z("v-if",!0)],8,Qa),x("button",{class:K(["wl-reply",{active:e.isReplyingCurrent}]),title:e.isReplyingCurrent?e.locale.cancelReply:e.locale.reply,onClick:t[3]||(t[3]=h=>e.$emit("reply",e.isReplyingCurrent?null:e.comment))},[V(c)],10,Ya)])]),x("div",Xa,[e.comment.addr?(w(),v("span",{key:0,class:"wl-addr","data-value":e.comment.addr,textContent:j(e.comment.addr)},null,8,ec)):z("v-if",!0),e.comment.browser?(w(),v("span",{key:1,class:"wl-browser","data-value":e.comment.browser,textContent:j(e.comment.browser)},null,8,tc)):z("v-if",!0),e.comment.os?(w(),v("span",{key:2,class:"wl-os","data-value":e.comment.os,textContent:j(e.comment.os)},null,8,nc)):z("v-if",!0)]),z(" eslint-disable vue/no-v-html "),e.isEditingCurrent?z("v-if",!0):(w(),v("div",{key:0,class:"wl-content",innerHTML:e.comment.comment},null,8,ic)),z(" eslint-enable vue/no-v-html "),e.isAdmin&&!e.isEditingCurrent?(w(),v("div",rc,[x("span",sc,[(w(!0),v(G,null,ce(e.commentStatus,h=>(w(),v("button",{key:h,class:K(`wl-btn wl-${h}`),disabled:e.comment.status===h,onClick:b=>e.$emit("status",{status:h,comment:e.comment}),textContent:j(e.locale[h])},null,10,oc))),128))]),e.isAdmin&&!e.comment.rid?(w(),v("button",{key:0,class:"wl-btn wl-sticky",onClick:t[4]||(t[4]=h=>e.$emit("sticky",e.comment))},j(e.comment.sticky?e.locale.unsticky:e.locale.sticky),1)):z("v-if",!0)])):z("v-if",!0),e.isReplyingCurrent||e.isEditingCurrent?(w(),v("div",{key:2,class:K({"wl-reply-wrapper":e.isReplyingCurrent,"wl-edit-wrapper":e.isEditingCurrent})},[V(g,{edit:e.edit,"reply-id":(d=e.reply)==null?void 0:d.objectId,"reply-user":e.comment.nick,"root-id":e.rootId,onSubmit:t[5]||(t[5]=h=>e.$emit("submit",h)),onCancelReply:t[6]||(t[6]=h=>e.$emit("reply",null)),onCancelEdit:t[7]||(t[7]=h=>e.$emit("edit",null))},null,8,["edit","reply-id","reply-user","root-id"])],2)):z("v-if",!0),e.comment.children?(w(),v("div",lc,[(w(!0),v(G,null,ce(e.comment.children,h=>(w(),Pe(p,{key:h.objectId,comment:h,reply:e.reply,edit:e.edit,"root-id":e.rootId,onReply:t[8]||(t[8]=b=>e.$emit("reply",b)),onSubmit:t[9]||(t[9]=b=>e.$emit("submit",b)),onLike:t[10]||(t[10]=b=>e.$emit("like",b)),onEdit:t[11]||(t[11]=b=>e.$emit("edit",b)),onDelete:t[12]||(t[12]=b=>e.$emit("delete",b)),onStatus:t[13]||(t[13]=b=>e.$emit("status",b)),onSticky:t[14]||(t[14]=b=>e.$emit("sticky",b))},null,8,["comment","reply","edit","root-id"]))),128))])):z("v-if",!0)])],8,Ma)}],["__file","CommentCard.vue"]]);const Rr={latest:"insertedAt_desc",oldest:"insertedAt_asc",hottest:"like_desc"},cc=Object.keys(Rr);var uc=yt({name:"WalineRoot",components:{Reaction:Gl,CommentBox:Er,CommentCard:ac,LoadingIcon:On},props:["serverURL","path","meta","requiredMeta","dark","commentSorting","lang","locale","pageSize","wordLimit","emoji","login","highlighter","texRenderer","imageUploader","search","copyright","recaptchaV3Key","reaction"],setup(e){const t=e,n=J(()=>(({serverURL:f,path:$=location.pathname,lang:I="zh-CN",locale:A,emoji:R=["//unpkg.com/@waline/emojis@1.1.0/weibo"],meta:O=["nick","mail","link"],requiredMeta:k=[],dark:U=!1,pageSize:H=10,wordLimit:se,imageUploader:et,highlighter:ve,texRenderer:Ne,copyright:be=!0,login:Le="enable",search:de,reaction:Ue,recaptchaV3Key:Jt="",commentSorting:kt="latest",..._})=>({serverURL:zl(f),path:Rl($),locale:{..._i[I]||_i["zh-CN"],...typeof A=="object"?A:{}},wordLimit:Ll(se),meta:yi(O),requiredMeta:yi(k),imageUploader:sn(et,_l),highlighter:sn(ve,Il),texRenderer:sn(Ne,xl),lang:I,dark:U,emoji:R,pageSize:H,login:Le,copyright:be,search:de!=null?de:Sl(I),recaptchaV3Key:Jt,reaction:Array.isArray(Ue)?Ue:Ue===!0?Cl:[],commentSorting:kt,..._}))(t)),i=An(),r=xr(),s=L("loading"),o=L(0),l=L(1),a=L(0),u=L(n.value.commentSorting),c=L([]),g=L(null),p=L(null),d=J(()=>{return typeof(f=n.value.dark)=="string"?f==="auto"?`@media(prefers-color-scheme:dark){body${on}}`:`${f}${on}`:f===!0?`:root${on}`:"";var f});let h;Go(d);const b=f=>{var O;const{serverURL:$,path:I,pageSize:A}=n.value,R=new AbortController;s.value="loading",h==null||h(),(({serverURL:k,lang:U,path:H,page:se,pageSize:et,sortBy:ve,signal:Ne,token:be})=>{const Le={};return be&&(Le.Authorization=`Bearer ${be}`),fetch(`${k}/comment?path=${encodeURIComponent(H)}&pageSize=${et}&page=${se}&lang=${U}&sortBy=${ve}`,{signal:Ne,headers:Le}).then(de=>de.json()).then(de=>vn(de,"Get comment data"))})({serverURL:$,lang:n.value.lang,path:I,pageSize:A,sortBy:Rr[u.value],page:f,signal:R.signal,token:(O=i.value)==null?void 0:O.token}).then(k=>{s.value="success",o.value=k.count,c.value.push(...k.data),l.value=f,a.value=k.totalPages}).catch(k=>{k.name!=="AbortError"&&(console.error(k.message),s.value="error")}),h=R.abort.bind(R)},m=()=>{o.value=0,c.value=[],b(1)};return Ns("config",n),vt(()=>{re(()=>[t.serverURL,t.path],()=>m(),{immediate:!0})}),Rn(()=>h==null?void 0:h()),{config:n,darkmodeStyle:d,i18n:J(()=>n.value.locale),status:s,count:o,page:l,totalPages:a,commentSorting:u,sortingMethods:cc,data:c,reply:g,edit:p,loadMore:()=>b(l.value+1),refresh:m,onSortByChange:f=>{u.value!==f&&(u.value=f,m())},onReply:f=>{g.value=f},onSubmit:f=>{if(p.value)p.value.comment=f.comment,p.value.orig=f.orig;else if(f.rid){const $=c.value.find(({objectId:I})=>I===f.rid);if(!$)return;Array.isArray($.children)||($.children=[]),$.children.push(f)}else c.value.unshift(f)},onStatusChange:async({comment:f,status:$})=>{var R;if(f.status===$)return;const{serverURL:I,lang:A}=n.value;await Ut({serverURL:I,lang:A,token:(R=i.value)==null?void 0:R.token,objectId:f.objectId,status:$}),f.status=$},onDelete:async({objectId:f})=>{var A;if(!confirm("Are you sure you want to delete this comment?"))return;const{serverURL:$,lang:I}=n.value;await(({serverURL:R,lang:O,token:k,objectId:U})=>fetch(`${R}/comment/${U}?lang=${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`}}).then(H=>H.json()).then(H=>vn(H,"Delete comment")))({serverURL:$,lang:I,token:(A=i.value)==null?void 0:A.token,objectId:f}),c.value.some((R,O)=>R.objectId===f?(c.value=c.value.filter((k,U)=>U!==O),!0):R.children.some((k,U)=>k.objectId===f&&(c.value[O].children=R.children.filter((H,se)=>se!==U),!0)))},onSticky:async f=>{var A;if(f.rid)return;const{serverURL:$,lang:I}=n.value;await Ut({serverURL:$,lang:I,token:(A=i.value)==null?void 0:A.token,objectId:f.objectId,sticky:f.sticky?0:1}),f.sticky=!f.sticky},onLike:async f=>{var O;const{serverURL:$,lang:I}=n.value,{objectId:A}=f,R=r.value.includes(A);await Ut({serverURL:$,lang:I,objectId:A,token:(O=i.value)==null?void 0:O.token,like:!R}),R?r.value=r.value.filter(k=>k!==A):(r.value=[...r.value,A],r.value.length>50&&(r.value=r.value.slice(-50))),f.like=(f.like||0)+(R?-1:1)},onEdit:f=>{p.value=f},version:"2.14.1"}}});const fc={"data-waline":""},pc={class:"wl-meta-head"},dc={class:"wl-count"},hc=["textContent"],gc={class:"wl-sort"},mc=["onClick"],wc={class:"wl-cards"},yc={key:1,class:"wl-operation"},vc=["textContent"],bc={key:0,class:"wl-loading"},kc=["textContent"],_c={class:"wl-operation"},xc=["textContent"],Sc={key:3,class:"wl-power"},Cc=x("a",{href:"https://github.com/walinejs/waline",target:"_blank",rel:"noreferrer"}," Waline ",-1);var $c=bt(uc,[["render",function(e,t,n,i,r,s){const o=W("Reaction"),l=W("CommentBox"),a=W("CommentCard"),u=W("LoadingIcon");return w(),v("div",fc,[V(o),e.reply?z("v-if",!0):(w(),Pe(l,{key:0,onSubmit:e.onSubmit},null,8,["onSubmit"])),x("div",pc,[x("div",dc,[e.count?(w(),v("span",{key:0,class:"wl-num",textContent:j(e.count)},null,8,hc)):z("v-if",!0),$e(" "+j(e.i18n.comment),1)]),x("ul",gc,[(w(!0),v(G,null,ce(e.sortingMethods,c=>(w(),v("li",{key:c,class:K([c===e.commentSorting?"active":""]),onClick:g=>e.onSortByChange(c)},j(e.i18n[c]),11,mc))),128))])]),x("div",wc,[(w(!0),v(G,null,ce(e.data,c=>(w(),Pe(a,{key:c.objectId,"root-id":c.objectId,comment:c,reply:e.reply,edit:e.edit,onReply:e.onReply,onEdit:e.onEdit,onSubmit:e.onSubmit,onStatus:e.onStatusChange,onDelete:e.onDelete,onSticky:e.onSticky,onLike:e.onLike},null,8,["root-id","comment","reply","edit","onReply","onEdit","onSubmit","onStatus","onDelete","onSticky","onLike"]))),128))]),e.status==="error"?(w(),v("div",yc,[x("button",{type:"button",class:"wl-btn",onClick:t[0]||(t[0]=(...c)=>e.refresh&&e.refresh(...c)),textContent:j(e.i18n.refresh)},null,8,vc)])):(w(),v(G,{key:2},[e.status==="loading"?(w(),v("div",bc,[V(u,{size:30})])):e.data.length?e.page<e.totalPages?(w(),v(G,{key:2},[z(" Load more button "),x("div",_c,[x("button",{type:"button",class:"wl-btn",onClick:t[1]||(t[1]=(...c)=>e.loadMore&&e.loadMore(...c)),textContent:j(e.i18n.more)},null,8,xc)])],2112)):z("v-if",!0):(w(),v("div",{key:1,class:"wl-empty",textContent:j(e.i18n.sofa)},null,8,kc))],64)),z(" Copyright Information "),e.config.copyright?(w(),v("div",Sc,[$e(" Powered by "),Cc,$e(" v"+j(e.version),1)])):z("v-if",!0)])}],["__file","Waline.vue"]]);const Ic=Ci({__name:"WalineClient",props:{options:null},setup(e){const t=e,n=Lr(),{locale:i}=Tr(),r=jn(()=>t.options.path||n.path.replace(/\/$/,"")),s=jn(()=>jr(t.options.cdn));return(o,l)=>($i(),Ii(Be($c),{"server-u-r-l":e.options.serverURL,lang:Be(i),path:Be(r),dark:Be(Ar),emoji:Be(s)},null,8,["server-u-r-l","lang","path","dark","emoji"]))}});const Ac=Ci({__name:"YunWaline",setup(e){const t=Or();return(n,i)=>{const r=Ic;return $i(),Ii(r,{w:"full",options:Be(t).options},null,8,["options"])}}});export{Ac as default};
