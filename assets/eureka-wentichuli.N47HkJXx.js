import{_ as h}from"./ValaxyMain.vue_vue_type_style_index_0_lang.Ds7uYSjE.js";import"./chunks/@vueuse/motion.BITvz5PP.js";import{e as c,u as f,a as p}from"./chunks/vue-router.DZN_KE5F.js";import{aa as k,ap as n,ag as a,af as l,ai as t,P,ab as b,a1 as v}from"./framework.GHZxz7jq.js";import"./index.D-1obavn.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.C7V8WoQZ.js";import"./chunks/pinia.BfAlK2F6.js";import"./chunks/nprogress.BZwbcB2O.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.DXi5Caec.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fblE3Fel.js";import"./post.BDmJT3LT.js";const E=c("/posts/eureka-wentichuli",async r=>JSON.parse('{"title":"ç”Ÿäº§çŽ¯å¢ƒ Eureka é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§","description":"","frontmatter":{"title":"ç”Ÿäº§çŽ¯å¢ƒ Eureka é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§","categories":"LinuxæŠ€æœ¯","tags":["Eureka"],"date":"2025-09-29 13:36:55"},"headers":[],"relativePath":"pages/posts/eureka-wentichuli.md","lastUpdated":null}'),{lazy:(r,u)=>r.name===u.name}),q={__name:"eureka-wentichuli",setup(r,{expose:u}){const{data:s}=E(),d=p(),m=f(),o=Object.assign(m.meta.frontmatter||{},s.value?.frontmatter||{});return d.currentRoute.value.data=s.value,v("valaxy:frontmatter",o),globalThis.$frontmatter=o,u({frontmatter:{title:"ç”Ÿäº§çŽ¯å¢ƒ Eureka é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§",categories:"LinuxæŠ€æœ¯",tags:["Eureka"],date:"2025-09-29 13:36:55"}}),(e,i)=>{const g=h;return b(),k(g,{frontmatter:P(o)},{"main-content-md":n(()=>[...i[0]||(i[0]=[l("h1",{id:"ðŸ› ï¸-ç”Ÿäº§çŽ¯å¢ƒ-eureka-é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§æ€»ç»“",tabindex:"-1"},[t("ðŸ› ï¸ ç”Ÿäº§çŽ¯å¢ƒ Eureka é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§æ€»ç»“ "),l("a",{class:"header-anchor",href:"#ðŸ› ï¸-ç”Ÿäº§çŽ¯å¢ƒ-eureka-é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§æ€»ç»“","aria-label":'Permalink to "ðŸ› ï¸ ç”Ÿäº§çŽ¯å¢ƒ Eureka é›†ç¾¤æ•…éšœæŽ’æŸ¥ä¸Žæž¶æž„é™çº§æ€»ç»“"'},"â€‹")],-1),l("h2",{id:"ä¸€ã€æ•…éšœæ‘˜è¦ä¸Žæ ¹æœ¬åŽŸå› ",tabindex:"-1"},[t("ä¸€ã€æ•…éšœæ‘˜è¦ä¸Žæ ¹æœ¬åŽŸå›  "),l("a",{class:"header-anchor",href:"#ä¸€ã€æ•…éšœæ‘˜è¦ä¸Žæ ¹æœ¬åŽŸå› ","aria-label":'Permalink to "ä¸€ã€æ•…éšœæ‘˜è¦ä¸Žæ ¹æœ¬åŽŸå› "'},"â€‹")],-1),l("p",null,[l("strong",null,"é—®é¢˜èƒŒæ™¯ï¼š"),t(" 1400 ä¸ªå¾®æœåŠ¡å®žä¾‹åœ¨ Kubernetes é«˜è´Ÿè½½çŽ¯å¢ƒä¸­ï¼Œè¿è¡Œ Spring Cloud Eureka é›†ç¾¤ã€‚é›†ç¾¤è¡¨çŽ°ä¸º"),l("strong",null,"ä¸¥é‡çš„æ³¨å†Œè¡¨ä¸ä¸€è‡´"),t("ï¼ˆéƒ¨åˆ† Pod å®žä¾‹æ•°ä¸º 0ï¼‰ï¼Œå¯¼è‡´æœåŠ¡è°ƒç”¨å¤§é‡ 404 é”™è¯¯ã€‚")],-1),l("p",null,[l("strong",null,"æ ¸å¿ƒç»“è®ºï¼š"),t(),l("strong",null,"Eureka çš„ P2P æœ€ç»ˆä¸€è‡´æ€§æ¨¡åž‹ï¼Œåœ¨é«˜è´Ÿè½½ã€é«˜å¹¶å‘å¿ƒè·³å’Œ K8s å¤æ‚ç½‘ç»œä¸‹ï¼Œè¢«è¯æ˜Žæ˜¯ä¸å¯é çš„ã€‚"),t(" é›†ç¾¤é—´çš„ "),l("strong",null,"P2P å¤åˆ¶é™é»˜å¤±è´¥"),t(" æ˜¯å¯¼è‡´æ•°æ®ä¸¢å¤±çš„æ ¹æœ¬åŽŸå› ã€‚")],-1),l("h2",{id:"äºŒã€æ•…éšœæŽ’æŸ¥çš„å…³é”®é˜¶æ®µä¸Žå‘çŽ°",tabindex:"-1"},[t("äºŒã€æ•…éšœæŽ’æŸ¥çš„å…³é”®é˜¶æ®µä¸Žå‘çŽ° "),l("a",{class:"header-anchor",href:"#äºŒã€æ•…éšœæŽ’æŸ¥çš„å…³é”®é˜¶æ®µä¸Žå‘çŽ°","aria-label":'Permalink to "äºŒã€æ•…éšœæŽ’æŸ¥çš„å…³é”®é˜¶æ®µä¸Žå‘çŽ°"'},"â€‹")],-1),l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"é˜¶æ®µ"),l("th",null,"ç›®æ ‡ä¸Žæ€€ç–‘ç‚¹"),l("th",null,"å…³é”®å‘çŽ°"),l("th",null,"ç»“è®º")])]),l("tbody",null,[l("tr",null,[l("td",null,[l("strong",null,"1. æž¶æž„é…ç½®è‡´å‘½é”™è¯¯")]),l("td",null,"æ£€æŸ¥é›†ç¾¤è§„æ¨¡å’Œ Peer åˆ—è¡¨æ˜¯å¦åŒ¹é…ã€‚"),l("td",null,[l("strong",null,"è‡´å‘½é”™è¯¯ï¼š"),t(" K8s éƒ¨ç½² 5 ä¸ªå‰¯æœ¬ï¼Œä½†å…¶ä¸­4ä¸ªå‰¯æœ¬å¸¸å¸¸æ— æ³•åŒæ­¥å…¨é‡çš„æ³¨å†Œä¿¡æ¯")]),l("td",null,[l("strong",null,"æ•…éšœèµ·æºï¼š"),t(" Eureka é›†ç¾¤æœ¬èº«çš„å¤åˆ¶æœºåˆ¶ Bug")])]),l("tr",null,[l("td",null,[l("strong",null,"2. ç½‘ç»œä¸ŽåŒæ­¥ä¼˜åŒ–")]),l("td",null,"æŽ’é™¤ç½‘ç»œæŠ–åŠ¨å’ŒåŒæ­¥å»¶è¿Ÿçš„å½±å“ã€‚"),l("td",null,[t("P2P è¶…æ—¶ ("),l("strong",null,[l("code",null,"peer-node-read/connect-timeout-ms")]),t(") æå‡è‡³ 5000msã€‚å®¢æˆ·ç«¯æ‹‰å–é—´éš” ("),l("strong",null,[l("code",null,"registry-fetch-interval-seconds")]),t(") é™è‡³ 5 ç§’ã€‚")]),l("td",null,[l("strong",null,"é…ç½®å·²å°½åŠ›ä¼˜åŒ–ã€‚"),t(" å³ä½¿è¶…æ—¶å……è¶³ï¼Œå¤åˆ¶ä»åœ¨â€œé™é»˜å¤±è´¥â€ï¼Œé—®é¢˜ä¸åœ¨å‚æ•°æœ¬èº«ã€‚")])]),l("tr",null,[l("td",null,[l("strong",null,"3. JVM åŽ‹åŠ›æŽ’é™¤")]),l("td",null,"æ£€æŸ¥ GC åœé¡¿æ˜¯å¦å¯¼è‡´å¿ƒè·³å¤„ç†è¶…æ—¶ã€‚"),l("td",null,[t("é€šè¿‡ Actuator æ£€æŸ¥ jvm.gc.pauseã€‚"),l("strong",null,"æœ€å¤§ GC åœé¡¿æ—¶é—´ä»…ä¸º 5ms"),t("ã€‚")]),l("td",null,[l("strong",null,"æŽ’é™¤ JVM æ€§èƒ½é—®é¢˜ã€‚"),t(" Server æ€§èƒ½å……è¶³ï¼Œå¤åˆ¶å¤±è´¥ä¸Ž GC æ— å…³ã€‚")])]),l("tr",null,[l("td",null,[l("strong",null,"4. è¯Šæ–­ç“¶é¢ˆä¸Žè½¬å‘")]),l("td",null,"å°è¯•èŽ·å–é‡åŒ–çš„å¤åˆ¶æˆåŠŸ/å¤±è´¥æŒ‡æ ‡ã€‚"),l("td",null,[t("æ— æ³•é€šè¿‡ Actuator æˆ– JMX èŽ·å– Eureka ä¸“ç”¨æŒ‡æ ‡ã€‚"),l("strong",null,"æŽ’æŸ¥é™·å…¥ç“¶é¢ˆã€‚")]),l("td",null,[l("strong",null,"æœ€ç»ˆè½¬å‘ã€‚"),t(" ç¡®è®¤é—®é¢˜æ— æ³•é€šè¿‡å¸¸è§„ç›‘æŽ§æ‰‹æ®µè¯Šæ–­ï¼Œå¿…é¡»é‡‡ç”¨æž¶æž„é™çº§ã€‚")])])])],-1),l("h2",{id:"ä¸‰ã€æ ¹æœ¬åŽŸå› æ·±åº¦åˆ†æž-æœ€ç»ˆä¸€è‡´æ€§å¤±æ•ˆ",tabindex:"-1"},[t("ä¸‰ã€æ ¹æœ¬åŽŸå› æ·±åº¦åˆ†æžï¼šæœ€ç»ˆä¸€è‡´æ€§å¤±æ•ˆ "),l("a",{class:"header-anchor",href:"#ä¸‰ã€æ ¹æœ¬åŽŸå› æ·±åº¦åˆ†æž-æœ€ç»ˆä¸€è‡´æ€§å¤±æ•ˆ","aria-label":'Permalink to "ä¸‰ã€æ ¹æœ¬åŽŸå› æ·±åº¦åˆ†æžï¼šæœ€ç»ˆä¸€è‡´æ€§å¤±æ•ˆ"'},"â€‹")],-1),l("p",null,[t("åœ¨æŽ’é™¤äº† JVM æ€§èƒ½ç“¶é¢ˆã€ç½‘ç»œè¶…æ—¶å’Œé…ç½®é”™è¯¯åŽï¼Œæœ¬æ¬¡æ•…éšœçš„æ ¹æºåœ¨äºŽï¼š"),l("strong",null,"Eureka æ— æ³•åœ¨é«˜å¹¶å‘ä¸‹ï¼Œæœ‰æ•ˆå¤„ç† K8s çŽ¯å¢ƒä¸­å¤æ‚çš„ç½‘ç»œ I/O é”™è¯¯ã€‚")],-1),l("ol",null,[l("li",null,[l("strong",null,"é™é»˜å¤±è´¥ (Silent Failure)ï¼š"),t(" P2P å¤åˆ¶ä»»åŠ¡åœ¨ 5 ç§’è¶…æ—¶å†…ï¼Œå¯èƒ½å› ç½‘ç»œçž¬é—´æ‹¥å¡žæˆ– HTTP å®¢æˆ·ç«¯é—®é¢˜å¯¼è‡´æ•°æ®ä¼ è¾“ä¸å®Œæ•´ã€‚æŽ¥æ”¶æ–¹ Peer æ”¾å¼ƒæœ¬æ¬¡å¤åˆ¶ï¼Œä½†ä¸ä¼šå‘å‘é€æ–¹ï¼ˆæ•°æ®æºï¼‰è¿”å›žæ¸…æ™°çš„ 404 æˆ– 500 é”™è¯¯ï¼Œå¯¼è‡´å‘é€æ–¹è‡ªè®¤ä¸ºæˆåŠŸã€‚")]),l("li",null,[l("strong",null,"æµé‡å¤±è¡¡åŠ å‰§ï¼š"),t(" å®¢æˆ·ç«¯æµé‡é›†ä¸­åˆ°å°‘æ•° Podï¼ˆå¦‚ Pod 2ï¼‰ï¼Œè¿™äº› Pod å¿…é¡»å¤„ç†æžé«˜çš„å¿ƒè·³è´Ÿè½½ï¼ŒåŒæ—¶è¿˜è¦æ‰§è¡Œ P2P å¤åˆ¶ã€‚è¿™å¯¼è‡´å®ƒä»¬çš„èµ„æºé¦–å…ˆè¢«å¿ƒè·³å ç”¨ï¼Œå¤åˆ¶çº¿ç¨‹è¢«æŒ¤å æˆ–æŽ’é˜Ÿï¼Œæœ€ç»ˆè¶…æ—¶ã€‚")])],-1),l("h2",{id:"å››ã€æœ€ç»ˆè§£å†³æ–¹æ¡ˆ-æž¶æž„é™çº§ä¸ºå•ç‚¹æ¨¡å¼",tabindex:"-1"},[t("å››ã€æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼šæž¶æž„é™çº§ä¸ºå•ç‚¹æ¨¡å¼ "),l("a",{class:"header-anchor",href:"#å››ã€æœ€ç»ˆè§£å†³æ–¹æ¡ˆ-æž¶æž„é™çº§ä¸ºå•ç‚¹æ¨¡å¼","aria-label":'Permalink to "å››ã€æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼šæž¶æž„é™çº§ä¸ºå•ç‚¹æ¨¡å¼"'},"â€‹")],-1),l("p",null,[t("ä¸ºç«‹å³è§£å†³æœåŠ¡å‘çŽ°çš„å¯ç”¨æ€§é—®é¢˜ï¼Œæˆ‘ä»¬å†³å®š"),l("strong",null,"æ”¾å¼ƒ Eureka é›†ç¾¤é«˜å¯ç”¨æ€§"),t("ï¼Œé™çº§åˆ°å•ç‚¹æ¨¡å¼ï¼Œå½»åº•æ¶ˆé™¤ P2P å¤åˆ¶çš„é£Žé™©ã€‚")],-1),l("h3",{id:"_1-æž¶æž„è°ƒæ•´æ­¥éª¤",tabindex:"-1"},[t("1. æž¶æž„è°ƒæ•´æ­¥éª¤ "),l("a",{class:"header-anchor",href:"#_1-æž¶æž„è°ƒæ•´æ­¥éª¤","aria-label":'Permalink to "1. æž¶æž„è°ƒæ•´æ­¥éª¤"'},"â€‹")],-1),l("ol",null,[l("li",null,[l("strong",null,"ä¿®æ”¹ StatefulSetï¼š"),t(" å°† replicas æ•°é‡ä»Ž 5 é™ä¸º "),l("strong",null,"1"),t("ã€‚")]),l("li",null,[l("strong",null,"èµ„æºé”å®šï¼š"),t(" ä¸ºè¿™å”¯ä¸€çš„ Pod æå‡èµ„æºï¼Œç¡®ä¿å…¶é«˜ä¿éšœè¿è¡Œã€‚")]),l("li",null,[l("strong",null,"å®¢æˆ·ç«¯æ›´æ–°ï¼š"),t(" æ‰€æœ‰ 1400 ä¸ªå¾®æœåŠ¡å®¢æˆ·ç«¯çš„ defaultZone "),l("strong",null,"å¿…é¡»åªé…ç½®"),t(" è¯¥å•ç‚¹ Server åœ°å€ã€‚")])],-1),l("h3",{id:"_2-å•ç‚¹-eureka-server-æœ€ç»ˆé…ç½®",tabindex:"-1"},[t("2. å•ç‚¹ Eureka Server æœ€ç»ˆé…ç½® "),l("a",{class:"header-anchor",href:"#_2-å•ç‚¹-eureka-server-æœ€ç»ˆé…ç½®","aria-label":'Permalink to "2. å•ç‚¹ Eureka Server æœ€ç»ˆé…ç½®"'},"â€‹")],-1),l("p",null,"è¯¥é…ç½®æ—¨åœ¨æ¶ˆé™¤ JVM ä¼¸ç¼©å»¶è¿Ÿï¼Œå¹¶æä¾›å……è¶³çš„ CPU æ¥åº”å¯¹ 1400 ä¸ªå®žä¾‹çš„è´Ÿè½½ã€‚",-1),l("table",null,[l("thead",null,[l("tr",null,[l("th",null,"é…ç½®ç±»åˆ«"),l("th",null,"YAML é…ç½®"),l("th",null,"ç›®æ ‡ä¸Žæ„ä¹‰")])]),l("tbody",null,[l("tr",null,[l("td",null,[l("strong",null,"å†…å­˜ Request/Limit")]),l("td",null,"Request: 7Gi, Limit: 8Gi"),l("td",null,"7Gi å®‰å…¨åœ°åŒ…è£¹ 6Gi å †å†…å­˜ã€‚8Gi Limit æ˜¯é˜²æ­¢ K8s OOMKill çš„å±éšœã€‚")]),l("tr",null,[l("td",null,[l("strong",null,"CPU Request/Limit")]),l("td",null,"Request: 4 æ ¸, Limit: 6 æ ¸"),l("td",null,"ç¡®ä¿ GC å’Œé«˜å¹¶å‘ I/O çº¿ç¨‹æ‹¥æœ‰å……è¶³èµ„æºï¼Œé˜²æ­¢å¿ƒè·³å¤„ç†è¢«é™é€Ÿã€‚")]),l("tr",null,[l("td",null,[l("strong",null,"JVM å†…å­˜")]),l("td",null,[l("strong",null,"-Xms6144m -Xmx6144m")]),l("td",null,"é”å®š 6Gi å †å†…å­˜ï¼Œå®žçŽ°æœ€é«˜æ€§èƒ½å’Œæœ€ä½Žå»¶è¿Ÿã€‚")]),l("tr",null,[l("td",null,[l("strong",null,"å…³é”®å¼€å…³")]),l("td",null,"eureka.server.enable-self-preservation=true"),l("td",null,[l("strong",null,"å•ç‚¹æ¨¡å¼ä¸‹çš„ç”Ÿå‘½çº¿ã€‚"),t(" å¯ç”¨è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œé˜²æ­¢ç½‘ç»œçŸ­æš‚éš”ç¦»å¯¼è‡´æ³¨å†Œè¡¨è¢«æ¸…ç©ºã€‚")])])])],-1),l("h2",{id:"äº”ã€è¿ç»´æ€»ç»“ä¸Žé•¿æœŸå»ºè®®",tabindex:"-1"},[t("äº”ã€è¿ç»´æ€»ç»“ä¸Žé•¿æœŸå»ºè®® "),l("a",{class:"header-anchor",href:"#äº”ã€è¿ç»´æ€»ç»“ä¸Žé•¿æœŸå»ºè®®","aria-label":'Permalink to "äº”ã€è¿ç»´æ€»ç»“ä¸Žé•¿æœŸå»ºè®®"'},"â€‹")],-1),l("ul",null,[l("li",null,[l("strong",null,"ç›‘æŽ§è®¤çŸ¥è½¬å˜ï¼š"),t(" å•ç‚¹ Server çš„å†…å­˜ä½¿ç”¨çŽ‡å°†ç¨³å®šåœ¨ 80%âˆ¼90%ï¼Œè¿™æ˜¯ Xms=Xmx é…ç½®ä¸‹"),l("strong",null,"é«˜æ•ˆè¿è¡Œçš„æ­£å¸¸è¡¨çŽ°"),t("ï¼Œä¸åº”è§¦å‘å†…å­˜å‘Šè­¦ã€‚")]),l("li",null,[l("strong",null,"é•¿æœŸå»ºè®®ï¼š"),t(" Eureka çš„æœ€ç»ˆä¸€è‡´æ€§æ¨¡åž‹ä¸é€‚åˆé«˜è´Ÿè½½çš„ K8s çŽ¯å¢ƒã€‚åº”å°†æ³¨æ„åŠ›è½¬å‘åŸºäºŽ "),l("strong",null,"Raft æˆ– Paxos å¼ºä¸€è‡´æ€§åè®®"),t(" çš„æœåŠ¡å‘çŽ°å·¥å…·ï¼Œä¾‹å¦‚ "),l("strong",null,"Nacos æˆ– Consul"),t("ï¼Œä»¥å½»åº•è§£å†³å¯ç”¨æ€§é—®é¢˜ã€‚")])],-1)])]),"main-header":n(()=>[a(e.$slots,"main-header")]),"main-header-after":n(()=>[a(e.$slots,"main-header-after")]),"main-nav":n(()=>[a(e.$slots,"main-nav")]),"main-content-before":n(()=>[a(e.$slots,"main-content-before")]),"main-content":n(()=>[a(e.$slots,"main-content")]),"main-content-after":n(()=>[a(e.$slots,"main-content-after")]),"main-nav-before":n(()=>[a(e.$slots,"main-nav-before")]),"main-nav-after":n(()=>[a(e.$slots,"main-nav-after")]),comment:n(()=>[a(e.$slots,"comment")]),footer:n(()=>[a(e.$slots,"footer")]),aside:n(()=>[a(e.$slots,"aside")]),"aside-custom":n(()=>[a(e.$slots,"aside-custom")]),default:n(()=>[a(e.$slots,"default")]),_:3},8,["frontmatter"])}}};export{q as default,E as usePageData};
