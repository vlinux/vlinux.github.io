import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang.Bth_JSAQ.js";import"./chunks/@vueuse/motion.BITvz5PP.js";import{e as b,u as h,a as f}from"./chunks/vue-router.DpP0leKZ.js";import{aa as g,ap as n,ag as a,af as e,ai as l,P as w,ab as k,a1 as v}from"./framework.GHZxz7jq.js";import"./index.Di1n2b66.js";import"./chunks/dayjs.BldX5ftQ.js";import"./chunks/vue-i18n.C7V8WoQZ.js";import"./chunks/pinia.BfAlK2F6.js";import"./chunks/nprogress.BZwbcB2O.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.BWywLGB4.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.fblE3Fel.js";import"./post.DoKt6roH.js";const y=b("/posts/linux压力测试工具",async o=>JSON.parse('{"title":"linux压力测试工具","description":"","frontmatter":{"title":"linux压力测试工具","categories":"Linux技术","tags":["ab","Webbench","压力测试"],"date":"2020-02-21 12:18:00"},"headers":[],"relativePath":"pages/posts/linux压力测试工具.md","lastUpdated":null}'),{lazy:(o,r)=>o.name===r.name}),D={__name:"linux压力测试工具",setup(o,{expose:r}){const{data:s}=y(),i=f(),p=h(),u=Object.assign(p.meta.frontmatter||{},s.value?.frontmatter||{});return i.currentRoute.value.data=s.value,v("valaxy:frontmatter",u),globalThis.$frontmatter=u,r({frontmatter:{title:"linux压力测试工具",categories:"Linux技术",tags:["ab","Webbench","压力测试"],date:"2020-02-21 12:18:00"}}),(t,c)=>{const m=d;return k(),g(m,{frontmatter:w(u)},{"main-content-md":n(()=>[...c[0]||(c[0]=[e("h2",{id:"ab网站压力测试工具",tabindex:"-1"},[l("ab网站压力测试工具 "),e("a",{class:"header-anchor",href:"#ab网站压力测试工具","aria-label":'Permalink to "ab网站压力测试工具"'},"​")],-1),e("p",null,[l("水一篇~~~~~~~~~~~~~~ "),e("strong",null,"参数：")],-1),e("p",null,[e("strong",null,[l("语法： ab -n 数字 -c 数字 "),e("a",{href:"http://xn--gzu811i",target:"_blank",rel:"noreferrer"},"http://链接")])],-1),e("p",null,[e("code",null,"-n requests Number of requests to perform**")],-1),e("p",null,[l("在测试会话中所执行的请求总个数。默认时，仅执行一个请求 "),e("code",null,"-c concurrency Number of multiple requests to make"),l(" 一次产生的请求个数。默认是一次一个。")],-1),e("p",null,"同时处理1000个请求。 一次要执行1000个并发请求。**",-1),e("p",null,[e("code",null,"ab -n 1000 -c 1000 http://192.168.1.63/index.html**")],-1),e("p",null,"ab命令在一般系统上面做测试时候，一般并发不能超过1024个，其实是因为因为系统限制每个进程打开的最大文件数为1024，可以用ulimit -a来查看",-1),e("p",null,[e("code",null,"ab -n 1000 -c 1000 http://192.168.1.63/index.html")],-1),e("p",null,[e("code",null,"Server Software: Apache/2.2.15 #****被测试的httpd服务器版本：//平台apache 版本2.0.54**")],-1),e("p",null,[e("code",null,"**Server Hostname: 192.168.1.63 //****服务器主机名**")],-1),e("p",null,[e("code",null,"**Server Port: 80 //****服务器端口**")],-1),e("p",null,[e("code",null,"**Document Path: /index.html //****测试的页面文档**")],-1),e("p",null,[e("code",null,"**Document Length: 13 bytes //****文档大小**")],-1),e("p",null,[e("code",null,"**Concurrency****（并发） Level: 1000** **//****并发数**")],-1),e("p",null,[e("code",null,"**Time taken for tests: 2.166 seconds #****整个测试花费的时间**")],-1),e("p",null,[e("code",null,"**Complete requests: 1000** **//****完成的请求数量**")],-1),e("p",null,[e("code",null,"**Failed requests: 0** **//****失败的请求数量**")],-1),e("p",null,[e("code",null,"**Write errors: 0**")],-1),e("p",null,[e("code",null,"**Total transferred: 281120 bytes** **#****整个测试过程中总传输字节数**")],-1),e("p",null,[e("code",null,"**HTML transferred: 13052 bytes #****//****整个场景中的HTML内容传输量**")],-1),e("p",null,[e("code",null,"**Requests per second: 461.77 [#/sec] (mean) #****每秒处理请求数。//大家最关心的指标之一，相当于服务器中的每秒事务数 ，后面括号中的 mean 表示这是一个平均值**")],-1),e("p",null,[e("code",null,"**Time per request: 2165.597 [ms] (mean) #** **//****大家最关心的指标之二，平均请求响应时间 ，后面括号中的 mean 表示这是一个平均值**")],-1),e("p",null,[e("code",null,"**Time per request: 2.166 [ms] (mean, across all concurrent requests)** **#****每个请求的时间：2.166[毫秒]（意思是说，在所有的并发请求） //每个请求实际运行时间的平均值。**")],-1),e("p",null,[e("strong",null,"由于对于并发请求，cpu实际上并不是同时处理的，而是按照每个请求获得的时间片逐个轮转处理的，所以基本上第一个Time per request时间约等于第二个Time per request时间乘以并发请求数")],-1),e("p",null,[e("code",null,"**Transfer rate: 126.77 [Kbytes/sec] received #****传输速率：****//****平均每秒网络上的流量，可以帮助排除是否存在网络流量过大导致响应时间延长的问题**")],-1),e("p",null,[e("code",null,"**Connection Times (ms) #****连接时间（毫秒）**")],-1),e("p",null,[e("code",null,"**min mean[+/-sd] median max # median****（中间）**")],-1),e("h2",{id:"网站压力测试工具-webbench",tabindex:"-1"},[e("strong",null,"网站压力测试工具-Webbench"),l(),e("a",{class:"header-anchor",href:"#网站压力测试工具-webbench","aria-label":'Permalink to "**网站压力测试工具-Webbench**"'},"​")],-1),e("p",null,[l("webbench简介： Webbench是有名的网站压力测试工具，它是由 Lionbridge公司（"),e("a",{href:"http://www.lionbridge.com",target:"_blank",rel:"noreferrer"},"http://www.lionbridge.com"),l("）开发的网站压力测试工具，它能测试处在相同硬件上，不同服务的性能以及不同硬件上同一个服务的运行状况。webbench不但能具有便准静态页面的测试能力，还能对动态页面（ASP,PHP,JAVA,CGI）进行测试的能力。**")],-1),e("p",null,[e("strong",null,[l("官网："),e("a",{href:"http://www.lionbridge.com",target:"_blank",rel:"noreferrer"},"http://www.lionbridge.com")])],-1),e("p",null,"下载并安装webbench：**",-1),e("p",null,[e("code",null,"wget http://www.ha97.com/code/webbench-1.5.tar.gz"),e("code",null,"tar zxvf webbench-1.5.tar.gz** **"),e("code",null,"cd webbench-1.5"),e("code",null,"make**")],-1),e("p",null,[e("code",null,"mkdir -p /usr/local/man/man1 #****不创建这个执行make install报错：**")],-1),e("p",null,[e("code",null,"**install: cannot create regular file /usr/local/man/man1': No such file or directory")],-1),e("p",null,[e("code",null,"**make: \\**\\* [install] Error 1**")],-1),e("p",null,[e("code",null,"make install**")],-1),e("p",null,[e("code",null,"**install -s webbench /usr/local/bin**")],-1),e("p",null,[e("code",null,"**install -m 644 webbench.1 /usr/local/man/man1**")],-1),e("p",null,[e("code",null,"**install -d /usr/local/share/doc/webbench**")],-1),e("p",null,[e("code",null,"**install -m 644 debian/copyright /usr/local/share/doc/webbench**")],-1),e("p",null,[e("code",null,"**install -m 644 debian/changelog /usr/local/share/doc/webbench"),l("**")],-1),e("p",null,[l("进行测试 "),e("code",null,"webbench -h**")],-1),e("p",null,[e("strong",null,"测试参数解释： -c为客户端数，-t为时间(秒)")],-1),e("p",null,[e("strong",null,"实战：当为1个客户端时，持续访问1秒。"),e("code",null,"**webbench -c 1 -t 1 http://192.168.1.63/index.html**")],-1),e("p",null,[e("code",null,"**Webbench - Simple Web Benchmark 1.5**")],-1),e("p",null,[e("code",null,"**Copyright (c) Radim Kolar 1997-2004, GPL Open Source Software.**")],-1),e("p",null,[e("code",null,"**Benchmarking: GET http://192.168.1.63/index.html**")],-1),e("p",null,[e("code",null,"**1 client, running 1 sec.**")],-1),e("p",null,[e("code",null,"**Speed=****38219 pages/min****,** **178080** **bytes/sec.**")],-1),e("p",null,[e("strong",null,[l("#"),e("strong",null,[e("strong",null,"当只有一个客户端时，一分钟可以响应")]),l("38219"),e("strong",null,[e("strong",null,"个页面，1秒可以传输")]),l("178080****字节")])],-1),e("p",null,[e("code",null,"**Requests:** **637** **susceed,** **0** **failed.**")],-1),e("p",null,[e("strong",null,[l("#1"),e("strong",null,[e("strong",null,"个客户端，1秒产生了")]),l("637****个请求，0个失败。")])],-1),e("p",null,"**实战：使用20个客户端并发访问并持续访问10秒",-1),e("p",null,[e("code",null,"webbench -c 20 -t 10 http://192.168.1.63/index.html")],-1),e("p",null,[e("code",null,"Webbench - Simple Web Benchmark 1.5")],-1),e("p",null,[e("code",null,"Copyright (c) Radim Kolar 1997-2004, GPL Open Source Software.")],-1),e("p",null,[e("code",null,"Benchmarking: GET http://192.168.1.63/index.html")],-1),e("p",null,[e("code",null,"**20 clients, running 10 sec.**")],-1),e("p",null,"``",-1),e("p",null,[e("code",null,"**Speed=****397356** **pages/min, 1854384 bytes/sec.")],-1),e("p",null,[e("code",null,"**Requests:** **66226** **susceed, 0 failed.")],-1),e("p",null,"测试注意事项： 1.压力测试工作应该放到产品上线之前，而不是上线以后； 2.webbench 做压力测试时，该软件自身也会消耗CPU和内存资源，为了测试准确，请将 webbench 安装在别的服务器上； 3.测试时尽量跨公网进行，而不是内网； 如果带宽不够时，可以内网测试。 4.测试时并发应当由小逐渐加大，观察一下网站负载及打开是否流畅，直到网站打开缓慢甚至网站完全打不开； 可以一边在linux测试，一个在浏览上打开，查看是否流畅。 5.应尽量进行单元测试，如B2C网站可以着重测试购物车、推广页面等，因为这些页面占整个网站访问量比重较大。**",-1)])]),"main-header":n(()=>[a(t.$slots,"main-header")]),"main-header-after":n(()=>[a(t.$slots,"main-header-after")]),"main-nav":n(()=>[a(t.$slots,"main-nav")]),"main-content-before":n(()=>[a(t.$slots,"main-content-before")]),"main-content":n(()=>[a(t.$slots,"main-content")]),"main-content-after":n(()=>[a(t.$slots,"main-content-after")]),"main-nav-before":n(()=>[a(t.$slots,"main-nav-before")]),"main-nav-after":n(()=>[a(t.$slots,"main-nav-after")]),comment:n(()=>[a(t.$slots,"comment")]),footer:n(()=>[a(t.$slots,"footer")]),aside:n(()=>[a(t.$slots,"aside")]),"aside-custom":n(()=>[a(t.$slots,"aside-custom")]),default:n(()=>[a(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{D as default,y as usePageData};
