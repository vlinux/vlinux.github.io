import{_ as r}from"./ValaxyMain.vue_vue_type_style_index_0_lang.94f229f9.js";import{_ as p,c as y,w as o,o as D,r as e,g as s,R as l,p as C}from"./app.967c1791.js";import"./YunFooter.vue_vue_type_script_setup_true_lang.e1ecd543.js";import"./YunCard.vue_vue_type_style_index_0_lang.f8021fe7.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.2f9ffd44.js";const js=JSON.parse('{"title":"Sersync/lsync\u5B9E\u65F6\u540C\u6B65","description":"","frontmatter":{"title":"Sersync/lsync\u5B9E\u65F6\u540C\u6B65","categories":"Linux\u6280\u672F","tags":["Sersync","Lsync","\u5B9E\u65F6\u540C\u6B65"],"date":"2020-03-12T16:10:00.000Z"},"headers":[{"level":2,"title":"1.\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898:","slug":"_1-\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898","link":"#_1-\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898","children":[]},{"level":2,"title":"2.\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","slug":"_2-\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","link":"#_2-\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","children":[]},{"level":2,"title":"1.\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","slug":"_1-\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","link":"#_1-\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","children":[]},{"level":2,"title":"2.\u5B89\u88C5inotify-tools","slug":"_2-\u5B89\u88C5inotify-tools","link":"#_2-\u5B89\u88C5inotify-tools","children":[]},{"level":2,"title":"3.inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","slug":"_3-inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","link":"#_3-inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","children":[]},{"level":2,"title":"4.\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","slug":"_4-\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","link":"#_4-\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","children":[]},{"level":2,"title":"5.\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","slug":"_5-\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","link":"#_5-\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","children":[]},{"level":2,"title":"6.\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","slug":"_6-\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","link":"#_6-\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","children":[]},{"level":2,"title":"7.inotify\u4F18\u7F3A\u70B9","slug":"_7-inotify\u4F18\u7F3A\u70B9","link":"#_7-inotify\u4F18\u7F3A\u70B9","children":[]},{"level":2,"title":"1.sersync\u4ECB\u7ECD","slug":"_1-sersync\u4ECB\u7ECD","link":"#_1-sersync\u4ECB\u7ECD","children":[]},{"level":2,"title":"2.sersync\u4F18\u70B9","slug":"_2-sersync\u4F18\u70B9","link":"#_2-sersync\u4F18\u70B9","children":[]},{"level":2,"title":"1.\u4E3B\u673A\u89C4\u5212","slug":"_1-\u4E3B\u673A\u89C4\u5212","link":"#_1-\u4E3B\u673A\u89C4\u5212","children":[]},{"level":2,"title":"2.\u5B89\u88C5sersync","slug":"_2-\u5B89\u88C5sersync","link":"#_2-\u5B89\u88C5sersync","children":[]},{"level":2,"title":"3.\u914D\u7F6E\u89E3\u91CA","slug":"_3-\u914D\u7F6E\u89E3\u91CA","link":"#_3-\u914D\u7F6E\u89E3\u91CA","children":[]},{"level":2,"title":"4.\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","slug":"_4-\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","link":"#_4-\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","children":[]},{"level":2,"title":"5.\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","slug":"_5-\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","link":"#_5-\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","children":[]},{"level":2,"title":"6.\u542F\u52A8\u670D\u52A1","slug":"_6-\u542F\u52A8\u670D\u52A1","link":"#_6-\u542F\u52A8\u670D\u52A1","children":[]},{"level":2,"title":"7.\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","slug":"_7-\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","link":"#_7-\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","children":[]},{"level":2,"title":"1.\u5B98\u65B9\u5730\u5740","slug":"_1-\u5B98\u65B9\u5730\u5740","link":"#_1-\u5B98\u65B9\u5730\u5740","children":[]},{"level":2,"title":"2.lsyncd\u4ECB\u7ECD","slug":"_2-lsyncd\u4ECB\u7ECD","link":"#_2-lsyncd\u4ECB\u7ECD","children":[]},{"level":2,"title":"3.lsyncd\u5B89\u88C5","slug":"_3-lsyncd\u5B89\u88C5","link":"#_3-lsyncd\u5B89\u88C5","children":[]},{"level":2,"title":"4.\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","slug":"_4-\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","link":"#_4-\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"5.\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","slug":"_5-\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","link":"#_5-\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","children":[]},{"level":2,"title":"6.\u542F\u52A8\u547D\u4EE4","slug":"_6-\u542F\u52A8\u547D\u4EE4","link":"#_6-\u542F\u52A8\u547D\u4EE4","children":[]},{"level":2,"title":"7.\u68C0\u67E5\u6D4B\u8BD5","slug":"_7-\u68C0\u67E5\u6D4B\u8BD5","link":"#_7-\u68C0\u67E5\u6D4B\u8BD5","children":[]}],"relativePath":"pages/posts/Sersync-lsync\u5B9E\u65F6\u540C\u6B65.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/Sersync-lsync\u5B9E\u65F6\u540C\u6B65.md","lastUpdated":0}'),a=JSON.parse('{"title":"Sersync/lsync\u5B9E\u65F6\u540C\u6B65","description":"","frontmatter":{"title":"Sersync/lsync\u5B9E\u65F6\u540C\u6B65","categories":"Linux\u6280\u672F","tags":["Sersync","Lsync","\u5B9E\u65F6\u540C\u6B65"],"date":"2020-03-12T16:10:00.000Z"},"headers":[{"level":2,"title":"1.\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898:","slug":"_1-\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898","link":"#_1-\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898","children":[]},{"level":2,"title":"2.\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","slug":"_2-\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","link":"#_2-\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","children":[]},{"level":2,"title":"1.\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","slug":"_1-\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","link":"#_1-\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","children":[]},{"level":2,"title":"2.\u5B89\u88C5inotify-tools","slug":"_2-\u5B89\u88C5inotify-tools","link":"#_2-\u5B89\u88C5inotify-tools","children":[]},{"level":2,"title":"3.inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","slug":"_3-inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","link":"#_3-inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","children":[]},{"level":2,"title":"4.\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","slug":"_4-\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","link":"#_4-\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","children":[]},{"level":2,"title":"5.\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","slug":"_5-\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","link":"#_5-\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","children":[]},{"level":2,"title":"6.\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","slug":"_6-\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","link":"#_6-\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","children":[]},{"level":2,"title":"7.inotify\u4F18\u7F3A\u70B9","slug":"_7-inotify\u4F18\u7F3A\u70B9","link":"#_7-inotify\u4F18\u7F3A\u70B9","children":[]},{"level":2,"title":"1.sersync\u4ECB\u7ECD","slug":"_1-sersync\u4ECB\u7ECD","link":"#_1-sersync\u4ECB\u7ECD","children":[]},{"level":2,"title":"2.sersync\u4F18\u70B9","slug":"_2-sersync\u4F18\u70B9","link":"#_2-sersync\u4F18\u70B9","children":[]},{"level":2,"title":"1.\u4E3B\u673A\u89C4\u5212","slug":"_1-\u4E3B\u673A\u89C4\u5212","link":"#_1-\u4E3B\u673A\u89C4\u5212","children":[]},{"level":2,"title":"2.\u5B89\u88C5sersync","slug":"_2-\u5B89\u88C5sersync","link":"#_2-\u5B89\u88C5sersync","children":[]},{"level":2,"title":"3.\u914D\u7F6E\u89E3\u91CA","slug":"_3-\u914D\u7F6E\u89E3\u91CA","link":"#_3-\u914D\u7F6E\u89E3\u91CA","children":[]},{"level":2,"title":"4.\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","slug":"_4-\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","link":"#_4-\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","children":[]},{"level":2,"title":"5.\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","slug":"_5-\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","link":"#_5-\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","children":[]},{"level":2,"title":"6.\u542F\u52A8\u670D\u52A1","slug":"_6-\u542F\u52A8\u670D\u52A1","link":"#_6-\u542F\u52A8\u670D\u52A1","children":[]},{"level":2,"title":"7.\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","slug":"_7-\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","link":"#_7-\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","children":[]},{"level":2,"title":"1.\u5B98\u65B9\u5730\u5740","slug":"_1-\u5B98\u65B9\u5730\u5740","link":"#_1-\u5B98\u65B9\u5730\u5740","children":[]},{"level":2,"title":"2.lsyncd\u4ECB\u7ECD","slug":"_2-lsyncd\u4ECB\u7ECD","link":"#_2-lsyncd\u4ECB\u7ECD","children":[]},{"level":2,"title":"3.lsyncd\u5B89\u88C5","slug":"_3-lsyncd\u5B89\u88C5","link":"#_3-lsyncd\u5B89\u88C5","children":[]},{"level":2,"title":"4.\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","slug":"_4-\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","link":"#_4-\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","children":[]},{"level":2,"title":"5.\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","slug":"_5-\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","link":"#_5-\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","children":[]},{"level":2,"title":"6.\u542F\u52A8\u547D\u4EE4","slug":"_6-\u542F\u52A8\u547D\u4EE4","link":"#_6-\u542F\u52A8\u547D\u4EE4","children":[]},{"level":2,"title":"7.\u68C0\u67E5\u6D4B\u8BD5","slug":"_7-\u68C0\u67E5\u6D4B\u8BD5","link":"#_7-\u68C0\u67E5\u6D4B\u8BD5","children":[]}],"relativePath":"pages/posts/Sersync-lsync\u5B9E\u65F6\u540C\u6B65.md","path":"/Users/vlinux/vlinux/blog/valaxy/valaxy-vlinux/pages/posts/Sersync-lsync\u5B9E\u65F6\u540C\u6B65.md","lastUpdated":0}'),i={name:"pages/posts/Sersync-lsync\u5B9E\u65F6\u540C\u6B65.md",data(){return{data:a,frontmatter:a.frontmatter}},setup(){C("pageData",a)}},F=s("h1",{id:"\u7B2C\u4E00\u7AE0-\u4E3A\u4EC0\u4E48\u9700\u8981\u5B9E\u65F6\u540C\u6B65",tabindex:"-1"},[l("\u7B2C\u4E00\u7AE0 \u4E3A\u4EC0\u4E48\u9700\u8981\u5B9E\u65F6\u540C\u6B65 "),s("a",{class:"header-anchor",href:"#\u7B2C\u4E00\u7AE0-\u4E3A\u4EC0\u4E48\u9700\u8981\u5B9E\u65F6\u540C\u6B65","aria-hidden":"true"},"#")],-1),A=s("h2",{id:"_1-\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898",tabindex:"-1"},[l("1.\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898: "),s("a",{class:"header-anchor",href:"#_1-\u7B2C\u4E8C\u9636\u6BB5\u5B9E\u65F6\u540C\u6B65\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898","aria-hidden":"true"},"#")],-1),d=s("p",null,"\u89E3\u51B3 NFS\u5355\u70B9\u6545\u969C\u95EE\u9898 \u5907\u4EFDNFS\u6570\u636E\u5E76\u4E14\u63D0\u4F9B\u5197\u4F59\u7684\u670D\u52A1\u529F\u80FD",-1),_=s("h2",{id:"_2-\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9",tabindex:"-1"},[l("2.\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9 "),s("a",{class:"header-anchor",href:"#_2-\u5B9E\u65F6\u540C\u6B65\u96BE\u70B9","aria-hidden":"true"},"#")],-1),h=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u4EC0\u4E48\u6761\u4EF6\u624D\u540C\u6B65")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u591A\u4E45\u540C\u6B65\u4E00\u6B21")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u7528\u4EC0\u4E48\u5907\u4EFD\u65B9\u5F0F\u540C\u6B65")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u7528\u4EC0\u4E48\u5DE5\u5177\u540C\u6B65")]),l(`
`),s("span",{class:"line"})])])],-1),u=s("h1",{id:"\u7B2C\u4E8C\u7AE0-inotify\u7B80\u4ECB",tabindex:"-1"},[l("\u7B2C\u4E8C\u7AE0 inotify\u7B80\u4ECB "),s("a",{class:"header-anchor",href:"#\u7B2C\u4E8C\u7AE0-inotify\u7B80\u4ECB","aria-hidden":"true"},"#")],-1),f=s("div",{class:"language-css"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"Inotify\u662F\u4E00\u79CD\u5F3A\u5927\u7684"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u7EC6\u7C92\u5EA6\u7684"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5F02\u6B65\u7684\u6587\u4EF6\u7CFB\u7EDF\u4E8B\u4EF6\u76D1\u89C6\u673A\u5236")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"Linux2"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"6"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"13\u8D77\u52A0\u5165\u4E86inotify\u652F\u6301"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u901A\u8FC7inotify\u53EF\u4EE5\u76D1\u63A7\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u6DFB\u52A0"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5220\u9664"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u4FEE\u6539"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u79FB\u52A8\u7B49\u5404\u79CD\u4E8B\u4EF6")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u5229\u7528\u8FD9\u4E2A\u5185\u6838\u63A5\u53E3"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u7B2C\u4E09\u65B9\u8F6F\u4EF6\u5C31\u53EF\u4EE5\u76D1\u63A7\u6587\u4EF6\u7CFB\u7EDF\u4E0B\u6587\u4EF6\u7684\u5404\u79CD\u53D8\u5316\u60C5\u51B5")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u800Cinotify-tools\u6B63\u662F\u5B9E\u65BD\u8FD9\u6837\u76D1\u63A7\u7684\u8F6F\u4EF6")]),l(`
`),s("span",{class:"line"})])])],-1),g=s("p",null,"\u5173\u7CFB\u56FE",-1),m=s("p",null,[s("img",{src:"http:////upload-images.jianshu.io/upload_images/14248468-e23cc9187ab60ed7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/448/format/webp",alt:"img"})],-1),v=s("h1",{id:"\u7B2C\u4E09\u7AE0-inotify\u5B9E\u65F6\u540C\u6B65",tabindex:"-1"},[l("\u7B2C\u4E09\u7AE0 Inotify\u5B9E\u65F6\u540C\u6B65 "),s("a",{class:"header-anchor",href:"#\u7B2C\u4E09\u7AE0-inotify\u5B9E\u65F6\u540C\u6B65","aria-hidden":"true"},"#")],-1),b=s("h2",{id:"_1-\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify",tabindex:"-1"},[l("1.\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify "),s("a",{class:"header-anchor",href:"#_1-\u67E5\u770B\u5F53\u524D\u7CFB\u7EDF\u662F\u5426\u652F\u6301inotify","aria-hidden":"true"},"#")],-1),x=s("div",{class:"language-csharp"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#FFCB6B"}},"root@nfs"),s("span",{style:{color:"#A6ACCD"}}," ~"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#A6ACCD"}},"# uname "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"r")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"3.10.0"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"862.el7.x86_64")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#FFCB6B"}},"root@nfs"),s("span",{style:{color:"#A6ACCD"}}," ~"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#A6ACCD"}},"# ls "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"l "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"proc"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"sys"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"fs"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"inotify"),s("span",{style:{color:"#89DDFF"}},"/")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"total "),s("span",{style:{color:"#F78C6C"}},"0")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"rw"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#A6ACCD"}}," root root "),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#A6ACCD"}}," Oct "),s("span",{style:{color:"#F78C6C"}},"21"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"10"),s("span",{style:{color:"#A6ACCD"}},":"),s("span",{style:{color:"#F78C6C"}},"47"),s("span",{style:{color:"#A6ACCD"}}," max_queued_events")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"rw"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#A6ACCD"}}," root root "),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#A6ACCD"}}," Oct "),s("span",{style:{color:"#F78C6C"}},"21"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"10"),s("span",{style:{color:"#A6ACCD"}},":"),s("span",{style:{color:"#F78C6C"}},"47"),s("span",{style:{color:"#A6ACCD"}}," max_user_instances")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"rw"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#A6ACCD"}}," root root "),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#A6ACCD"}}," Oct "),s("span",{style:{color:"#F78C6C"}},"21"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"10"),s("span",{style:{color:"#A6ACCD"}},":"),s("span",{style:{color:"#F78C6C"}},"47"),s("span",{style:{color:"#A6ACCD"}}," max_user_watches")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"====="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"=====")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"max_queued_events   "),s("span",{style:{color:"#89DDFF"}},"=====>"),s("span",{style:{color:"#82AAFF"}},"\u8BBE\u7F6Einotify\u5B9E\u4F8B\u4E8B\u4EF6"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"event"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}},"\u961F\u5217\u53EF\u5BB9\u7EB3\u7684\u4E8B\u4EF6\u6570\u91CF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"max_user_instances  "),s("span",{style:{color:"#89DDFF"}},"=====>"),s("span",{style:{color:"#A6ACCD"}},"\u8BBE\u7F6E\u6BCF\u4E2A\u7528\u6237\u53EF\u4EE5\u8FD0\u884C\u7684inotify\u6216\u8005inotifywatch\u547D\u4EE4\u7684\u8FDB\u7A0B\u6570")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"max_user_watches    "),s("span",{style:{color:"#89DDFF"}},"=====>"),s("span",{style:{color:"#82AAFF"}},"\u8BBE\u7F6Einotifywait\u6216\u8005inotifywatch\u547D\u4EE4\u53EF\u4EE5\u76D1\u89C6\u7684\u6587\u4EF6\u6570\u91CF"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"\u5355\u8FDB\u7A0B"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"})])])],-1),k=s("h2",{id:"_2-\u5B89\u88C5inotify-tools",tabindex:"-1"},[l("2.\u5B89\u88C5inotify-tools "),s("a",{class:"header-anchor",href:"#_2-\u5B89\u88C5inotify-tools","aria-hidden":"true"},"#")],-1),E=s("div",{class:"language-csharp"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#FFCB6B"}},"root@nfs"),s("span",{style:{color:"#A6ACCD"}}," ~"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#A6ACCD"}},"# yum install inotify"),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"tools "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"y")]),l(`
`),s("span",{class:"line"})])])],-1),w=s("h2",{id:"_3-inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA",tabindex:"-1"},[l("3.inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA "),s("a",{class:"header-anchor",href:"#_3-inotifywait\u8BE6\u7EC6\u53C2\u6570\u89E3\u91CA","aria-hidden":"true"},"#")],-1),B=s("div",{class:"language-go"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotifywait\u53C2\u6570\u8BF4\u660E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570\u540D\u79F0            \u53C2\u6570\u8BF4\u660E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"m "),s("span",{style:{color:"#89DDFF"}},",-"),s("span",{style:{color:"#A6ACCD"}},"monitor       \u59CB\u7EC8\u4FDD\u6301\u4E8B\u4EF6\u76D1\u542C\u72B6\u6001")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"r"),s("span",{style:{color:"#89DDFF"}},",-"),s("span",{style:{color:"#A6ACCD"}},"recursive      \u9012\u5F52\u67E5\u8BE2\u76EE\u5F55")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"q"),s("span",{style:{color:"#89DDFF"}},",-"),s("span",{style:{color:"#A6ACCD"}},"quiet          \u53EA\u6253\u5370\u76D1\u63A7\u4E8B\u4EF6\u7684\u4FE1\u606F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"exclude           \u6392\u9664\u6587\u4EF6\u6216\u76EE\u5F55\u65F6"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u4E0D\u533A\u5206\u5927\u5C0F\u5199")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"t"),s("span",{style:{color:"#89DDFF"}},",-"),s("span",{style:{color:"#A6ACCD"}},"timeout        \u8D85\u65F6\u65F6\u95F4")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"timefmt          \u6307\u5B9A\u65F6\u95F4\u8F93\u51FA\u683C\u5F0F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"format           \u6307\u5B9A\u8F93\u51FA\u683C\u5F0F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"e"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"event           \u540E\u9762\u6307\u5B9A\u589E"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5220"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u6539\u7B49\u4E8B\u4EF6")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotifywait events \u4E8B\u4EF6\u8BF4\u660E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"access             \u8BFB\u53D6\u6587\u4EF6\u6216\u76EE\u5F55\u5185\u5BB9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"modify             \u4FEE\u6539\u6587\u4EF6\u6216\u76EE\u5F55\u5185\u5BB9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"attrib             \u6587\u4EF6\u6216\u76EE\u5F55\u7684\u5C5E\u6027\u6539\u53D8")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"close_write        \u4FEE\u6539\u771F\u5B9E\u6587\u4EF6\u5185\u5BB9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"close_nowrite   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"close   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"open               \u6587\u4EF6\u6216\u76EE\u5F55\u88AB\u6253\u5F00")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"moved_to           \u6587\u4EF6\u6216\u76EE\u5F55\u79FB\u52A8\u5230")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"moved_from         \u6587\u4EF6\u6216\u76EE\u5F55\u4ECE"),s("span",{style:{color:"#89DDFF"}},"..."),s("span",{style:{color:"#A6ACCD"}},"\u79FB\u52A8\u5230")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"move               \u79FB\u52A8\u6587\u4EF6\u6216\u76EE\u5F55\u79FB\u52A8\u5230\u76D1\u89C6\u76EE\u5F55")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"create             \u5728\u76D1\u89C6\u76EE\u5F55\u4E0B\u521B\u5EFA\u6587\u4EF6\u6216\u76EE\u5F55")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"delete             \u5220\u9664\u76D1\u89C6\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\u6216\u76EE\u5F55")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"delete_self ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"umount             \u5378\u8F7D\u6587\u4EF6\u7CFB\u7EDF")]),l(`
`),s("span",{class:"line"})])])],-1),$=s("h2",{id:"_4-\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570",tabindex:"-1"},[l("4.\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570 "),s("a",{class:"header-anchor",href:"#_4-\u67E5\u770Binotify\u9ED8\u8BA4\u53C2\u6570","aria-hidden":"true"},"#")],-1),S=s("div",{class:"language-ruby"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root"),s("span",{style:{color:"#89DDFF"}},"@"),s("span",{style:{color:"#A6ACCD"}},"nfs01 "),s("span",{style:{color:"#89DDFF"}},"~]"),s("span",{style:{color:"#676E95"}},"# sysctl -a |egrep max_queued_events")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"fs"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"inotify"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"max_queued_events "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"16384")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root"),s("span",{style:{color:"#89DDFF"}},"@"),s("span",{style:{color:"#A6ACCD"}},"nfs01 "),s("span",{style:{color:"#89DDFF"}},"~]"),s("span",{style:{color:"#676E95"}},"#  sysctl -a |egrep max_user_watches")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"fs"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"epoll"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"max_user_watches "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"201256")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"fs"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"inotify"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"max_user_watches "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"8192")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root"),s("span",{style:{color:"#89DDFF"}},"@"),s("span",{style:{color:"#A6ACCD"}},"nfs01 "),s("span",{style:{color:"#89DDFF"}},"~]"),s("span",{style:{color:"#676E95"}},"# sysctl -a |egrep max_user_instances")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"fs"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"inotify"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"max_user_instances "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"128")]),l(`
`),s("span",{class:"line"})])])],-1),q=s("h2",{id:"_5-\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5",tabindex:"-1"},[l("5.\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5 "),s("a",{class:"header-anchor",href:"#_5-\u9488\u5BF9\u4E0A\u8FF0\u547D\u4EE4\u8FDB\u884C\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),N=s("p",null,"\u53C2\u6570\u89E3\u91CA:",-1),L=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"%T   "),s("span",{style:{color:"#676E95"}},"#\u8C03\u7528\u5E76\u663E\u793A\u5B9A\u4E49\u597D\u7684\u65F6\u95F4\u683C\u5F0F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"%w   "),s("span",{style:{color:"#676E95"}},"#\u663E\u793A\u53D1\u751F\u53D8\u5316\u7684\u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"%f   "),s("span",{style:{color:"#676E95"}},"#\u663E\u793A\u76D1\u63A7\u5230\u7684\u6587\u4EF6\u540D\u79F0,\u53BB\u6389\u540E\u53EA\u663E\u793A\u76EE\u5F55\u8DEF\u5F84")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"-e delete,create   "),s("span",{style:{color:"#676E95"}},"#\u6307\u5B9A\u76D1\u63A7\u6587\u4EF6\u53D8\u5316\u7684\u7C7B\u578B ")]),l(`
`),s("span",{class:"line"})])])],-1),P=s("p",null,"1.\u5F00\u542F\u4E24\u4E2A\u7A97\u53E3:\u6D4B\u8BD5create\u548Cdelete",-1),z=s("div",{class:"language-go"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotifywait "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"mrq "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"timefmt "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"%d/%m/%y %H:%M"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"format "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"%T %w%f"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"e delete"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"create "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"backup")]),l(`
`),s("span",{class:"line"})])])],-1),M=s("p",null,"2.\u6D4B\u8BD5close_write",-1),O=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotifywait -mrq --timefmt "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"%d/%m/%y %H:%M"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," --format "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"%w%f"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," -e close_write /backup")]),l(`
`),s("span",{class:"line"})])])],-1),T=s("p",null,"3.\u6253\u5370\u51FA\u4E8B\u4EF6\u7C7B\u578B",-1),U=s("div",{class:"language-go"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotifywait "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"mrq "),s("span",{style:{color:"#89DDFF"}},"--"),s("span",{style:{color:"#A6ACCD"}},"format "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"%w%f %e"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"e delete"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"create "),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"backup")]),l(`
`),s("span",{class:"line"})])])],-1),V=s("h2",{id:"_6-\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6",tabindex:"-1"},[l("6.\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6 "),s("a",{class:"header-anchor",href:"#_6-\u628A\u5BA2\u6237\u7AEF\u76D1\u63A7\u5230\u60C5\u51B5\u51FA\u53D1rsync\u63A8\u9001\u53D8\u5316\u7684\u6587\u4EF6","aria-hidden":"true"},"#")],-1),I=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95"}},"#!/bin/bash ")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"Path=/data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"backup_Server=172.16.1.41")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"export"),s("span",{style:{color:"#A6ACCD"}}," RSYNC_PASSWORD=123456")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"/usr/bin/inotifywait -mrq --format "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"%w%f"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," -e create,close_write,delete /data "),s("span",{style:{color:"#89DDFF"}},"|"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"while"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"read"),s("span",{style:{color:"#A6ACCD"}}," line")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"do")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#82AAFF"}},"echo"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"line"),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"if"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"-f"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"line"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"then")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"       rsync -az "),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"line"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}}," rsync_backup@"),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"backup_Server"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}},"::data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"else")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"       rsync -az --delete /data/ rsync_backup@"),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"backup_Server"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}},"::data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#89DDFF"}},"fi")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"done")]),l(`
`),s("span",{class:"line"})])])],-1),R=s("h2",{id:"_7-inotify\u4F18\u7F3A\u70B9",tabindex:"-1"},[l("7.inotify\u4F18\u7F3A\u70B9 "),s("a",{class:"header-anchor",href:"#_7-inotify\u4F18\u7F3A\u70B9","aria-hidden":"true"},"#")],-1),W=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotify\u4F18\u70B9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"1)\u76D1\u63A7\u6587\u4EF6\u7CFB\u7EDF\u4E8B\u4EF6\u53D8\u5316")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"inotify\u7F3A\u70B9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"1)\u5E76\u53D1\u5982\u679C\u5927\u4E8E200\u4E2A\u6587"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"10-100k"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}},",\u540C\u6B65\u5C31\u4F1A\u7531\u5EF6\u8FDF")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"2)\u6211\u4EEC\u524D\u9762\u7684\u811A\u672C,\u6BCF\u6B21\u90FD\u662F\u5168\u90E8\u63A8\u9001\u4E00\u6B21,\u4F46\u662F\u786E\u5B9E\u662F\u589E\u91CF\u7684,\u4E5F\u53EF\u4EE5\u53EA\u540C\u6B65\u53D8\u5316\u7684\u6587\u4EF6")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"3)\u76D1\u63A7\u5230\u4E8B\u4EF6\u540E,\u8C03\u7528rsync\u540C\u6B65\u662F\u5355\u8FDB\u7A0B"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"\u52A0"),s("span",{style:{color:"#89DDFF"}},"&"),s("span",{style:{color:"#A6ACCD"}},"\u5E76\u53D1"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"4)\u6211\u4EEC\u81EA\u5DF1\u5199\u7684\u811A\u672C\u5065\u58EE\u6027\u4E0D\u9AD8")]),l(`
`),s("span",{class:"line"})])])],-1),H=s("h1",{id:"\u7B2C\u56DB\u7AE0-sersync\u7B80\u4ECB",tabindex:"-1"},[l("\u7B2C\u56DB\u7AE0 sersync\u7B80\u4ECB "),s("a",{class:"header-anchor",href:"#\u7B2C\u56DB\u7AE0-sersync\u7B80\u4ECB","aria-hidden":"true"},"#")],-1),J=s("h2",{id:"_1-sersync\u4ECB\u7ECD",tabindex:"-1"},[l("1.sersync\u4ECB\u7ECD "),s("a",{class:"header-anchor",href:"#_1-sersync\u4ECB\u7ECD","aria-hidden":"true"},"#")],-1),Z=s("p",null,"\u4EE5\u4E0B\u5185\u5BB9\u6458\u6284sersync\u4F5C\u8005\u5B98\u7F51\u7684\u8BF4\u660E",-1),j=s("div",{class:"language-css"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sersync\u4E3B\u8981\u7528\u4E8E\u670D\u52A1\u5668\u540C\u6B65"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"web\u955C\u50CF\u7B49\u529F\u80FD.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u57FA\u4E8Eboost1"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"41"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"0"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"inotify api"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"rsync command\u5F00\u53D1.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u76EE\u524D\u4F7F\u7528\u7684\u6BD4\u8F83\u591A\u7684\u540C\u6B65\u89E3\u51B3\u65B9\u6848\u662Finotify-tools"),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#A6ACCD"}},"rsync")]),l(`
`),s("span",{class:"line"})])])],-1),G=s("h2",{id:"_2-sersync\u4F18\u70B9",tabindex:"-1"},[l("2.sersync\u4F18\u70B9 "),s("a",{class:"header-anchor",href:"#_2-sersync\u4F18\u70B9","aria-hidden":"true"},"#")],-1),Y=s("div",{class:"language-css"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"1"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"sersync\u662F\u4F7F\u7528c"),s("span",{style:{color:"#89DDFF"}},"++"),s("span",{style:{color:"#A6ACCD"}},"\u7F16\u5199"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u800C\u4E14\u5BF9linux\u7CFB\u7EDF\u6587\u4EF6\u7CFB\u7EDF\u4EA7\u751F\u7684\u4E34\u65F6\u6587\u4EF6\u548C\u91CD\u590D\u7684\u6587\u4EF6\u64CD\u4F5C\u8FDB\u884C\u8FC7\u6EE4(\u8BE6\u7EC6\u89C1\u9644\u5F55"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u8FD9\u4E2A\u8FC7\u6EE4\u811A\u672C\u7A0B\u5E8F\u6CA1\u6709\u5B9E\u73B0),\u6240\u4EE5\u7ED3\u5408rsync\u540C\u6B65\u7684\u65F6\u5019"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u8282\u7701\u4E86\u8FD0\u884C\u65F6\u8017\u548C\u7F51\u7EDC\u8D44\u6E90"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u56E0\u6B64\u66F4\u5FEB")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"2"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"\u76F8\u6BD4\u8F83\u4E0A\u9762\u4E24\u4E2A\u9879\u76EE"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"sersync\u914D\u7F6E\u8D77\u6765\u5F88\u7B80\u5355"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5176\u4E2Dbin\u76EE\u5F55\u4E0B\u5DF2\u7ECF\u6709\u57FA\u672C\u4E0A\u9759\u6001\u7F16\u8BD1\u76842\u8FDB\u5236\u6587\u4EF6"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u914D\u5408bin\u76EE\u5F55\u4E0B\u7684xml\u914D\u7F6E\u6587\u4EF6\u76F4\u63A5\u4F7F\u7528\u5373\u53EF.")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"3"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"\u53E6\u5916\u672C\u9879\u76EE\u76F8\u6BD4\u8F83\u5176\u4ED6\u811A\u672C\u5F00\u6E90\u9879\u76EE"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u4F7F\u7528\u591A\u7EBF\u7A0B\u8FDB\u884C\u540C\u6B65"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5C24\u5176\u5728\u540C\u6B65\u8F83\u5927\u6587\u4EF6\u65F6"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u80FD\u591F\u4FDD\u8BC1\u591A\u4E2A\u670D\u52A1\u5668\u4FDD\u6301\u540C\u6B65\u72B6\u6001")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"4"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"\u672C\u9879\u76EE\u6709\u51FA\u9519\u5904\u7406\u673A\u5236"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u901A\u8FC7\u5931\u8D25\u961F\u5217\u5BF9\u51FA\u9519\u7684\u6587\u4EF6\u91CD\u65B0\u540C\u6B65"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5982\u679C\u4ECD\u65E7\u5931\u8D25"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5219\u6BCF10\u4E2A\u5C0F\u65F6\u5BF9\u540C\u6B65\u5931\u8D25\u7684\u6587\u4EF6\u91CD\u65B0\u540C\u6B65")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"5"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"\u672C\u9879\u76EE\u81EA\u5E26crontab\u529F\u80FD"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u53EA\u9700\u5728xml\u914D\u7F6E\u6587\u4EF6\u4E2D\u5F00\u542F"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u5373\u53EF\u6309\u7167\u60A8\u7684\u8981\u6C42"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u9694\u4E00\u6BB5\u65F6\u95F4\u6574\u4F53\u540C\u6B65\u4E00\u6B21"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u65E0\u987B\u5728\u989D\u5916\u914D\u7F6Ecrontab\u529F\u80FD")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"6"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"\u672C\u9879\u76EEsocket\u4E0Ehttp\u63D2\u4EF6\u62D3\u5C55"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"\u6EE1\u8DB3\u60A8\u4E8C\u6B21\u5F00\u53D1\u7684\u9700\u8981.")]),l(`
`),s("span",{class:"line"})])])],-1),K=s("h1",{id:"\u7B2C\u4E94\u7AE0-sersync\u5B89\u88C5\u90E8\u7F72",tabindex:"-1"},[l("\u7B2C\u4E94\u7AE0 sersync\u5B89\u88C5\u90E8\u7F72 "),s("a",{class:"header-anchor",href:"#\u7B2C\u4E94\u7AE0-sersync\u5B89\u88C5\u90E8\u7F72","aria-hidden":"true"},"#")],-1),Q=s("h2",{id:"_1-\u4E3B\u673A\u89C4\u5212",tabindex:"-1"},[l("1.\u4E3B\u673A\u89C4\u5212 "),s("a",{class:"header-anchor",href:"#_1-\u4E3B\u673A\u89C4\u5212","aria-hidden":"true"},"#")],-1),X=s("div",{class:"language-css"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFCB6B"}},"nfs-server"),s("span",{style:{color:"#A6ACCD"}}," 172"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"16"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"1"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"31"),s("span",{style:{color:"#A6ACCD"}}," rsync"),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#A6ACCD"}},"inotify"),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#A6ACCD"}},"sersync  "),s("span",{style:{color:"#FFCB6B"}},"nfs-client")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"backup     172"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"16"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"1"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"41"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"rsync-server"),s("span",{style:{color:"#A6ACCD"}},"           "),s("span",{style:{color:"#FFCB6B"}},"nfs-server")]),l(`
`),s("span",{class:"line"})])])],-1),ss=s("h2",{id:"_2-\u5B89\u88C5sersync",tabindex:"-1"},[l("2.\u5B89\u88C5sersync "),s("a",{class:"header-anchor",href:"#_2-\u5B89\u88C5sersync","aria-hidden":"true"},"#")],-1),ls=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"cd"),s("span",{style:{color:"#A6ACCD"}}," /opt/")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"wget http://down.whsir.com/downloads/sersync2.5.4_64bit_binary_stable_final.tar.gz")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"tar zxf sersync2.5.4_64bit_binary_stable_final.tar.gz")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"mv GNU-Linux-x86 sersync")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"cd"),s("span",{style:{color:"#A6ACCD"}}," sersync")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"cp confxml.xml confxml.xml.bak")]),l(`
`),s("span",{class:"line"})])])],-1),os=s("h2",{id:"_3-\u914D\u7F6E\u89E3\u91CA",tabindex:"-1"},[l("3.\u914D\u7F6E\u89E3\u91CA "),s("a",{class:"header-anchor",href:"#_3-\u914D\u7F6E\u89E3\u91CA","aria-hidden":"true"},"#")],-1),ns=s("div",{class:"language-xml"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"#\u9700\u8981\u76D1\u63A7\u7684\u76EE\u5F55      "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"localpath"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"watch"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"#\u8FDC\u7A0Brsync\u670D\u52A1\u5668\u7684IP\u5730\u5740\u548C\u6A21\u5757\u540D\u79F0   "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"remote"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"ip"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"172.16.1.41"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"name"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"/>"),s("span",{style:{color:"#A6ACCD"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"#rsync\u4F20\u8F93\u7684\u53C2\u6570    "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"commonParams"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"params"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"-az"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"/>"),s("span",{style:{color:"#A6ACCD"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"#rsync\u5BC6\u7801\u6587\u4EF6\u8DEF\u5F84  "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"auth"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"start"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"true"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"users"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"rsync_backup"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"passwordfile"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/etc/rsync.passwd"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"/>"),s("span",{style:{color:"#A6ACCD"}},"    #")]),l(`
`),s("span",{class:"line"})])])],-1),es=s("h2",{id:"_4-\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539",tabindex:"-1"},[l("4.\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539 "),s("a",{class:"header-anchor",href:"#_4-\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539","aria-hidden":"true"},"#")],-1),as=s("div",{class:"language-xml"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 23     "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"sersync"),s("span",{style:{color:"#89DDFF"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 24         "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"localpath"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"watch"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 25             "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"remote"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"ip"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"172.16.1.41"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"name"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"/>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 26             "),s("span",{style:{color:"#676E95"}},'<!--<remote ip="192.168.8.39" name="tongbu"/>-->')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 27             "),s("span",{style:{color:"#676E95"}},'<!--<remote ip="192.168.8.40" name="tongbu"/>-->')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 28         "),s("span",{style:{color:"#89DDFF"}},"</"),s("span",{style:{color:"#F07178"}},"localpath"),s("span",{style:{color:"#89DDFF"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 29         "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"rsync"),s("span",{style:{color:"#89DDFF"}},">")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 30             "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"commonParams"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"params"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"-az"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"/>")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," 31             "),s("span",{style:{color:"#89DDFF"}},"<"),s("span",{style:{color:"#F07178"}},"auth"),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"start"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"true"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"users"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"rsync_backup"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}}," "),s("span",{style:{color:"#C792EA"}},"passwordfile"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/etc/rsync.passwd"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},"/>")]),l(`
`),s("span",{class:"line"})])])],-1),cs=s("h2",{id:"_5-\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E",tabindex:"-1"},[l("5.\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E "),s("a",{class:"header-anchor",href:"#_5-\u67E5\u770B\u5E2E\u52A9\u8BF4\u660E","aria-hidden":"true"},"#")],-1),ts=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root@nfs /opt/sersync"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#676E95"}},"# ./sersync2 -h")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"set"),s("span",{style:{color:"#A6ACCD"}}," the system param")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"execute\uFF1Aecho 50000000 "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," /proc/sys/fs/inotify/max_user_watches")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"execute\uFF1Aecho 327679 "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," /proc/sys/fs/inotify/max_queued_events")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"parse the "),s("span",{style:{color:"#82AAFF"}},"command"),s("span",{style:{color:"#A6ACCD"}}," param")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"_______________________________________________________")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570-d:\u542F\u7528\u5B88\u62A4\u8FDB\u7A0B\u6A21\u5F0F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570-r:\u5728\u76D1\u63A7\u524D\uFF0C\u5C06\u76D1\u63A7\u76EE\u5F55\u4E0E\u8FDC\u7A0B\u4E3B\u673A\u7528rsync\u547D\u4EE4\u63A8\u9001\u4E00\u904D")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"c\u53C2\u6570-n: \u6307\u5B9A\u5F00\u542F\u5B88\u62A4\u7EBF\u7A0B\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u4E3A10\u4E2A")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570-o:\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\uFF0C\u9ED8\u8BA4\u4F7F\u7528confxml.xml\u6587\u4EF6")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570-m:\u5355\u72EC\u542F\u7528\u5176\u4ED6\u6A21\u5757\uFF0C\u4F7F\u7528 -m refreshCDN \u5F00\u542F\u5237\u65B0CDN\u6A21\u5757")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570-m:\u5355\u72EC\u542F\u7528\u5176\u4ED6\u6A21\u5757\uFF0C\u4F7F\u7528 -m socket \u5F00\u542Fsocket\u6A21\u5757")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53C2\u6570-m:\u5355\u72EC\u542F\u7528\u5176\u4ED6\u6A21\u5757\uFF0C\u4F7F\u7528 -m http \u5F00\u542Fhttp\u6A21\u5757")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u4E0D\u52A0-m\u53C2\u6570\uFF0C\u5219\u9ED8\u8BA4\u6267\u884C\u540C\u6B65\u7A0B\u5E8F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"________________________________________________________________")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root@nfs /opt/sersync"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#676E95"}},"# ")]),l(`
`),s("span",{class:"line"})])])],-1),rs=s("h2",{id:"_6-\u542F\u52A8\u670D\u52A1",tabindex:"-1"},[l("6.\u542F\u52A8\u670D\u52A1 "),s("a",{class:"header-anchor",href:"#_6-\u542F\u52A8\u670D\u52A1","aria-hidden":"true"},"#")],-1),ps=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"./sersync2 -rdo confxml.xml")]),l(`
`),s("span",{class:"line"})])])],-1),ys=s("h2",{id:"_7-\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65",tabindex:"-1"},[l("7.\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65 "),s("a",{class:"header-anchor",href:"#_7-\u6D4B\u8BD5\u6570\u636E\u662F\u5426\u540C\u6B65","aria-hidden":"true"},"#")],-1),Ds=s("p",null,"backup\u670D\u52A1\u5668\u64CD\u4F5C\uFF1A",-1),Cs=s("p",null,"1\u79D2\u67E5\u770B\u4E00\u4E0B/data\u76EE\u5F55\u4E0B\u6587\u4EF6\u7684\u4E2A\u6570",-1),is=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"cd"),s("span",{style:{color:"#A6ACCD"}}," /data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"while"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"true"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"do"),s("span",{style:{color:"#A6ACCD"}}," ls "),s("span",{style:{color:"#89DDFF"}},"|"),s("span",{style:{color:"#A6ACCD"}},"wc -l"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#A6ACCD"}},"sleep 0.1"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"done")]),l(`
`),s("span",{class:"line"})])])],-1),Fs=s("p",null,"nfs\u670D\u52A1\u7AEF\u64CD\u4F5C\uFF1A",-1),As=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"cd"),s("span",{style:{color:"#A6ACCD"}}," /data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"for"),s("span",{style:{color:"#A6ACCD"}}," i "),s("span",{style:{color:"#89DDFF"}},"in"),s("span",{style:{color:"#A6ACCD"}}," {1..1000}"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"do"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"echo"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"${'),s("span",{style:{color:"#A6ACCD"}},"i"),s("span",{style:{color:"#89DDFF"}},'}"'),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"echo"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"${'),s("span",{style:{color:"#A6ACCD"}},"i"),s("span",{style:{color:"#89DDFF"}},'}"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"i"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}},".txt"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#A6ACCD"}},"sleep 0.1"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"done")]),l(`
`),s("span",{class:"line"})])])],-1),ds=s("h1",{id:"\u7B2C\u516D\u7AE0-lsyncd\u540C\u6B65",tabindex:"-1"},[l("\u7B2C\u516D\u7AE0 lsyncd\u540C\u6B65 "),s("a",{class:"header-anchor",href:"#\u7B2C\u516D\u7AE0-lsyncd\u540C\u6B65","aria-hidden":"true"},"#")],-1),_s=s("h2",{id:"_1-\u5B98\u65B9\u5730\u5740",tabindex:"-1"},[l("1.\u5B98\u65B9\u5730\u5740 "),s("a",{class:"header-anchor",href:"#_1-\u5B98\u65B9\u5730\u5740","aria-hidden":"true"},"#")],-1),hs=s("div",{class:"language-cpp"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"https:"),s("span",{style:{color:"#676E95"}},"//github.com/axkibe/lsyncd](https://github.com/axkibe/lsyncd")]),l(`
`),s("span",{class:"line"})])])],-1),us=s("h2",{id:"_2-lsyncd\u4ECB\u7ECD",tabindex:"-1"},[l("2.lsyncd\u4ECB\u7ECD "),s("a",{class:"header-anchor",href:"#_2-lsyncd\u4ECB\u7ECD","aria-hidden":"true"},"#")],-1),fs=s("div",{class:"language-css"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"Lysncd \u5B9E\u9645\u4E0A\u662Flua\u8BED\u8A00\u5C01\u88C5\u4E86 inotify \u548C rsync \u5DE5\u5177\uFF0C\u91C7\u7528\u4E86 Linux \u5185\u6838\uFF082"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"6"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#FFCB6B"}},"13"),s("span",{style:{color:"#A6ACCD"}}," \u53CA\u4EE5\u540E\uFF09\u91CC\u7684 inotify \u89E6\u53D1\u673A\u5236\uFF0C\u7136\u540E\u901A\u8FC7rsync\u53BB\u5DEE\u5F02\u540C\u6B65\uFF0C\u8FBE\u5230\u5B9E\u65F6\u7684\u6548\u679C\u3002")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u5B83\u6700\u4EE4\u4EBA\u79F0\u9053\u7684\u7279\u6027\u662F\uFF0C\u5B8C\u7F8E\u89E3\u51B3\u4E86 `inotify "),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#A6ACCD"}}," rsync`\u6D77\u91CF\u6587\u4EF6\u540C\u6B65\u5E26\u6765\u7684\u6587\u4EF6\u9891\u7E41\u53D1\u9001\u6587\u4EF6\u5217\u8868\u7684\u95EE\u9898 \u2014\u2014 \u901A\u8FC7\u65F6\u95F4\u5EF6\u8FDF\u6216\u7D2F\u8BA1\u89E6\u53D1\u4E8B\u4EF6\u6B21\u6570\u5B9E\u73B0\u3002")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u53E6\u5916\uFF0C\u5B83\u7684\u914D\u7F6E\u65B9\u5F0F\u5F88\u7B80\u5355\uFF0Clua\u672C\u8EAB\u5C31\u662F\u4E00\u79CD\u914D\u7F6E\u8BED\u8A00\uFF0C\u53EF\u8BFB\u6027\u975E\u5E38\u5F3A\u3002lsyncd\u4E5F\u6709\u591A\u79CD\u5DE5\u4F5C\u6A21\u5F0F\u53EF\u4EE5\u9009\u62E9\uFF0C\u672C\u5730\u76EE\u5F55cp\uFF0C\u672C\u5730\u76EE\u5F55rsync\uFF0C\u8FDC\u7A0B\u76EE\u5F55rsyncssh\u3002")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"\u5B9E\u73B0\u7B80\u5355\u9AD8\u6548\u7684\u672C\u5730\u76EE\u5F55\u540C\u6B65\u5907\u4EFD\uFF08\u7F51\u7EDC\u5B58\u50A8\u6302\u8F7D\u4E5F\u5F53\u4F5C\u672C\u5730\u76EE\u5F55\uFF09\uFF0C\u4E00\u4E2A\u547D\u4EE4\u641E\u5B9A\u3002")]),l(`
`),s("span",{class:"line"})])])],-1),gs=s("h2",{id:"_3-lsyncd\u5B89\u88C5",tabindex:"-1"},[l("3.lsyncd\u5B89\u88C5 "),s("a",{class:"header-anchor",href:"#_3-lsyncd\u5B89\u88C5","aria-hidden":"true"},"#")],-1),ms=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"yum install lsyncd -y")]),l(`
`),s("span",{class:"line"})])])],-1),vs=s("h2",{id:"_4-\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6",tabindex:"-1"},[l("4.\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6 "),s("a",{class:"header-anchor",href:"#_4-\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6","aria-hidden":"true"},"#")],-1),bs=s("p",null,"\u53EA\u76D1\u63A71\u4E2A\u76EE\u5F55",-1),xs=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root@nfs "),s("span",{style:{color:"#89DDFF"}},"~]"),s("span",{style:{color:"#676E95"}},"# cat /etc/lsyncd.conf")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"settings "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  logfile = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/var/log/lsyncd/lsyncd.log"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  statusFile = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/var/log/lsyncd/lsyncd.status"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  inotifyMode = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"CloseWrite"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  maxProcesses = 8,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sync "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  default.rsync,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#82AAFF"}},"source"),s("span",{style:{color:"#A6ACCD"}}," = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  target = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"rsync_backup@172.16.1.41::data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  delete = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  exclude = "),s("span",{style:{color:"#89DDFF"}},"{"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},".*"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  delay = 1,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  rsync = "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    binary = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/usr/bin/rsync"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    archive = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    compress = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    verbose = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    password_file = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/etc/rsync.passwd"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    _extra = {"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"--bwlimit=200"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),ks=s("p",null,"\u76D1\u63A72\u4E2A\u76EE\u5F55",-1),Es=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"root@nfs "),s("span",{style:{color:"#89DDFF"}},"~]"),s("span",{style:{color:"#676E95"}},"# cat /etc/lsyncd.conf")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"settings "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  logfile = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/var/log/lsyncd/lsyncd.log"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  statusFile = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/var/log/lsyncd/lsyncd.status"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  inotifyMode = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"CloseWrite"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  maxProcesses = 8,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sync "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  default.rsync,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#82AAFF"}},"source"),s("span",{style:{color:"#A6ACCD"}}," = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  target = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"rsync_backup@172.16.1.41::data"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  delete = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  exclude = "),s("span",{style:{color:"#89DDFF"}},"{"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},".*"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  delay = 1,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  rsync = "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    binary = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/usr/bin/rsync"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    archive = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    compress = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    verbose = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    password_file = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/etc/rsync.passwd"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    _extra = {"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"--bwlimit=200"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sync "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  default.rsync,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#82AAFF"}},"source"),s("span",{style:{color:"#A6ACCD"}}," = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/backup"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  target = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"rsync_backup@172.16.1.41::backup"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  delete = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  exclude = "),s("span",{style:{color:"#89DDFF"}},"{"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},".*"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}}," },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  delay = 1,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  rsync = "),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    binary = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/usr/bin/rsync"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    archive = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    compress = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    verbose = true,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    password_file = "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"/etc/rsync.passwd"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    _extra = {"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"--bwlimit=200"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),ws=s("h2",{id:"_5-\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA",tabindex:"-1"},[l("5.\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA "),s("a",{class:"header-anchor",href:"#_5-\u914D\u7F6E\u6587\u4EF6\u89E3\u91CA","aria-hidden":"true"},"#")],-1),Bs=s("p",null,"\u53C2\u8003\u7F51\u53CB\u535A\u5BA2",-1),$s=s("div",{class:"language-ruby"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"https:"),s("span",{style:{color:"#89DDFF"}},"//"),s("span",{style:{color:"#A6ACCD"}},"www"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"cnblogs"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"com"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"zxci"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#82AAFF"}},"p"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#F78C6C"}},"6243574"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"html")]),l(`
`),s("span",{class:"line"})])])],-1),Ss=s("h2",{id:"_6-\u542F\u52A8\u547D\u4EE4",tabindex:"-1"},[l("6.\u542F\u52A8\u547D\u4EE4 "),s("a",{class:"header-anchor",href:"#_6-\u542F\u52A8\u547D\u4EE4","aria-hidden":"true"},"#")],-1),qs=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"systemctl start lsyncd ")]),l(`
`),s("span",{class:"line"})])])],-1),Ns=s("h2",{id:"_7-\u68C0\u67E5\u6D4B\u8BD5",tabindex:"-1"},[l("7.\u68C0\u67E5\u6D4B\u8BD5 "),s("a",{class:"header-anchor",href:"#_7-\u68C0\u67E5\u6D4B\u8BD5","aria-hidden":"true"},"#")],-1),Ls=s("p",null,"backup\u6D4B\u8BD5",-1),Ps=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"cd"),s("span",{style:{color:"#A6ACCD"}}," /data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"while"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"true"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"do"),s("span",{style:{color:"#A6ACCD"}}," ls "),s("span",{style:{color:"#89DDFF"}},"|"),s("span",{style:{color:"#A6ACCD"}},"wc -l"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#A6ACCD"}},"sleep 0.1"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"done")]),l(`
`),s("span",{class:"line"})])])],-1),zs=s("p",null,"NFS\u6D4B\u8BD5",-1),Ms=s("div",{class:"language-bash"},[s("span",{class:"copy"}),s("pre",null,[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"cd"),s("span",{style:{color:"#A6ACCD"}}," /data")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"for"),s("span",{style:{color:"#A6ACCD"}}," i "),s("span",{style:{color:"#89DDFF"}},"in"),s("span",{style:{color:"#A6ACCD"}}," {1..1000}"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"do"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"echo"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"${'),s("span",{style:{color:"#A6ACCD"}},"i"),s("span",{style:{color:"#89DDFF"}},'}"'),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"echo"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"${'),s("span",{style:{color:"#A6ACCD"}},"i"),s("span",{style:{color:"#89DDFF"}},'}"'),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},">"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"${"),s("span",{style:{color:"#A6ACCD"}},"i"),s("span",{style:{color:"#89DDFF"}},"}"),s("span",{style:{color:"#A6ACCD"}},".txt"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#A6ACCD"}},"sleep 0.1"),s("span",{style:{color:"#89DDFF"}},";"),s("span",{style:{color:"#89DDFF"}},"done")]),l(`
`),s("span",{class:"line"})])])],-1);function Os(n,Ts,Us,Vs,c,Is){const t=r;return D(),y(t,{frontmatter:c.frontmatter,data:c.data},{"main-content-md":o(()=>[F,A,d,_,h,u,f,g,m,v,b,x,k,E,w,B,$,S,q,N,L,P,z,M,O,T,U,V,I,R,W,H,J,Z,j,G,Y,K,Q,X,ss,ls,os,ns,es,as,cs,ts,rs,ps,ys,Ds,Cs,is,Fs,As,ds,_s,hs,us,fs,gs,ms,vs,bs,xs,ks,Es,ws,Bs,$s,Ss,qs,Ns,Ls,Ps,zs,Ms]),"main-header":o(()=>[e(n.$slots,"main-header")]),"main-header-after":o(()=>[e(n.$slots,"main-header-after")]),"main-nav":o(()=>[e(n.$slots,"main-nav")]),"main-content":o(()=>[e(n.$slots,"main-content")]),"main-content-after":o(()=>[e(n.$slots,"main-content-after")]),"main-nav-before":o(()=>[e(n.$slots,"main-nav-before")]),"main-nav-after":o(()=>[e(n.$slots,"main-nav-after")]),comment:o(()=>[e(n.$slots,"comment")]),footer:o(()=>[e(n.$slots,"footer")]),aside:o(()=>[e(n.$slots,"aside")]),"aside-custom":o(()=>[e(n.$slots,"aside-custom")]),default:o(()=>[e(n.$slots,"default")]),_:3},8,["frontmatter","data"])}const Gs=p(i,[["render",Os]]);export{js as __pageData,Gs as default};
